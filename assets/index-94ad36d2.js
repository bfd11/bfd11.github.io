import{ay as Xe,r,n as y,o as w,q as s,A as de,dF as Ze,dG as X,dH as be,p as h,F as P,h as C,dB as Je,au as et,L as Y,dI as ue,dJ as tt,t as f,M as at,O as _,a2 as st,a6 as M,y as he,a7 as ot,a8 as nt,dK as pe,J as lt,Q as Z,dL as fe,a9 as se,dM as rt,dN as it,P as U,aa as B,am as ct,an as dt,ao as ut,dO as xe,dP as T,X as k,dQ as $,dR as R,dS as F,dT as j,dU as pt,ab as I,ad as mt,dV as ge,ae as ye,S as O,ak as bt,dW as ht,dX as ft,B as S,aC as xt,ap as gt,aq as yt,ar as Ct,cY as vt,dY as Ce,at as Dt,dZ as wt,al as Nt,d_ as St,b1 as kt,d$ as Tt,cT as Vt,cX as At,a5 as ve,e0 as Mt,e1 as Bt}from"./index-40f6b818.js";import{S as Rt,a as Et,b as Pt,c as $t,d as oe,P as Ft}from"./PieChart-15b66f10.js";import{u as De,i as J,a as we,b as It}from"./resolver-7ecb6420.js";import{I as Ne,S as ee,C as Se,d as Gt}from"./debounce-e05165f3.js";import{T as ne,B as G}from"./BasicTooltipContent-ce7ce547.js";import{S as te,V,o as ke,n as Te,p as Lt,r as Ut,u as Ot}from"./VaultYearlyStat-db23dc2f.js";import{A as Wt}from"./AssetsImage-977f6fc3.js";import{h as Yt,j as A,T as Q,D as Ve,C as jt}from"./PnLGraph-f267c014.js";import{T as Ae}from"./saved-vaults-9d4d2b77.js";import"./PieChart-45aa5486.js";import"./utils-479cb371.js";function ae(a,t){var o,e;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var n=Xe(a);if(!Yt(n))throw new RangeError("Invalid time value");var l=String((o=t==null?void 0:t.format)!==null&&o!==void 0?o:"extended"),i=String((e=t==null?void 0:t.representation)!==null&&e!==void 0?e:"complete");if(l!=="extended"&&l!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(i!=="date"&&i!=="time"&&i!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var c="",d=l==="extended"?"-":"",p=l==="extended"?":":"";if(i!=="time"){var m=A(n.getDate(),2),u=A(n.getMonth()+1,2),b=A(n.getFullYear(),4);c="".concat(b).concat(d).concat(u).concat(d).concat(m)}if(i!=="date"){var x=A(n.getHours(),2),v=A(n.getMinutes(),2),g=A(n.getSeconds(),2),N=c===""?"":" ";c="".concat(c).concat(N).concat(x).concat(p).concat(v).concat(p).concat(g)}return c}const Ht=a=>({container:{backgroundColor:a.palette.background.alternativeFooterHeader,padding:"24px 0 48px 0",[a.breakpoints.down("sm")]:{padding:"24px 0px"}},titleContainer:{display:"flex",justifyContent:"space-between",marginBottom:"24px",[a.breakpoints.down("sm")]:{flexDirection:"column",rowGap:"12px"}},title:{display:"flex",columnGap:"8px",alignItems:"baseline",...a.typography.h1}}),Kt=a=>r.createElement("svg",{width:19,height:20,viewBox:"0 0 19 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},r.createElement("path",{d:"M11.1666 8.5C11.1666 9.88071 8.92805 11 6.16663 11C3.4052 11 1.16663 9.88071 1.16663 8.5M11.1666 8.5C11.1666 7.11929 8.92805 6 6.16663 6C3.4052 6 1.16663 7.11929 1.16663 8.5M11.1666 8.5V12.5M1.16663 8.5V12.5M17.1666 3.5C17.1666 2.11929 14.9281 1 12.1666 1C10.1875 1 8.47699 1.57493 7.66663 2.40897M17.1666 3.5C17.1666 4.42535 16.1611 5.23328 14.6666 5.66554M17.1666 3.5V12C17.1666 12.7403 16.1611 13.3866 14.6666 13.7324M17.1666 8C17.1666 8.75669 16.1161 9.41522 14.5666 9.75498M11.1666 12.5C11.1666 13.8807 8.92805 15 6.16663 15C3.4052 15 1.16663 13.8807 1.16663 12.5M11.1666 12.5V16.5C11.1666 17.8807 8.92805 19 6.16663 19C3.4052 19 1.16663 17.8807 1.16663 16.5V12.5",stroke:"#5C70D6",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),zt=a=>({search:{color:"#D0D0DA",background:"#1B1E31",borderRadius:"8px","&.Mui-focused":{"& .MuiInputBase-input":{width:"400px",[a.breakpoints.down("md")]:{width:"100%"}}},"& .MuiInputBase-input":{minWidth:"200px",transition:"0.2s ease-in-out",padding:"8px 16px",color:"#D0D0DA",height:"auto","&:focus":{color:"#F5F5FF"},"&::placeholder":{color:"#8A8EA8",opacity:1}}},active:{"& .MuiInputBase-input":{width:"400px",[a.breakpoints.down("sm")]:{width:"100%"}}},icon:{background:"transparent",padding:0,border:0,margin:"0 16px 0 0",boxShadow:"none",lineHeight:"inherit",display:"flex",alignItems:"center",flexShrink:0,width:"24px",height:"24px","button&":{cursor:"pointer"}},activeIcon:{color:a.palette.text.primary},disabledIcon:{color:a.palette.text.disabled},flex:{display:"flex"},loader:{margin:"0 16px 0 0"}}),qt=y(a=>({dropdown:{...a.typography["body-lg-med"],display:"flex",flexDirection:"column",alignItems:"center",color:a.palette.text.disabled,padding:"6px 12px",backgroundColor:"#242737",border:"2px solid #30354F",borderRadius:"8px",marginTop:"4px",minWidth:"250px",zIndex:999}})),_t=r.memo(function({userInput:t,inputMode:o,isAddressValid:e,isDomainValid:n,isDomainResolving:l,anchorRef:i}){const c=qt(),{t:d}=w();return!l&&o==="domain"?s(de,{open:!n,placement:"bottom-start",anchorEl:i,className:c.dropdown,display:"flex",autoWidth:!1,children:s("div",{children:d("Dashboard-SearchInput-Invalid-Domain")})}):o==="address"&&t.toLowerCase().startsWith("0x")?s(de,{open:!e,placement:"bottom-start",anchorEl:i,className:c.dropdown,display:"flex",autoWidth:!1,children:s("div",{children:d("Dashboard-SearchInput-Invalid-Address")})}):null}),Me=y(zt),Be=r.memo(function(){const[t,o]=r.useState(""),[e,n]=r.useState("address"),l=De(e==="domain"?t:""),[i,c]=r.useState(!1),[d,p]=r.useState(!1),[m,u]=r.useState(!1),{t:b}=w(),x=Me(),v=r.useRef(),g=Ze(),N=r.useCallback(q=>{const ce=q.target.value;X(ce)?n("domain"):n("address"),o(ce)},[o,n]),D=r.useCallback(()=>{o(""),n("address")},[]),z=r.useMemo(()=>e==="address"&&be(t),[e,t]),L=r.useMemo(()=>z||i,[z,i]),qe=r.useCallback(q=>{q.key==="Enter"&&L&&(g.push(`/dashboard/${t}`),D())},[t,D,g,L]),_e=r.useCallback(()=>{u(!0)},[u]),Qe=r.useCallback(()=>{u(!1)},[u]);return r.useEffect(()=>{X(t)?n("domain"):n("address")},[t,n]),r.useEffect(()=>{e==="domain"?J(l)?(c(!0),p(!1)):we(l)?(c(!1),p(!1)):(c(!1),p(!0)):(c(!1),p(!1))},[e,l,c,p]),h(P,{children:[s(Ne,{ref:v,className:C(x.search,{[x.active]:t.length!==0}),value:t,onChange:N,onFocus:_e,onBlur:Qe,fullWidth:!0,onKeyPress:qe,endAdornment:s(Qt,{domainResolving:d,isValid:L,userInput:t,handleClear:D,inputMode:e}),placeholder:b("Dashboard-SearchInput-Placeholder")}),m&&!L&&t.length>0&&!It(l)&&!J(l)?s(_t,{userInput:t,anchorRef:v,inputMode:e,isAddressValid:z,isDomainValid:i,isDomainResolving:d}):null]})}),Qt=r.memo(function({isValid:t,userInput:o,handleClear:e,domainResolving:n,inputMode:l}){const i=Me();return n&&l==="domain"?s("div",{className:i.flex,children:s(Je,{disableShrink:!0,thickness:4,size:23,className:C(i.loader,i.disabledIcon)})}):t?s(et,{onClick:e,className:C(i.icon,i.activeIcon),"aria-disabled":t,to:`/dashboard/${o}`,children:s(ee,{})}):o.length!==0?s("button",{onClick:e,className:C(i.icon,i.activeIcon),children:s(Se,{})}):s("div",{className:C(i.icon,i.disabledIcon),children:s(ee,{})})}),Xt=a=>({shortAddress:{...a.typography.h3,color:a.palette.text.disabled},longAddress:{[a.breakpoints.down("xs")]:{...a.typography["body-sm"]}},triggerClass:{"&:hover":{cursor:"pointer"}},tooltipContent:{"&:hover":{cursor:"pointer"},[a.breakpoints.up("xs")]:{maxWidth:"min(100%, 450px)"}}}),Zt=y(Xt),Jt=r.memo(function({address:t,addressLabel:o}){const e=Zt(),{t:n}=w(),[l,i]=r.useState(!1),c=Y(m=>m.breakpoints.up("sm"),{noSsr:!0}),d=r.useCallback(()=>{i(!0),navigator.clipboard.writeText(t)},[t,i]),p=r.useMemo(()=>o?c?ue(o,20):ue(o):tt(t),[o,t,c]);return r.useEffect(()=>{if(l){const m=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(m)}},[l,i]),t?s(ne,{onClick:d,contentClass:e.longAddress,triggerClass:e.triggerClass,tooltipClass:e.tooltipContent,children:s("div",{className:e.shortAddress,children:`(${p})`}),content:l?n("Clipboard-Copied"):t}):null}),ea=y(Ht),ta=r.memo(function({address:t,addressLabel:o}){const{t:e}=w(),n=ea(),l=f(c=>at(c,t)),i=r.useMemo(()=>[{title:e("Summary-Deposit"),value:_(l.deposited),Icon:Rt},{title:e("Summary-Vaults"),value:`${l.depositedVaults}`,Icon:Et},{title:e("MONTHLY YIELD"),value:_(l.daily*30),Icon:Kt},{title:e("Summary-Daily"),value:_(l.daily),Icon:Pt}],[e,l.deposited,l.depositedVaults,l.daily]);return s("div",{className:n.container,children:h(st,{maxWidth:"lg",children:[h("div",{className:n.titleContainer,children:[h("div",{className:n.title,children:[e("Dashboard-Title"),s(Jt,{address:t,addressLabel:o})]}),s("div",{children:s(Be,{})})]}),s($t,{items:i})]})})}),aa=a=>({container:{backgroundColor:a.palette.background.v2.cardBg,padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",rowGap:"24px",borderRadius:"8px"},icon:{width:"120px",height:"120px",[a.breakpoints.up("md")]:{width:"132px",height:"132px"}},textContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",rowGap:"4px"},title:{...a.typography.h3,color:a.palette.text.primary},text:{...a.typography["body-lg"],color:a.palette.text.secondary,textAlign:"center"},actionsContainer:{display:"grid",gap:"12px"},dividerContainer:{display:"flex",alignItems:"center",columnGap:"8px",width:"250px"},line:{height:"2px",width:"100%",backgroundColor:"#2D3153",borderRadius:"8px"},btn:{width:"100%",padding:"6px 12px",maxWidth:"250px"},or:{...a.typography["subline-sm"],color:a.palette.text.disabled},center:{display:"flex",justifyContent:"center"}}),sa="/assets/empty-state-fc732c84.svg",le=y(aa),Re=r.memo(function(){const{t}=w(),o=f(M);return s(H,{title:t("Dashboard-Title-InvalidDomain"),text:t(o?"Dashboard-Text-InvalidDomain-Connected":"Dashboard-Text-InvalidDomain"),connectedAction:"dashboard"})}),oa=r.memo(function(){const{t}=w(),o=f(M);return s(H,{title:t("Dashboard-Title-InvalidAddress"),text:t(o?"Dashboard-Text-InvalidAddress-Connected":"Dashboard-Text-InvalidAddress"),connectedAction:"dashboard"})}),na=r.memo(function(){const{t}=w();return s(H,{title:t("Dashboard-Title-NoAddress"),text:t("Dashboard-Text-NoAddress")})}),la=r.memo(function({title:t,address:o}){const{t:e}=w(),n=f(M),l=r.useMemo(()=>o&&n&&o.toLowerCase()===n.toLowerCase(),[o,n]);return s(H,{title:t,text:e(l?"Dashboard-Text-NoData-ViewingConnected":n?"Dashboard-Text-NoData-Connected":"Dashboard-Text-NoData"),connectedAction:l?"vaults":"dashboard"})}),H=r.memo(function({title:t,text:o,connectedAction:e="vaults"}){const n=le();return s(oe,{children:h("div",{className:n.container,children:[s("div",{children:s("img",{className:n.icon,src:sa,alt:"empty"})}),h("div",{className:n.textContainer,children:[s("div",{className:n.title,children:t}),o?s("div",{className:n.text,children:o}):null]}),s(ra,{connectedAction:e})]})})}),ra=r.memo(function({connectedAction:t}){const{t:o}=w(),e=f(M),n=le(),l=he(),i=r.useCallback(()=>{l(e?ot():nt())},[l,e]);return h("div",{className:n.actionsContainer,children:[s("div",{className:n.center,children:e?t==="dashboard"?s(pe,{className:n.btn,to:`/dashboard/${e}`,variant:"success",children:o("NoResults-ViewConnectedDashboard")}):s(pe,{className:n.btn,to:"/",variant:"success",children:o("NoResults-ViewAllVaults")}):s(lt,{className:n.btn,onClick:i,variant:"success",children:o("NoResults-ConnectWallet")})}),s(ia,{}),s(Be,{})]})}),ia=r.memo(function(){const t=le();return s("div",{className:t.center,children:h("div",{className:t.dividerContainer,children:[s("div",{className:t.line}),s("div",{className:t.or,children:"OR"}),s("div",{className:t.line})]})})}),ca=a=>({itemsContainer:{display:"flex",flexDirection:"column",rowGap:"8px",width:"100%"},item:{display:"flex",alignItems:"center",justifyContent:"space-between",columnGap:"4px"},square:{width:"12px",height:"12px",borderRadius:"2px"},label:{...a.typography["body-sm-med"],color:"#D0D0DA",textTransform:"uppercase",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:"90%"},value:{...a.typography["body-sm"],color:"#999CB3"},flex:{display:"flex",alignItems:"center",columnGap:"8px"}}),da=y(ca),ua=["#5C70D6","#5C99D6","#5CC2D6","#5CD6AD","#70D65C","#7FB24D"],pa=r.memo(function({data:t}){const o=da();return s("div",{className:o.itemsContainer,children:t.map((e,n)=>h("div",{className:o.item,children:[h("div",{className:o.flex,children:[s("div",{style:{backgroundColor:ua[n%t.length]},className:o.square}),s("div",{className:o.label,children:e.label??e.key})]}),s("div",{className:o.value,children:Z(e.percentage)})]},e.key))})}),ma=a=>({container:{padding:"16px 24px",borderRadius:"8px",backgroundColor:a.palette.background.v2.cardBg,[a.breakpoints.down("md")]:{padding:"16px"},[a.breakpoints.down("sm")]:{padding:"0px"}},infoContainer:{display:"flex",columnGap:"24px",justifyContent:"center",alignItems:"center","& .recharts-surface:focus":{outline:"none"}},title:{...a.typography["body-lg-med"],color:a.palette.text.secondary,marginBottom:"24px"}}),ba=y(ma),re=r.memo(function({title:t,data:o,type:e}){const n=ba();return h("div",{className:n.container,children:[t&&s("div",{className:n.title,children:t}),o&&h("div",{className:n.infoContainer,children:[s(Ft,{data:o,type:e}),s(pa,{data:o})]})]})}),ha=r.memo(function({title:t,address:o}){const e=f(n=>fe(n,"chainId",o));return s(re,{title:t,type:"chain",data:e})}),Ee=r.memo(function({title:t,address:o}){return f(n=>se(n,o))?s(ha,{address:o,title:t}):null}),fa=r.memo(function({title:t,address:o}){const e=f(n=>fe(n,"platformId",o));return s(re,{title:t,type:"platform",data:e})}),Pe=r.memo(function({title:t,address:o}){return f(n=>se(n,o))?s(fa,{address:o,title:t}):null}),xa=a=>({container:{width:"100%",padding:"16px 24px",backgroundColor:a.palette.background.v2.cardBg,borderRadius:"8px",display:"grid",rowGap:"16px",[a.breakpoints.only("md")]:{height:"120px"},[a.breakpoints.down("md")]:{padding:"16px"}},title:{...a.typography["body-lg-med"],color:a.palette.text.primary},bar:{height:"12px",width:"100%",backgroundColor:"#C2D65C",borderRadius:"80px"},stableBar:{height:"100%",width:t=>t.stablesPercentage,borderRadius:t=>t.stablesPercentage==="100%"?"80px":"80px 0px 0px 80px",borderRight:t=>t.stablesPercentage==="100%"?"none":"2px solid #242842",backgroundColor:"#3D5CF5"},legendContainer:{display:"flex",columnGap:"32px"},legendItem:{display:"flex",columnGap:"8px",alignItems:"center"},square:{height:"12px",width:"12px",borderRadius:"2px"},label:{...a.typography["body-sm-med"],color:"#D0D0DA",textTransform:"capitalize","& span":{...a.typography["body-sm"],color:"#999CB3",marginLeft:"4px"}}}),ga=y(xa),me=r.memo(function({address:t}){var i;const{t:o}=w(),e=f(c=>rt(c,t)),n=e.filter(c=>c.key==="stable"),l=ga({stablesPercentage:Z((i=n[0])==null?void 0:i.percentage,0,"0%")});return h("div",{className:l.container,children:[s("div",{className:l.title,children:o("Exposure-Stables")}),s("div",{className:l.bar,children:s("div",{className:l.stableBar})}),s("div",{className:l.legendContainer,children:e.map(c=>h("div",{className:l.legendItem,children:[s("div",{className:l.square,style:{backgroundColor:c.color}}),h("div",{className:l.label,children:[c.key," ",s("span",{children:Z(c.percentage,2,"0%")})]})]},c.key))})]})}),ya=r.memo(function({title:t,address:o}){const e=f(n=>it(n,o));return s(re,{title:t,type:"token",data:e})}),$e=r.memo(function({title:t,address:o}){return f(n=>se(n,o))?s(ya,{address:o,title:t}):null}),Ca=a=>({pieChartsContainer:{marginBottom:"24px",display:"grid",gridTemplateColumns:"repeat(3,1fr)",columnGap:"24px",rowGap:"24px",[a.breakpoints.down("md")]:{gridTemplateColumns:"repeat(2,1fr)"},[a.breakpoints.down("sm")]:{gridTemplateColumns:"1fr"}}}),va=a=>({container:{width:"100%",backgroundColor:a.palette.background.v2.cardBg,borderRadius:"8px",display:"grid",padding:"16px",[a.breakpoints.only("md")]:{height:"120px"}},option:{...a.typography["body-lg-med"],color:a.palette.text.disabled,whiteSpace:"nowrap","&:hover":{color:a.palette.text.primary,cursor:"pointer"}},active:{color:a.palette.text.primary},optionsContainer:{display:"flex",gap:"12px",marginBottom:"16px",[a.breakpoints.down("sm")]:{marginBottom:"24px"}}}),Da={[2]:$e,[1]:Ee,[3]:Pe},wa=y(va),Na=r.memo(function({address:t}){const{t:o}=w(),e=wa(),n=r.useMemo(()=>[{key:"tokenExposure",value:2,text:o("Tokens")},{key:"chainExposure",value:1,text:o("Chains")},{key:"availabilityExposure",value:3,text:o("Exposure-Platform")}],[o]),[l,i]=r.useState(2),c=r.useMemo(()=>Da[l],[l]);return h("div",{className:e.container,children:[s("div",{className:e.optionsContainer,children:n.map(d=>s("div",{onClick:()=>i(d.value),className:C(e.option,{[e.active]:d.value===l}),children:d.text},d.key))}),s(c,{address:t})]})}),Sa=y(Ca),ka=r.memo(function({address:t}){const{t:o}=w(),e=Sa();return h(oe,{title:o("Overview"),children:[h("div",{className:e.pieChartsContainer,children:[h(U,{smDown:!0,children:[s(Ee,{address:t,title:o("Exposure-Chain")}),s(Pe,{address:t,title:o("Exposure-Platform")}),s($e,{address:t,title:o("Exposure-Tokens")})]}),s(U,{mdUp:!0,children:s(Na,{address:t})}),s(U,{lgUp:!0,children:s(me,{address:t})})]}),s(U,{mdDown:!0,children:s(me,{address:t})})]})}),Ta=()=>({container:{display:"grid",gridTemplateColumns:"minmax(0, 1fr)",rowGap:"2px",marginTop:"2px","& div:last-child":{"& .lastBorderRadius":{borderRadius:"0px 0px 8px 8px"}}}}),Va=a=>({container:{backgroundColor:a.palette.background.v2.filter,borderRadius:"8px 8px 0px 0px",padding:"16px",display:"grid",width:"100%",columnGap:"8px",backgroundClip:"padding-box",gridTemplateColumns:"minmax(0, 30fr) minmax(0, 70fr)",[a.breakpoints.down("sm")]:{gridTemplateColumns:"minmax(0, 70fr) minmax(0, 30fr)"}},sortColumns:{display:"grid",width:"100%",columnGap:"8px",gridTemplateColumns:"repeat(1, minmax(0, 1fr))",[a.breakpoints.up("md")]:{gridTemplateColumns:"repeat(4, minmax(0, 1fr))"},[a.breakpoints.up("lg")]:{gridTemplateColumns:"repeat(6, minmax(0, 1fr))"}},search:{color:a.palette.text.dark,background:"#07080D",borderRadius:"8px","& .MuiInputBase-input":{padding:"8px 16px",color:a.palette.text.dark,height:"auto","&:focus":{color:"#F5F5FF"},"&::placeholder":{color:"#8A8EA8",opacity:1}}},icon:{background:"transparent",padding:0,border:0,margin:"0 16px 0 0",boxShadow:"none",lineHeight:"inherit",display:"flex",alignItems:"center",color:"#D0D0DA",flexShrink:0,width:"24px",height:"24px","button&":{cursor:"pointer"}},hideSm:{display:"none",[a.breakpoints.up("md")]:{display:"flex"}},hideMd:{display:"none",[a.breakpoints.up("lg")]:{display:"flex"}}}),ie=y(Va),Aa=r.memo(function({sortOptions:t,handleSort:o,handleSearchText:e,searchText:n,handleClearText:l}){const i=ie();return h("div",{className:i.container,children:[s(Ma,{handleSearchText:e,searchText:n,handleClearText:l}),s(Ra,{sortOptions:t,handleSort:o})]})}),Ma=r.memo(function({handleSearchText:t,searchText:o,handleClearText:e}){const{t:n}=w(),l=ie(),i=o.length,c=l.icon,d=r.useMemo(()=>i===0?s("div",{className:c,children:s(ee,{})}):s("button",{onClick:e,className:c,children:s(Se,{})}),[i,c,e]);return s(Ne,{className:l.search,value:o,onChange:t,fullWidth:!0,endAdornment:d,placeholder:n("Filter-Search")})}),Ba=[{label:"Dashboard-Filter-AtDeposit",sortKey:"atDeposit",className:"hideSm"},{label:"Dashboard-Filter-Now",sortKey:"now",className:"hideSm"},{label:"Dashboard-Filter-Yield",sortKey:"yield",className:"hideSm"},{label:"Dashboard-Filter-Pnl",sortKey:"pnl"},{label:"Dashboard-Filter-Apy",sortKey:"apy",className:"hideMd"},{label:"Dashboard-Filter-DailyYield",sortKey:"dailyYield",className:"hideMd"}],Ra=r.memo(function({sortOptions:t,handleSort:o}){const e=ie(),{sort:n,sortDirection:l}=t;return s("div",{className:e.sortColumns,children:Ba.map(({label:i,sortKey:c,className:d})=>s(te,{label:i,sortKey:c,sorted:n===c?l:"none",onChange:o,className:d?e[d]:""},i))})}),Ea=a=>({vault:{display:"grid",position:"relative",color:"#9595B2",background:a.palette.background.v2.cardBg,padding:"24px 16px",textDecoration:"none","&:last-child":{borderBottom:0,borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",backgroundClip:"padding-box"},"&:hover":{cursor:"pointer"}},vaultInner:{display:"grid",gridTemplateColumns:"minmax(0, 30fr) minmax(0, 70fr)",columnGap:"8px",width:"100%",[a.breakpoints.down("sm")]:{gridTemplateColumns:"minmax(0, 80fr) minmax(0, 20fr)"}},network:{border:"none",top:0,left:0,width:"26px",height:"26px"},collapseInner:{display:"flex",flexDirection:"column",rowGap:"16px",backgroundColor:a.palette.background.appBG,padding:"16px 24px",marginTop:"2px",[a.breakpoints.down("md")]:{padding:"16px"}},vaultEarnings:{backgroundColor:"#322460"},vaultPaused:{backgroundColor:"rgba(209, 83, 71, 0.05)"},vaultRetired:{backgroundColor:"#242032"},toggleContainer:{padding:"16px",backgroundColor:a.palette.background.appBG,display:"flex",justifyContent:"center"},activeClassName:{backgroundColor:a.palette.primary.main},buttonText:{...a.typography["body-sm-med"]}}),Fe=r.memo(B(Pa)(V));function Pa(a,{vaultId:t,className:o,triggerClassName:e,walletAddress:n}){const l="Dashboard-Filter-DailyYield";if(!ct(a,t))return{label:l,value:"-",subValue:null,blur:!1,loading:!1,className:o??""};const c=dt(a,t);if(!c)return{label:l,value:"-",subValue:null,blur:!1,loading:!0,className:o??""};if(!ut(a,t))return{label:l,value:"???",subValue:null,blur:!1,loading:!1,className:o??""};const{dailyTokens:p,dailyUsd:m,oraclePrice:u,tokenDecimals:b}=xe(a,t,n);return{label:l,value:T(p,b,u,0,2),subValue:k(m),blur:!1,loading:!c,boosted:!1,tooltip:s(G,{title:$(p,b)}),className:o??"",triggerClassName:e??""}}const $a=r.memo(B(Fa)(V));function Fa(a,{vaultId:t,className:o,pnlData:e,walletAddress:n}){const l="-",i=R(a,t,n),c=F(a,n);if(!i)return{label:l,value:"-",subValue:null,blur:!1,loading:!1,className:o??""};if(!c)return{label:l,value:"-",subValue:null,blur:!1,loading:!0,className:o??""};const{totalPnlUsd:d}=e;return{label:l,value:k(d),subValue:null,blur:!1,loading:!c,boosted:!1,tooltip:null,className:o??""}}const Ie=r.memo(B(Ia)(V));function Ia(a,{vaultId:t,className:o,pnlData:e,walletAddress:n}){const l="VaultStat-AtDeposit",i=R(a,t,n),c=F(a,n);if(!i)return{label:l,value:"-",subValue:null,blur:!1,loading:!1,className:o??""};if(!c)return{label:l,value:"-",subValue:null,blur:!1,loading:!0,className:o??""};const{balanceAtDeposit:d,usdBalanceAtDeposit:p,oraclePriceAtDeposit:m,tokenDecimals:u}=e;return{label:l,value:T(d,u,m,0,2),subValue:k(p),blur:!1,loading:!c,boosted:!1,tooltip:s(G,{title:$(d,u)}),className:o??""}}const Ge=r.memo(B(Ga)(V));function Ga(a,{vaultId:t,className:o,pnlData:e,walletAddress:n}){const l="VaultStat-Now",i=R(a,t,n),c=F(a,n);if(!i)return{label:l,value:"-",subValue:null,blur:!1,loading:!1,className:o??""};if(!c)return{label:l,value:"-",subValue:null,blur:!1,loading:!0,className:o??""};const{deposit:d,depositUsd:p,oraclePrice:m,tokenDecimals:u}=e;return{label:l,value:T(d,u,m,0,2),subValue:k(p),blur:!1,loading:!c,boosted:!1,tooltip:s(G,{title:$(d,u)}),className:o??""}}const La=a=>({container:{display:"flex",alignItems:"center",columnGap:"4px",...a.typography["body-lg-med"],color:a.palette.text.secondary},tooltipTitle:{...a.typography["subline-sm"],fontWeight:700,color:"#73768C"},rewardsContainer:{display:"flex",flexDirection:"column",rowGap:"4px"},rewardsText:{...a.typography["body-lg-med"],color:"#363C63"},usdPrice:{...a.typography["subline-sm"],fontWeight:700,color:"#73768C"}}),Le=y(La),Ue=r.memo(function({vaultId:t,size:o=20,walletAddress:e}){const n=Le(),{rewards:l,rewardsTokens:i}=f(c=>j(c,t,e));return l.length===0?null:s(ne,{content:s(Ua,{rewards:l}),children:s("div",{className:n.container,children:s(Wt,{chainId:t,size:o,assetIds:i})})})}),Ua=r.memo(function({rewards:t}){const{t:o}=w(),e=Le();return h("div",{children:[s("div",{className:e.tooltipTitle,children:o("Claimable rewards")}),s("div",{className:e.rewardsContainer,children:t.map(n=>h("div",{children:[h("div",{className:e.rewardsText,children:[pt(n.rewards)," ",n.rewardToken]}),s("div",{className:e.usdPrice,children:k(n.rewardsUsd)})]},n.rewardToken))})]})}),Oe=r.memo(B(Oa)(V));function Oa(a,{vaultId:t,walletAddress:o}){var c,d;const e="VaultStat-Claimable Rewards",n=I(a,t),l=a.ui.dataLoader.global.prices.alreadyLoadedOnce&&mt(a)?(d=(c=a.ui.dataLoader.byAddress[o])==null?void 0:c.byChainId[n.chainId])==null?void 0:d.balance.alreadyLoadedOnce:!0;if(!l)return{label:e,value:"-",subValue:null,blur:!1,loading:!0};const{totalRewardsUsd:i}=j(a,t,o);return{label:e,value:s(Ue,{size:20,vaultId:t,walletAddress:o}),subValue:k(i),blur:!1,loading:!l,boosted:!1,tooltip:null}}const Wa=y(ke),Ya=r.memo(function({vaultId:t,pnlData:o,walletAddress:e}){const n=Wa(),l=f(x=>R(x,t,e)),i=f(x=>F(x,e)),{rewards:c}=f(x=>j(x,t,e)),{totalYield:d,totalYieldUsd:p,oraclePrice:m,tokenDecimals:u}=o,b=r.useMemo(()=>c.length!==0,[c.length]);return!l||!i?s(V,{label:"VaultStat-Yield",showLabel:!1,value:"-",loading:!!i}):s(V,{label:"VaultStat-Yield",value:h("div",{className:n.flexEnd,children:[s(ne,{content:s(G,{title:$(d,u)}),triggerClass:C(n.textGreen,n.textOverflow,n.maxWidth80,{[n.maxWidth60]:b}),children:T(d,u,m,0,2)}),b&&h(P,{children:[s("div",{children:"+"}),s(Ue,{walletAddress:e,vaultId:t})]})]}),subValue:k(p),showLabel:!1,loading:!1})}),ja=y(ke),Ha=r.memo(function({vaultId:t,address:o}){const e=ja(),n=f(i=>I(i,t)),l=f(i=>ge(i,t,o));return s("div",{className:e.vaultStats,children:h("div",{className:C(e.rowDashboard),children:[s("div",{className:C(e.column,e.hideSm),children:s(Ie,{contentClassName:e.contentContainer,pnlData:l,triggerClassName:C(e.textOverflow,e.maxWidth80),showLabel:!1,vaultId:t,walletAddress:o})}),s("div",{className:C(e.column,e.hideSm),children:s(Ge,{contentClassName:e.contentContainer,pnlData:l,triggerClassName:C(e.textOverflow,e.maxWidth80),showLabel:!1,vaultId:t,walletAddress:o})}),s("div",{className:C(e.column,e.hideSm),children:ye(n)?s(Oe,{walletAddress:o,showLabel:!1,vaultId:t}):s(Ya,{walletAddress:o,pnlData:l,vaultId:t})}),s("div",{className:e.column,children:s($a,{walletAddress:o,pnlData:l,showLabel:!1,vaultId:t})}),s("div",{className:C(e.column,e.hideMd),children:s(Te,{showLabel:!1,vaultId:t})}),s("div",{className:C(e.column,e.hideMd),children:s(Fe,{triggerClassName:C(e.textOverflow,e.maxWidth80),showLabel:!1,vaultId:t,walletAddress:o})})]})})}),Ka=a=>({stat:{...a.typography["body-lg-med"],color:a.palette.text.secondary,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"80%"},column:{display:"flex",alignItems:"center",justifyContent:"flex-end"},textFlexStart:{textAlign:"left"},gridMobile:{display:"grid",gridTemplateColumns:"repeat(2,minmax(0, 50fr))",columnGap:"8px"},statMobile:{...a.typography["body-sm"],color:a.palette.text.secondary},textRed:{color:"#D15347"},textGreen:{color:a.palette.primary.main},textDark:{color:a.palette.text.dark},textOverflow:{flexDirection:"row-reverse",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flexShrink:1}}),We=y(a=>({rowContainer:{display:"grid",backgroundColor:a.palette.background.v2.cardBg,padding:"16px",gridTemplateColumns:"minmax(0, 30fr) minmax(0, 70fr)",columnGap:"16px",[a.breakpoints.down("sm")]:{gridTemplateColumns:"repeat(2,minmax(0, 50fr))"}},rowMobileContainer:{padding:"16px",backgroundColor:a.palette.background.appBG}})),Ye=r.memo(function({children:t,className:o}){const e=We();return s("div",{className:C(e.rowContainer,o),children:t})}),je=r.memo(function({children:t,className:o}){const e=We();return s("div",{className:C(e.rowMobileContainer,o),children:t})}),za=y(a=>({infoGrid:{display:"grid",gridTemplateColumns:"repeat(4,minmax(0, 1fr))",columnGap:"16px",[a.breakpoints.down("sm")]:{gridTemplateColumns:"minmax(0, 1fr)",rowGap:"4px"}}})),W=r.memo(function({children:t}){const o=za();return s("div",{className:o.infoGrid,children:t})}),qa=a=>({mobileStat:{display:"flex",alignItems:"center",columnGap:"8px",...a.typography["body-sm"],color:a.palette.text.disabled,"& div":{},[a.breakpoints.down("md")]:{justifyContent:"space-between"}},value:{color:a.palette.text.secondary}}),_a=y(qa),E=r.memo(function({label:t,value:o,valueClassName:e}){const n=_a();return h("div",{className:n.mobileStat,children:[s("div",{children:t})," ",s("span",{className:C(n.value,e),children:o})]})}),He=y(Ka),Qa=r.memo(function({data:t,tokenDecimals:o}){const e=He(),{internal:n,datetime:l,shareBalance:i,usdBalance:c,underlyingDiff:d,shareToUnderlyingPrice:p,underlyingToUsdPrice:m}=t,u=r.useMemo(()=>d.gt(O)?e.textGreen:e.textRed,[e.textGreen,e.textRed,d]);return n?null:h(Ye,{children:[s("div",{className:C(e.stat,e.textFlexStart),children:ae(l)}),h(W,{children:[s("div",{className:e.column,children:s(Q,{className:C(u,e.stat),amount:d,decimals:o,price:m})}),s("div",{className:e.column,children:s(Q,{amount:i.times(p),decimals:o,price:m,className:e.stat})}),s("div",{className:e.column,children:s(Q,{amount:i,decimals:18,price:p,className:e.stat})}),s("div",{className:e.column,children:s("div",{className:e.stat,children:k(c)})})]})]})}),Xa=r.memo(function({data:t,tokenDecimals:o}){const e=He(),{t:n}=w(),{internal:l,datetime:i,shareBalance:c,usdBalance:d,underlyingDiff:p,shareToUnderlyingPrice:m,underlyingToUsdPrice:u,underlyingBalance:b}=t,x=r.useMemo(()=>p.gt(O)?e.textGreen:e.textRed,[e.textGreen,e.textRed,p]),v=r.useMemo(()=>T(b,o,u,0,2),[b,o,u]),g=r.useMemo(()=>T(c,18,m,0,2),[c,m]),N=r.useMemo(()=>T(p,o,u,0,2),[p,o,u]);return l?null:h(je,{className:e.gridMobile,children:[h(W,{children:[s("div",{className:C(x,e.statMobile),children:`${p.gt(O)?" +":""} ${N}`}),s("div",{className:e.statMobile,children:ae(i,{representation:"date"})}),s("div",{className:C(e.statMobile,e.textDark),children:ae(i,{representation:"time"})})]}),h(W,{children:[s(E,{valueClassName:e.textOverflow,label:n("Dashboard-Filter-Balance"),value:v}),s(E,{valueClassName:e.textOverflow,label:n("Dashboard-Filter-MooTokens"),value:g}),s(E,{label:n("Dashboard-Filter-UsdBalance"),value:k(d)})]})]})}),Za=[{label:"Dashboard-Filter-Amount",sortKey:"amount"},{label:"Dashboard-Filter-Balance",sortKey:"balance"},{label:"Dashboard-Filter-MooTokens",sortKey:"mooTokenBal"},{label:"Dashboard-Filter-UsdBalance",sortKey:"usdBalance"}],Ja=y(a=>({filter:{borderRadius:"8px 8px 0px 0px",[a.breakpoints.down("sm")]:{display:"none"}},justifyStart:{justifyContent:"start"}})),es=r.memo(function({handleSort:t,sortOptions:o}){const e=Ja(),{sort:n,sortDirection:l}=o;return h(Ye,{className:e.filter,children:[s(te,{label:"Dashboard-Filter-Date",sortKey:"datetime",sorted:n==="datetime"?l:"none",onChange:t,className:e.justifyStart}),s(W,{children:Za.map(({label:i,sortKey:c})=>s(te,{label:i,sortKey:c,sorted:n===c?l:"none",onChange:t},i))})]})});function ts(a,t){const o=f(m=>I(m,a)),e=f(m=>bt(m,o.chainId,o.depositTokenAddress)),n=f(m=>R(m,a,t)),l=r.useMemo(()=>{const m=ht(new Date,1);return n.map(u=>{if(!u.underlyingToUsdPrice){const b=u.underlyingToUsdPrice??(ft(u.datetime,m)?O:e);return{...u,underlyingToUsdPrice:b,usdBalance:u.underlyingBalance.times(b),usdDiff:u.underlyingDiff.times(b)}}return u})},[n,e]),[i,c]=r.useState({sortDirection:"none",sort:"default"}),d=r.useMemo(()=>{const m=i.sortDirection==="desc"?-1:1;let u=l;return i.sort==="datetime"&&(u=S(l,b=>b.datetime.getTime()*m)),i.sort==="amount"&&(u=S(l,b=>b.shareDiff.toNumber()*m)),i.sort==="balance"&&(u=S(l,b=>b.shareBalance.times(b.shareToUnderlyingPrice).toNumber()*m)),i.sort==="mooTokenBal"&&(u=S(l,b=>b.shareBalance.toNumber()*m)),i.sort==="usdBalance"&&(u=S(l,b=>{var x;return((x=b.usdBalance)==null?void 0:x.toNumber())*m})),u},[i.sort,i.sortDirection,l]),p=r.useCallback(m=>{m===i.sort?c({...i,sortDirection:i.sortDirection==="asc"?"desc":"asc"}):c({sort:m,sortDirection:"desc"})},[i]);return{sortedTimeline:d,sortedOptions:i,handleSort:p}}const as=y(()=>({transactionsGrid:{display:"grid",gridTemplateColumns:"minmax(0, 1fr)",rowGap:"2px"}})),Ke=r.memo(function({vaultId:t,address:o}){const e=as(),n=f(u=>I(u,t)),l=f(u=>xt(u,n.chainId,n.depositTokenAddress)),{sortedTimeline:i,sortedOptions:c,handleSort:d}=ts(t,o),p=Y(u=>u.breakpoints.down("sm"),{noSsr:!0}),m=r.useMemo(()=>p?Xa:Qa,[p]);return h("div",{className:e.transactionsGrid,children:[s(es,{sortOptions:c,handleSort:d}),i.map(u=>s(m,{tokenDecimals:l.decimals,data:u},u.datetime.getTime()))]})}),ss=a=>({container:{display:"none",[a.breakpoints.only("md")]:{display:"flex",alignItems:"center",justifyContent:"flex-end",columnGap:"32px"}},boostText:{color:"#DB8332"}}),os=y(ss),ns=r.memo(function({vaultId:t}){const o=os(),{t:e}=w(),{dailyUsd:n}=f(d=>xe(d,t)),l=f(d=>gt(d,t)),i=r.useMemo(()=>yt(l,"???"),[l]),c=f(d=>Ct(d,t));return h("div",{className:o.container,children:[s(E,{label:e("APY"),value:c?i.boostedTotalApy:i.totalApy,valueClassName:c?o.boostText:""}),s(E,{label:e("Dashboard-Filter-DailyYield"),value:k(n)})]})}),ls=a=>({container:{display:"flex",flexDirection:"column",rowGap:"2px",marginTop:"2px"},toggleContainer:{padding:"16px",backgroundColor:a.palette.background.appBG,display:"flex",justifyContent:"center"},activeClassName:{backgroundColor:a.palette.primary.main},buttonText:{...a.typography["body-sm-med"]}}),rs=a=>({inner:{display:"flex",flexDirection:"column",rowGap:"12px"},statMobile:{display:"flex",justifyContent:"space-between"},value:{...a.typography["body-sm"],color:a.palette.text.middle},valueBoosted:{color:"#DB8332"},valueContainer:{display:"flex",columnGap:"8px",alignItems:"center"},label:{...a.typography["body-sm"],color:a.palette.text.dark}}),is=r.memo(B(cs)(V));function cs(a,{vaultId:t,className:o,pnlData:e,walletAddress:n}){const l="VaultStat-Yield",i=R(a,t,n),c=F(a,n);if(!i)return{label:l,value:"-",subValue:null,blur:!1,loading:!1,className:o??""};if(!c)return{label:l,value:"-",subValue:null,blur:!1,loading:!0,className:o??""};const{totalYield:d,totalYieldUsd:p,oraclePrice:m,tokenDecimals:u}=e;return{label:l,value:T(d,u,m,0,2),tooltip:s(G,{title:$(d,u)}),subValue:k(p),blur:!1,loading:!c,boosted:!1,className:o??""}}const ds=y(rs),us=r.memo(function({vaultId:t,address:o}){const e=ds(),n=f(d=>I(d,t)),l=f(d=>vt(d,t)),i=f(d=>ge(d,t,o)),{rewards:c}=f(d=>j(d,t,o));return s(je,{children:h("div",{className:e.inner,children:[s(Ie,{pnlData:i,className:e.statMobile,contentClassName:e.valueContainer,triggerClassName:e.value,labelClassName:e.label,vaultId:t,walletAddress:o}),s(Ge,{pnlData:i,className:e.statMobile,contentClassName:e.valueContainer,triggerClassName:e.value,labelClassName:e.label,vaultId:t,walletAddress:o}),c.length!==0&&s(Oe,{className:e.statMobile,contentClassName:e.valueContainer,triggerClassName:e.value,labelClassName:e.label,vaultId:t,walletAddress:o}),!ye(n)&&s(is,{pnlData:i,className:e.statMobile,contentClassName:e.valueContainer,triggerClassName:e.value,labelClassName:e.label,vaultId:t,walletAddress:o}),s(Te,{className:e.statMobile,contentClassName:e.valueContainer,triggerClassName:C(e.value,{[e.valueBoosted]:l}),labelClassName:e.label,vaultId:t}),s(Fe,{className:e.statMobile,contentClassName:e.valueContainer,triggerClassName:e.value,labelClassName:e.label,vaultId:t,walletAddress:o})]})})}),ps=y(ls),ms=r.memo(function({vaultId:t,address:o}){const e=ps(),[n,l]=r.useState("stats"),{t:i}=w(),c=f(m=>Ce(m,t,o)),d=r.useMemo(()=>{const m={stats:i("Dashboard-VaultData"),txHistory:i("Dashboard-TransactionHistory")};return c&&(m.chart=i("Dashboard-Chart")),m},[c,i]),p=r.useCallback(m=>{l(m)},[]);return h("div",{className:e.container,children:[s("div",{className:e.toggleContainer,children:s(Ae,{selectedClass:e.activeClassName,buttonClass:e.buttonText,value:n,onChange:p,options:d})}),n==="stats"&&s(us,{address:o,vaultId:t}),n==="txHistory"&&s(Ke,{address:o,vaultId:t}),n==="chart"&&s(Ve,{address:o,vaultId:t})]})}),bs=y(Ea),hs=r.memo(function({vaultId:t,address:o}){const e=bs(),[n,l]=r.useState(!1),i=f(D=>Dt(D,t)),c=f(D=>wt(D,t)),d=f(D=>Nt(D,t)),p=f(D=>Ce(D,t,o)),m=r.useCallback(()=>{l(!n)},[n]),u=Y(D=>D.breakpoints.down("sm"),{noSsr:!0}),{t:b}=w(),[x,v]=r.useState("txHistory"),g=r.useMemo(()=>{const D={txHistory:b("Dashboard-TransactionHistory")};return p&&(D.chart=b("Dashboard-Chart")),D},[p,b]),N=r.useCallback(D=>{v(D)},[]);return h("div",{children:[s("div",{onClick:m,className:C({[e.vault]:!0,[e.vaultEarnings]:d,[e.vaultPaused]:c,[e.vaultRetired]:i,lastBorderRadius:!0}),children:h("div",{className:e.vaultInner,children:[s(Lt,{isLink:!0,networkClassName:e.network,vaultId:t}),s(Ha,{vaultId:t,address:o})]})}),s(jt,{in:n,timeout:"auto",children:u?s(ms,{address:o,vaultId:t}):h(P,{children:[p&&s("div",{className:e.toggleContainer,children:s(Ae,{selectedClass:e.activeClassName,value:x,onChange:N,options:g})}),h("div",{className:e.collapseInner,children:[s(ns,{vaultId:t}),x==="txHistory"&&s(Ke,{address:o,vaultId:t}),x==="chart"&&s(Ve,{address:o,vaultId:t})]})]})})]})});function fs(a){const[t,o]=r.useState(""),[e,n]=r.useState({sortDirection:"desc",sort:"now"}),l=r.useCallback(b=>o(b.target.value),[]),i=r.useCallback(()=>{o("")},[]),c=f(b=>Ut(b,t,a)),d=f(b=>b.biz.apy.totalApy.byVaultId),p=f(b=>St(b,a)),m=r.useMemo(()=>{const b=e.sortDirection==="desc"?-1:1;let x=c;return e.sort==="atDeposit"&&(x=S(c,v=>p[v.id].usdBalanceAtDeposit.toNumber()*b)),e.sort==="now"&&(x=S(c,v=>p[v.id].depositUsd.toNumber()*b)),e.sort==="yield"&&(x=S(c,v=>p[v.id].totalYieldUsd.toNumber()*b)),e.sort==="pnl"&&(x=S(c,v=>p[v.id].totalPnlUsd.toNumber()*b)),e.sort==="apy"&&(x=S(c,v=>{const g=d[v.id];if(!g)return-1;if(g.boostedTotalApy!==void 0)return b*g.boostedTotalApy;if(g.totalApy!==void 0)return b*g.totalApy;if(g.vaultApr!==void 0)return b*g.vaultApr;throw new Error("Apy type not supported")})),e.sort==="dailyYield"&&(x=S(c,v=>{const g=d[v.id];if(!g)return-1;const{deposit:N,oraclePrice:D}=p[v.id];return b*N.times(D).times(g.totalDaily).toNumber()})),x},[e.sortDirection,e.sort,c,p,d]),u=r.useCallback(b=>{b===e.sort?n({...e,sortDirection:e.sortDirection==="asc"?"desc":"asc"}):n({sort:b,sortDirection:"desc"})},[e]);return{sortedFilteredVaults:m,sortedOptions:e,handleSort:u,handleSearchText:l,searchText:t,handleClearText:i}}const xs=y(a=>({container:{display:"flex",flexDirection:"column",rowGap:"4px",padding:"24px",background:a.palette.background.v2.cardBg,borderRadius:"0px 0px 8px 8px",marginTop:"2px"},title:{...a.typography.h3,color:"#D0D0DA"},text:{...a.typography["body-lg"],color:"#D0D0DA"}})),gs=r.memo(function(){const t=xs(),{t:o}=w();return h("div",{className:t.container,children:[s("div",{className:t.title,children:o("NoResults-NoResultsFound")}),s("div",{className:t.text,children:o("NoResults-TryClearSearch")})]})}),ys=kt(Ta);r.memo(function({address:t}){const{t:o}=w(),{sortedFilteredVaults:e,sortedOptions:n,handleSort:l,handleSearchText:i,searchText:c,handleClearText:d}=fs(t),p=Y(u=>u.breakpoints.down("sm"),{noSsr:!0}),m=r.useMemo(()=>p?"Dashboard-Your-Vaults-Subtitle-Mobile":"Dashboard-Your-Vaults-Subtitle",[p]);return h(oe,{title:o("Dashboard-Your-Vaults-Title"),subTitle:o(m),children:[s(Aa,{sortOptions:n,handleSort:l,handleSearchText:i,searchText:c,handleClearText:d}),e.length===0?s(gs,{}):null,s(Cs,{address:t,vaults:e})]})});const Cs=r.memo(function({vaults:t,address:o}){const e=ys(),n=t.length,l=3,[i,c]=r.useState(l),d=r.useRef(),p=r.useRef(),m=r.useMemo(()=>t.slice(0,i),[t,i]),u=r.useMemo(()=>Math.max(0,n-i),[n,i]),b=r.useCallback(g=>{if(g&&u>0){const N=l+Math.ceil((window.scrollY-p.current.offsetTop+window.innerHeight)/75);c(D=>D+Math.max(0,Math.min(N,n-D)))}},[n,c,l,u]),x=r.useMemo(()=>Gt(()=>{if(p.current&&u>0&&window.scrollY+window.innerHeight>p.current.offsetTop){const g=l+Math.ceil((window.scrollY-p.current.offsetTop+window.innerHeight)/75);c(N=>N+Math.max(0,Math.min(g,n-N)))}},100),[n,c,l,u]),[v]=Ot({onChange:b,rootMargin:`0px 0px ${75*2}px 0px`});return r.useEffect(()=>{i>n?c(n):i<l&&c(Math.min(l,n))},[i,n]),r.useEffect(()=>(window.addEventListener("scroll",x),window.addEventListener("resize",x),()=>{window.removeEventListener("scroll",x),window.removeEventListener("resize",x)}),[x]),h(P,{children:[s("div",{className:e.container,ref:d,children:m.map(g=>s(hs,{address:o,vaultId:g.id},g.id))}),s("div",{ref:p}),s("div",{ref:v})]})}),vs=()=>({dashboard:{flex:"1 1 auto",backgroundColor:"#121420",paddingBottom:"48px"}});function Ds(a){const t=f(M),o=he();r.useEffect(()=>{a&&a!==t&&o(Tt({address:a}))},[o,a,t])}const ws=y(vs),Gs=r.memo(function({mode:t}){return t==="url"?s(Ns,{}):s(Ss,{})}),Ns=r.memo(function(){const{address:t}=Vt();return be(t)?s(ze,{address:t.toLocaleLowerCase()}):X(t)?s(ks,{domain:t}):s(K,{children:t.toLowerCase().startsWith("0x")?s(oa,{}):s(Re,{})})}),Ss=r.memo(function(){const t=f(o=>M(o));return t?s(At,{to:`/dashboard/${t}`}):s(K,{children:s(na,{})})}),ks=r.memo(function({domain:t}){const{t:o}=w(),e=De(t);return J(e)?s(ze,{address:e.value.toLocaleLowerCase(),addressLabel:t}):we(e)?s(K,{children:s(Re,{})}):s(ve,{text:o("Loading")})}),K=r.memo(function({children:t}){const o=ws();return s("div",{className:o.dashboard,children:t})}),ze=r.memo(function({address:t,addressLabel:o}){Ds(t);const e=f(l=>Mt(l,t)),n=f(l=>Bt(l,t));return h(K,{children:[s(ta,{address:t,addressLabel:o}),n?e.length>0?h(P,{children:[s(ka,{address:t}),!1]}):s(la,{title:o||t,address:t}):s(ve,{})]})});export{Gs as default};
