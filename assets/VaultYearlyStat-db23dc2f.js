import{aX as he,R as B,ab as _,e2 as Pe,x as $e,e3 as je,e4 as De,e5 as ze,e6 as Me,e7 as He,e8 as U,e9 as ge,ea as We,cY as M,eb as Ge,B as N,as as pe,ec as Le,aF as te,ai as Ue,ed as qe,ae as me,aC as H,ee as ve,c4 as ye,ef as Ze,n as O,r as h,p as S,q as g,o as $,h as I,t as C,eg as re,f as Ye,au as Xe,v as Qe,D as Je,F as be,L as Ke,aa as et,al as Te,am as tt,an as rt,ao as nt,ap as at,aq as ot,ar as it}from"./index-40f6b818.js";import{b as lt,V as st,p as ne,I as ut}from"./saved-vaults-9d4d2b77.js";import{A as ct}from"./AssetsImage-977f6fc3.js";import{T as we,B as dt,I as ft}from"./BasicTooltipContent-ce7ce547.js";function xe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const j=e=>e.ui.filteredVaults,ln=e=>e.ui.filteredVaults.searchText,sn=e=>e.ui.filteredVaults.chainIds,un=e=>e.ui.filteredVaults.sort,cn=e=>e.ui.filteredVaults.sortDirection,dn=e=>e.ui.filteredVaults.userCategory,fn=e=>e.ui.filteredVaults.vaultType,hn=e=>e.ui.filteredVaults.vaultCategory,gn=e=>e.ui.filteredVaults.platformId,pn=he((e,t)=>t,e=>e.ui.filteredVaults,(e,t)=>t[e])((e,t)=>t),mn=B(j,e=>(e.onlyRetired?1:0)+(e.onlyPaused?1:0)+(e.onlyBoosted?1:0)+(e.onlyZappable?1:0)+(e.platformId!==null?1:0)+(e.vaultType!=="all"?1:0)+(e.vaultCategory!=="all"?1:0)+(e.sort!=="default"?1:0)+e.chainIds.length),vn=B(j,e=>e.vaultCategory!=="all"||e.userCategory!=="all"||e.vaultType!=="all"||e.onlyRetired!==!1||e.onlyPaused!==!1||e.onlyBoosted!==!1||e.onlyZappable!==!1||e.searchText!==""||e.platformId!==null||e.sort!=="default"||e.chainIds.length>0),yn=B(j,e=>e.vaultCategory!=="all"||e.vaultType!=="all"||e.onlyRetired!==!1||e.onlyPaused!==!1||e.onlyBoosted!==!1||e.onlyZappable!==!1||e.searchText!==""||e.platformId!==null||e.chainIds.length>0);B(j,e=>e.vaultCategory);function Q(e){return(e||"").replace(/-/g," ").trim()}function ht(e,t=!0){const n=`g${t?"i":""}`;return new RegExp(xe(e),n)}function gt(e){return new RegExp(`^w?${xe(e)}w?$`,"gi")}function pt(e,t,n=!0){return(e||"").match(ht(t,n))}function mt(e,t){return pt(Q(e.name),t)}function vt(e){return e.split(/[- /,]/g).map(t=>t.trim()).filter(t=>t.length>1).map(t=>gt(t))}function Ve(e,t,n){if(n.length<2)return!1;if(mt(t,n))return!0;const r=vt(n);return r.length===0?!1:r.every(a=>!!(t.assetIds.some(l=>l.match(a))||me(t)&&H(e,t.chainId,t.earnedTokenAddress).id.match(a)||M(e,t.id)&&ve(e,t.id).map(i=>ye(e,i)).map(i=>i.earnedTokenAddress).map(i=>H(e,t.chainId,i)).map(i=>i.id).some(i=>i.match(a))))}const bn=(e,t,n)=>{const r=Ze(e,n).map(i=>_(e,i)),a=Q(t);return r.filter(i=>!(a.length>0&&!Ve(e,i,a)))};function yt(e,t){const n=ae(e,t.platformId),r=[n],a=H(e,t.chainId,t.depositTokenAddress);if(a.providerId){const l=ae(e,a.providerId);l!=="other"&&l!=n&&r.push(l)}return r}const ae=he(e=>e.entities.platforms.filterIds,(e,t)=>t,(e,t)=>e.includes(t)?t:"other")((e,t)=>t),bt=e=>{const t=j(e),n=e.entities.vaults.allIds.map(o=>_(e,o)),r=e.biz.tvl.byVaultId,a=e.biz.apy.totalApy.byVaultId,l=t.userCategory==="deposited"||t.onlyRetired?Pe(e):$e(e),i=Tt(t.chainIds.length===0?l:t.chainIds);let u=n.filter(o=>{if(t.vaultCategory==="featured"&&!je(e,o.id)||t.vaultCategory==="bluechip"&&!De(e,o.id)||t.vaultCategory==="stable"&&!ze(e,o.id)||t.vaultCategory==="beefy"&&!Me(e,o.id)||t.vaultCategory==="correlated"&&!He(e,o.id)||!i[o.chainId]||t.platformId!==null&&!yt(e,o).includes(t.platformId)||t.onlyRetired&&!U(o)||t.onlyPaused&&!ge(o)||t.onlyZappable&&!We(e,o.id)||!t.onlyRetired&&U(o)&&t.userCategory!=="deposited"||t.onlyBoosted&&!M(e,o.id)||t.vaultType==="lps"&&o.type!=="lps"||t.vaultType==="single"&&o.type!=="single"||t.userCategory==="saved"&&!lt(e,o.id)||t.userCategory==="deposited"&&!Ge(e,o.id))return!1;const s=Q(t.searchText);return!(s.length>0&&!Ve(e,o,s))});if(t.sort==="default"){const o=Object.fromEntries(u.map(s=>[s.id,M(e,s.id)]));t.userCategory==="deposited"?u=N(u,s=>s.status==="eol"?-3:s.status==="paused"?-2:o[s.id]?-1:1):u=N(u,s=>o[s.id]?pe(e,s.id)?-Number.MAX_SAFE_INTEGER:-Le(e,s.id):1)}const d=t.sortDirection==="desc"?-1:1;return t.sort==="apy"?u=N(u,o=>{if(!te(o))return 0;const s=a[o.id];if(!s)return-1;if(s.boostedTotalApy!==void 0)return d*s.boostedTotalApy;if(s.totalApy!==void 0)return d*s.totalApy;if(s.vaultApr!==void 0)return d*s.vaultApr;throw new Error("Apy type not supported")}):t.sort==="daily"?u=N(u,o=>{if(!te(o))return 0;const s=a[o.id];if(!s)return-1;if(s.boostedTotalDaily!==void 0)return d*s.boostedTotalDaily;if(s.totalDaily!==void 0)return d*s.totalDaily;if(s.vaultDaily!==void 0)return d*s.vaultDaily;throw new Error("Daily type not supported")}):t.sort==="tvl"?u=N(u,o=>{const s=r[o.id];return s?d*s.tvl.toNumber():0}):t.sort==="safetyScore"?u=N(u,o=>d*o.safetyScore):t.sort==="depositValue"?u=N(u,o=>{const s=Ue(e,o.id);return d*s.toNumber()}):t.sort==="walletValue"&&(u=N(u,o=>{const s=qe(e,o.id);return d*s.toNumber()})),u.map(o=>o.id)},Tn=B(bt,e=>e.length),wn=B(e=>e.entities.vaults.allIds.length,e=>e);function Tt(e){const t={};for(const n of e)t[n]=!0;return t}const wt=e=>({sortColumn:{...e.typography["subline-sm"],color:e.palette.text.disabled,display:"flex",alignItems:"center",justifyContent:"flex-end",textAlign:"right",background:"transparent",border:"none",boxShadow:"none",padding:0,cursor:"pointer"},sortTooltipIcon:{width:"20px",height:"20px",flexShrink:0,marginLeft:"4px","& svg":{width:"20px",height:"20px"}},sortIcon:{marginLeft:"8px",width:"9px",height:"12px",fill:"currentColor",display:"block"},sortIconHighlight:{fill:"#F5F5FF"}}),ke=O(wt),xt=h.memo(function({direction:t}){const n=ke();return S("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 6 9",className:n.sortIcon,children:[g("path",{className:t==="asc"?n.sortIconHighlight:void 0,d:"M2.463.199.097 2.827a.375.375 0 0 0 .279.626h5.066a.375.375 0 0 0 .278-.626L3.355.199a.6.6 0 0 0-.892 0Z"}),g("path",{className:t==="desc"?n.sortIconHighlight:void 0,d:"M3.355 8.208 5.72 5.579a.375.375 0 0 0-.278-.626H.376a.375.375 0 0 0-.279.626l2.366 2.629a.601.601 0 0 0 .892 0Z"})]})}),xn=h.memo(function({label:t,sortKey:n,sorted:r,onChange:a,tooltip:l,className:i}){const c=ke(),{t:u}=$(),d=h.useCallback(()=>{a(n)},[n,a]);return S("button",{className:I(c.sortColumn,i),onClick:d,children:[u(t),l,g(xt,{direction:r})]})});var q=new Map,D=new WeakMap,oe=0,Vt=void 0;function kt(e){return e?(D.has(e)||(oe+=1,D.set(e,oe.toString())),D.get(e)):"0"}function St(e){return Object.keys(e).sort().filter(function(t){return e[t]!==void 0}).map(function(t){return t+"_"+(t==="root"?kt(e.root):e[t])}).toString()}function It(e){var t=St(e),n=q.get(t);if(!n){var r=new Map,a,l=new IntersectionObserver(function(i){i.forEach(function(c){var u,d=c.isIntersecting&&a.some(function(o){return c.intersectionRatio>=o});e.trackVisibility&&typeof c.isVisible>"u"&&(c.isVisible=d),(u=r.get(c.target))==null||u.forEach(function(o){o(d,c)})})},e);a=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:l,elements:r},q.set(t,n)}return n}function Ct(e,t,n,r){if(n===void 0&&(n={}),r===void 0&&(r=Vt),typeof window.IntersectionObserver>"u"&&r!==void 0){var a=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),function(){}}var l=It(n),i=l.id,c=l.observer,u=l.elements,d=u.get(e)||[];return u.has(e)||u.set(e,d),d.push(t),c.observe(e),function(){d.splice(d.indexOf(t),1),d.length===0&&(u.delete(e),c.unobserve(e)),u.size===0&&(c.disconnect(),q.delete(i))}}function Vn(e){var t=e===void 0?{}:e,n=t.threshold,r=t.delay,a=t.trackVisibility,l=t.rootMargin,i=t.root,c=t.triggerOnce,u=t.skip,d=t.initialInView,o=t.fallbackInView,s=t.onChange,f=h.useRef(),p=h.useRef(),v=h.useState({inView:!!d}),T=v[0],w=v[1];p.current=s;var b=h.useCallback(function(R){f.current!==void 0&&(f.current(),f.current=void 0),!u&&R&&(f.current=Ct(R,function(A,x){w({inView:A,entry:x}),p.current&&p.current(A,x),x.isIntersecting&&c&&f.current&&(f.current(),f.current=void 0)},{root:i,rootMargin:l,threshold:n,trackVisibility:a,delay:r},o))},[Array.isArray(n)?n.toString():n,i,l,c,u,a,o,r]);h.useEffect(function(){!f.current&&T.entry&&!c&&!u&&w({inView:!!d})});var y=[b,T.inView,T.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}const Rt=e=>({vaultIdentity:{display:"flex",flexGrow:0,flexShrink:0,flexDirection:"row",columnGap:"16px",minWidth:0,textDecoration:"none"},vaultNameTags:{minWidth:0},vaultName:{...e.typography.h3,color:"#F5F5FF",textDecoration:"none"},vaultNameBoosted:{color:"#DB8332"},vaultNetwork:{position:"absolute",top:"-2px",left:"-2px",width:"28px",height:"28px",border:"solid 2px #363B63",borderBottomRightRadius:"16px","& img":{width:"22px",height:"22px"}},"vaultNetwork-bsc":{backgroundColor:"#F0B90B"},"vaultNetwork-heco":{backgroundColor:"#02943f"},"vaultNetwork-avax":{backgroundColor:"#e74142"},"vaultNetwork-polygon":{backgroundColor:"#f5f0fd"},"vaultNetwork-fantom":{backgroundColor:"#1969FF"},"vaultNetwork-harmony":{backgroundColor:"#01d8af"},"vaultNetwork-arbitrum":{backgroundColor:"#2d374b"},"vaultNetwork-celo":{backgroundColor:"#FCFF52"},"vaultNetwork-moonriver":{backgroundColor:"#c3136f"},"vaultNetwork-cronos":{backgroundColor:"#121926"},"vaultNetwork-fuse":{backgroundColor:"#B4F9BA"},"vaultNetwork-metis":{backgroundColor:"#00dacc"},"vaultNetwork-aurora":{backgroundColor:"#70d44b"},"vaultNetwork-moonbeam":{backgroundColor:"#211438"},"vaultNetwork-emerald":{backgroundColor:"#0192f6"},"vaultNetwork-optimism":{backgroundColor:"#ff0420"},"vaultNetwork-kava":{backgroundColor:"#FF564F"},"vaultNetwork-ethereum":{backgroundColor:"#627ee9"},"vaultNetwork-canto":{backgroundColor:"#06fc99"},"vaultNetwork-zksync":{backgroundColor:"#fff"},"vaultNetwork-zkevm":{backgroundColor:"#8247e4"},"vaultNetwork-base":{backgroundColor:"#fff"}}),At=()=>({vaultIcon:{flexShrink:0,width:"48px"}}),Nt=O(At),Et=h.memo(function({vaultId:t}){const n=Nt(),r=C(a=>_(a,t));return g(ct,{className:n.vaultIcon,assetIds:r.assetIds,chainId:r.chainId})}),Se=e=>({vaultTags:{marginTop:"4px",display:"flex",flexDirection:"row",flexWrap:"nowrap",columnGap:"8px",rowGap:"8px"},vaultTag:{...e.typography["subline-sm"],color:"#D0D0DA",backgroundColor:"#4C5480",padding:"2px 8px",borderRadius:"4px",textTransform:"uppercase",whiteSpace:"nowrap",flexShrink:0,"&:not(:first-child)":{flexShrink:1,overflow:"hidden",textOverflow:"ellipsis",minWidth:0}},vaultTagBoost:{backgroundColor:"rgba(219, 131, 50, 0.3)"},vaultTagRetired:{backgroundColor:"rgba(209, 83, 71, 0.3)"},vaultTagPaused:{backgroundColor:"rgba(209, 152, 71, 0.3)"},vaultTagEarn:{backgroundColor:"rgba(255, 255, 255, 0.3)"}}),Ie=O(Se),W=h.memo(h.forwardRef(function({children:t,className:n},r){const a=Ie();return g("div",{className:I(a.vaultTag,n),ref:r,children:t})})),Ot=h.memo(h.forwardRef(function({children:t,className:n,triggerClass:r,...a},l){const i=Ie();return g(we,{triggerClass:I(i.vaultTag,n,r),ref:l,...a,children:t})}));var Z=function(e,t){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},Z(e,t)};function Bt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Z(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Y=function(){return Y=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Y.apply(this,arguments)};function _t(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}var z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof re<"u"?re:typeof self<"u"?self:{};function Ft(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var J=Ft,Pt=typeof z=="object"&&z&&z.Object===Object&&z,$t=Pt,jt=$t,Dt=typeof self=="object"&&self&&self.Object===Object&&self,zt=jt||Dt||Function("return this")(),Ce=zt,Mt=Ce,Ht=function(){return Mt.Date.now()},Wt=Ht,Gt=/\s/;function Lt(e){for(var t=e.length;t--&&Gt.test(e.charAt(t)););return t}var Ut=Lt,qt=Ut,Zt=/^\s+/;function Yt(e){return e&&e.slice(0,qt(e)+1).replace(Zt,"")}var Xt=Yt,Qt=Ce,Jt=Qt.Symbol,Re=Jt,ie=Re,Ae=Object.prototype,Kt=Ae.hasOwnProperty,er=Ae.toString,P=ie?ie.toStringTag:void 0;function tr(e){var t=Kt.call(e,P),n=e[P];try{e[P]=void 0;var r=!0}catch{}var a=er.call(e);return r&&(t?e[P]=n:delete e[P]),a}var rr=tr,nr=Object.prototype,ar=nr.toString;function or(e){return ar.call(e)}var ir=or,le=Re,lr=rr,sr=ir,ur="[object Null]",cr="[object Undefined]",se=le?le.toStringTag:void 0;function dr(e){return e==null?e===void 0?cr:ur:se&&se in Object(e)?lr(e):sr(e)}var fr=dr;function hr(e){return e!=null&&typeof e=="object"}var gr=hr,pr=fr,mr=gr,vr="[object Symbol]";function yr(e){return typeof e=="symbol"||mr(e)&&pr(e)==vr}var br=yr,Tr=Xt,ue=J,wr=br,ce=0/0,xr=/^[-+]0x[0-9a-f]+$/i,Vr=/^0b[01]+$/i,kr=/^0o[0-7]+$/i,Sr=parseInt;function Ir(e){if(typeof e=="number")return e;if(wr(e))return ce;if(ue(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ue(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Tr(e);var n=Vr.test(e);return n||kr.test(e)?Sr(e.slice(2),n?2:8):xr.test(e)?ce:+e}var Cr=Ir,Rr=J,L=Wt,de=Cr,Ar="Expected a function",Nr=Math.max,Er=Math.min;function Or(e,t,n){var r,a,l,i,c,u,d=0,o=!1,s=!1,f=!0;if(typeof e!="function")throw new TypeError(Ar);t=de(t)||0,Rr(n)&&(o=!!n.leading,s="maxWait"in n,l=s?Nr(de(n.maxWait)||0,t):l,f="trailing"in n?!!n.trailing:f);function p(m){var V=r,k=a;return r=a=void 0,d=m,i=e.apply(k,V),i}function v(m){return d=m,c=setTimeout(b,t),o?p(m):i}function T(m){var V=m-u,k=m-d,F=t-V;return s?Er(F,l-k):F}function w(m){var V=m-u,k=m-d;return u===void 0||V>=t||V<0||s&&k>=l}function b(){var m=L();if(w(m))return y(m);c=setTimeout(b,T(m))}function y(m){return c=void 0,f&&r?p(m):(r=a=void 0,i)}function R(){c!==void 0&&clearTimeout(c),d=0,r=u=a=c=void 0}function A(){return c===void 0?i:y(L())}function x(){var m=L(),V=w(m);if(r=arguments,a=this,u=m,V){if(c===void 0)return v(u);if(s)return clearTimeout(c),c=setTimeout(b,t),p(u)}return c===void 0&&(c=setTimeout(b,t)),i}return x.cancel=R,x.flush=A,x}var Ne=Or,Br=Ne,_r=J,Fr="Expected a function";function Pr(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(Fr);return _r(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Br(e,t,{leading:r,maxWait:t,trailing:a})}var $r=Pr,Ee=function(e,t,n,r){switch(t){case"debounce":return Ne(e,n,r);case"throttle":return $r(e,n,r);default:return e}},X=function(e){return typeof e=="function"},E=function(){return typeof window>"u"},fe=function(e){return e instanceof Element||e instanceof HTMLDocument},Oe=function(e,t,n,r){return function(a){var l=a.width,i=a.height;t(function(c){return c.width===l&&c.height===i||c.width===l&&!r||c.height===i&&!n?c:(e&&X(e)&&e(l,i),{width:l,height:i})})}};(function(e){Bt(t,e);function t(n){var r=e.call(this,n)||this;r.cancelHandler=function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)},r.attachObserver=function(){var d=r.props,o=d.targetRef,s=d.observerOptions;if(!E()){o&&o.current&&(r.targetRef.current=o.current);var f=r.getElement();f&&(r.observableElement&&r.observableElement===f||(r.observableElement=f,r.resizeObserver.observe(f,s)))}},r.getElement=function(){var d=r.props,o=d.querySelector,s=d.targetDomEl;if(E())return null;if(o)return document.querySelector(o);if(s&&fe(s))return s;if(r.targetRef&&fe(r.targetRef.current))return r.targetRef.current;var f=Ye.findDOMNode(r);if(!f)return null;var p=r.getRenderType();switch(p){case"renderProp":return f;case"childFunction":return f;case"child":return f;case"childArray":return f;default:return f.parentElement}},r.createResizeHandler=function(d){var o=r.props,s=o.handleWidth,f=s===void 0?!0:s,p=o.handleHeight,v=p===void 0?!0:p,T=o.onResize;if(!(!f&&!v)){var w=Oe(T,r.setState.bind(r),f,v);d.forEach(function(b){var y=b&&b.contentRect||{},R=y.width,A=y.height,x=!r.skipOnMount&&!E();x&&w({width:R,height:A}),r.skipOnMount=!1})}},r.getRenderType=function(){var d=r.props,o=d.render,s=d.children;return X(o)?"renderProp":X(s)?"childFunction":h.isValidElement(s)?"child":Array.isArray(s)?"childArray":"parent"};var a=n.skipOnMount,l=n.refreshMode,i=n.refreshRate,c=i===void 0?1e3:i,u=n.refreshOptions;return r.state={width:void 0,height:void 0},r.skipOnMount=a,r.targetRef=h.createRef(),r.observableElement=null,E()||(r.resizeHandler=Ee(r.createResizeHandler,l,c,u),r.resizeObserver=new window.ResizeObserver(r.resizeHandler)),r}return t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){E()||(this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var n=this.props,r=n.render,a=n.children,l=n.nodeType,i=l===void 0?"div":l,c=this.state,u=c.width,d=c.height,o={width:u,height:d,targetRef:this.targetRef},s=this.getRenderType(),f;switch(s){case"renderProp":return r&&r(o);case"childFunction":return f=a,f(o);case"child":if(f=a,f.type&&typeof f.type=="string"){o.targetRef;var p=_t(o,["targetRef"]);return h.cloneElement(f,p)}return h.cloneElement(f,o);case"childArray":return f=a,f.map(function(v){return!!v&&h.cloneElement(v,o)});default:return h.createElement(i,null)}},t})(h.PureComponent);var jr=E()?h.useEffect:h.useLayoutEffect;function Dr(e){e===void 0&&(e={});var t=e.skipOnMount,n=t===void 0?!1:t,r=e.refreshMode,a=e.refreshRate,l=a===void 0?1e3:a,i=e.refreshOptions,c=e.handleWidth,u=c===void 0?!0:c,d=e.handleHeight,o=d===void 0?!0:d,s=e.targetRef,f=e.observerOptions,p=e.onResize,v=h.useRef(n),T=h.useRef(null),w=s??T,b=h.useRef(),y=h.useState({width:void 0,height:void 0}),R=y[0],A=y[1];return jr(function(){if(!E()){var x=Oe(p,A,u,o),m=function(k){!u&&!o||k.forEach(function(F){var ee=F&&F.contentRect||{},Be=ee.width,_e=ee.height,Fe=!v.current&&!E();Fe&&x({width:Be,height:_e}),v.current=!1})};b.current=Ee(m,r,l,i);var V=new window.ResizeObserver(b.current);return w.current&&V.observe(w.current,f),function(){V.disconnect();var k=b.current;k&&k.cancel&&k.cancel()}}},[r,l,i,u,o,p,f,w.current]),Y({ref:w},R)}function zr(){const[e,t]=h.useState(!1),{width:n,ref:r}=Dr();return h.useEffect(()=>{r.current&&t(r.current.scrollWidth>r.current.offsetWidth)},[n,r,t]),{isOverflowing:e,ref:r}}const K=O(Se),Mr=h.memo(function({boostId:t}){const n=K(),{t:r}=$(),a=C(c=>ye(c,t)),{isOverflowing:l,ref:i}=zr();return S(Ot,{content:g(dt,{title:r("VaultTag-PartnerBoost",{partner:a.name})}),placement:"bottom",disabled:!l,className:n.vaultTagBoost,ref:i,children:["ðŸ”¥ ",r("VaultTag-PartnerBoost",{partner:a.name})]})}),Hr=h.memo(function({chainId:t,earnedTokenAddress:n}){const r=K(),{t:a}=$(),l=C(i=>H(i,t,n));return g(W,{className:r.vaultTagEarn,children:a("VaultTag-EarnToken",{token:l.symbol})})}),Wr=h.memo(function({vaultId:t}){return g(W,{children:g(st,{vaultId:t})})}),Gr=h.memo(function({vaultId:t}){const n=K(),{t:r}=$(),a=C(c=>_(c,t)),l=C(c=>ve(c,t)),i=l.length?l[0]:null;return S("div",{className:n.vaultTags,children:[g(Wr,{vaultId:t}),U(a)?g(W,{className:n.vaultTagRetired,children:r("VaultTag-Retired")}):ge(a)?g(W,{className:n.vaultTagPaused,children:r("VaultTag-Paused")}):i?g(Mr,{boostId:i}):me(a)?g(Hr,{chainId:a.chainId,earnedTokenAddress:a.earnedTokenAddress}):null]})}),G=O(Rt),Lr=h.memo(function({vaultId:t,isLink:n}){const r=G(),a=C(i=>_(i,t)),l=C(i=>M(i,t));return n?g(Xe,{to:`/vault/${t}`,className:I({[r.vaultName]:!0,[r.vaultNameBoosted]:l}),children:ne(a.name)}):g("div",{className:I({[r.vaultName]:!0,[r.vaultNameBoosted]:l}),children:ne(a.name)})}),Ur=h.memo(function({chainId:t,className:n}){const r=G(),a=C(l=>Qe(l,t));return g("div",{className:I(r.vaultNetwork,n,r[`vaultNetwork-${t}`]),children:g("img",{alt:a.name,src:Je(t),width:24,height:24})})}),kn=h.memo(function({vaultId:t,networkClassName:n,isLink:r}){const a=G();return g("div",{className:a.vaultIdentity,children:g(qr,{isLink:r,vaultId:t,networkClassName:n})})}),qr=h.memo(function({vaultId:t,networkClassName:n,isLink:r}){const a=G(),l=C(i=>_(i,t));return S(be,{children:[g(Ur,{className:n,chainId:l.chainId}),g(Et,{vaultId:t}),S("div",{className:a.vaultNameTags,children:[g(Lr,{isLink:r,vaultId:t}),g(Gr,{vaultId:t})]})]})}),Sn=e=>({vaultStats:{display:"flex",flexGrow:0,flexShrink:0,flexDirection:"column",justifyContent:"center"},row:{display:"grid",width:"100%",columnGap:"24px",rowGap:"24px",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",[e.breakpoints.up("sm")]:{gridTemplateColumns:"repeat(3, minmax(0, 1fr))"},[e.breakpoints.up("md")]:{gridTemplateColumns:"repeat(6, minmax(0, 1fr))"}},column:{width:"100%",[e.breakpoints.up("lg")]:{textAlign:"right"}},flexEnd:{display:"flex",alignItems:"center",columnGap:"4px",justifyContent:"flex-end",width:"100%"},columnFlex:{display:"flex",justifyContent:"flex-end",columnGap:"4px",[e.breakpoints.up("lg")]:{textAlign:"right"}},hideMd:{display:"none",[e.breakpoints.up("lg")]:{display:"block"}},hideSm:{display:"none",[e.breakpoints.up("md")]:{display:"block"}},textGreen:{color:e.palette.primary.main},rowDashboard:{display:"grid",width:"100%",gridTemplateColumns:"minmax(0, 1fr)",columnGap:"8px","& $column":{marginLeft:"auto",textAlign:"right"},[e.breakpoints.up("md")]:{gridTemplateColumns:"repeat(4, minmax(0, 1fr))"},[e.breakpoints.up("lg")]:{gridTemplateColumns:"repeat(6, minmax(0, 1fr))"}},textOverflow:{marginLeft:"auto",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},maxWidth80:{maxWidth:"80%"},maxWidth60:{maxWidth:"80%"},displayBlock:{display:"block"},contentContainer:{display:"flex",flexDirection:"column"}}),Zr=e=>({value:{...e.typography["body-lg-med"],color:e.palette.text.middle},subValue:{...e.typography["body-sm"],color:e.palette.text.dark},blurValue:{filter:"blur(.5rem)"},boostedValue:{color:"#DB8332"},lineThroughValue:{textDecoration:"line-through"}}),Yr=e=>({label:{display:"flex",alignItems:"center"},labelText:{...e.typography["subline-sm"],color:"#9595B2"},tooltipTrigger:{width:"16px",height:"16px",flexShrink:0,marginLeft:"4px","& svg":{width:"16px",height:"16px"}},subValue:{...e.typography["body-sm"],color:e.palette.text.dark},blurValue:{filter:"blur(.5rem)"},boostedValue:{color:"#DB8332"},lineThroughValue:{textDecoration:"line-through"}}),Xr=O(Yr),Qr=h.memo(function({label:t,children:n,tooltip:r,showLabel:a=!0,className:l,triggerClassName:i,labelClassName:c,subValue:u,blur:d,boosted:o,contentClassName:s}){const f=Xr(),p=Ke(v=>v.breakpoints.up("lg"),{noSsr:!0});return S("div",{className:l,children:[!p&&a?S("div",{className:f.label,children:[g("div",{className:I(f.labelText,c),children:t}),r&&p?g(ft,{content:r,triggerClass:f.tooltipTrigger}):null]}):null,r?S("div",{className:s,children:[g(we,{triggerClass:i,content:r,children:n}),u&&g("div",{className:I(f.subValue,{[f.blurValue]:d,[f.lineThroughValue]:o}),children:u})]}):S("div",{className:s,children:[g("div",{className:i,children:n}),u&&g("div",{className:I(f.subValue,{[f.blurValue]:d,[f.lineThroughValue]:o}),children:u})]})]})}),Jr=O(Zr),Kr=h.memo(function({label:t,tooltip:n,value:r,subValue:a,blur:l,loading:i,boosted:c,showLabel:u=!0,shouldTranslate:d=!1,className:o,contentClassName:s,triggerClassName:f,labelClassName:p}){const v=Jr(),{t:T}=$();return g(Qr,{triggerClassName:I(v.value,{[v.blurValue]:l,[f]:f,[v.boostedValue]:c}),showLabel:u,label:T(t),tooltip:i?null:n,className:o,contentClassName:s,labelClassName:p,subValue:a,blur:l,boosted:c,children:i?"...":g(be,{children:d?T(`${r}`):r})})}),In=h.memo(et(en)(Kr));function en(e,{vaultId:t}){const r=Te(e,t)?"VaultStat-APR":"VaultStat-APY";if(!tt(e,t))return{label:r,value:"-",subValue:null,blur:!1,loading:!1};const l=rt(e,t);if(!l)return{label:r,value:"-",subValue:null,blur:!1,loading:!0};if(!nt(e,t))return{label:r,value:"???",subValue:null,blur:!1,loading:!1};const c=at(e,t),u=ot(c,"???"),d=it(e,t),o=pe(e,t);return{label:r,value:o?"PRE-STAKE":d?u.boostedTotalApy:u.totalApy,subValue:d||o?u.totalApy:null,blur:!1,loading:!l,boosted:d||o,shouldTranslate:o,tooltip:g(tn,{vaultId:t,isBoosted:d,rates:u})}}const tn=h.memo(function({vaultId:t,isBoosted:n,rates:r}){const a=C(i=>Te(i,t)),l=h.useMemo(()=>{const i=[];return a?i.push({label:"Pool-Apr",value:r.vaultApr}):("vaultApr"in r&&i.push({label:"Vault-Breakdown-VaultApr",value:r.vaultApr}),"tradingApr"in r&&i.push({label:"Vault-Breakdown-TradingApr",value:r.tradingApr}),"liquidStakingApr"in r&&i.push({label:"Vault-Breakdown-LiquidStakingApr",value:r.liquidStakingApr}),"composablePoolApr"in r&&i.push({label:"Vault-Breakdown-ComposablePoolApr",value:r.composablePoolApr}),"boostApr"in r&&i.push({label:"Vault-Breakdown-BoostApr",value:r.boostApr}),i.push({label:"APY",value:n?r.boostedTotalApy:r.totalApy})),i.length?i:null},[a,n,r]);return g(ut,{rows:l})});export{xn as S,Kr as V,dn as a,fn as b,gn as c,hn as d,pn as e,Tn as f,wn as g,vn as h,mn as i,ln as j,un as k,cn as l,yn as m,In as n,Sn as o,kn as p,bt as q,bn as r,sn as s,Vn as u};
