import{gu as jf,fn as Df,gv as Ff,gw as Bf,dE as P,gx as Ni,gy as te,gz as Vf,gA as Hf,gB as Jr,dD as yi,eR as Wf}from"./index-40f6b818.js";import{_}from"./tslib.es6-c2094241.js";function zf(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var To={},En={},Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.walletLogo=void 0;const Uf=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Li.walletLogo=Uf;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.ScopedLocalStorage=void 0;class qf{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Pi.ScopedLocalStorage=qf;var Pr={},br={};Object.defineProperty(br,"__esModule",{value:!0});const Gf=jf;function Ba(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Jf(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let Qf=class extends Gf.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Ba(s,this,r);else{const o=s.length,a=Jf(s);for(let c=0;c<o;c+=1)Ba(a[c],this,r)}return!0}};br.default=Qf;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.EVENTS=void 0;Qr.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var On={},Du={},zt={},Fu=Cn;Cn.default=Cn;Cn.stable=Hu;Cn.stableStringify=Hu;var vi="[...]",Bu="[Circular]",hr=[],cr=[];function Vu(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Cn(t,e,r,n){typeof n>"u"&&(n=Vu()),lo(t,"",0,[],void 0,0,n);var i;try{cr.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Wu(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;hr.length!==0;){var s=hr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Ar(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),hr.push([n,r,e,i])):cr.push([e,r,t]):(n[r]=t,hr.push([n,r,e]))}function lo(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Ar(Bu,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Ar(vi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Ar(vi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)lo(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];lo(t[u],u,a,n,t,s,o)}}n.pop()}}function Zf(t,e){return t<e?-1:t>e?1:0}function Hu(t,e,r,n){typeof n>"u"&&(n=Vu());var i=ho(t,"",0,[],void 0,0,n)||t,s;try{cr.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,Wu(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;hr.length!==0;){var o=hr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function ho(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Ar(Bu,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Ar(vi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Ar(vi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ho(t[a],a,a,n,t,s,o);else{var c={},u=Object.keys(t).sort(Zf);for(a=0;a<u.length;a++){var l=u[a];ho(t[l],l,a,n,t,s,o),c[l]=t[l]}if(typeof i<"u")hr.push([i,e,t]),i[e]=c;else return c}n.pop()}}function Wu(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(cr.length>0)for(var n=0;n<cr.length;n++){var i=cr[n];if(i[1]===e&&i[0]===r){r=i[2],cr.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(zt,"__esModule",{value:!0});zt.EthereumProviderError=zt.EthereumRpcError=void 0;const Yf=Fu;let zu=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Yf.default(this.serialize(),ed,2)}};zt.EthereumRpcError=zu;let Kf=class extends zu{constructor(e,r,n){if(!Xf(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}};zt.EthereumProviderError=Kf;function Xf(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function ed(t,e){if(e!=="[Circular]")return e}var No={},Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.errorValues=Ut.errorCodes=void 0;Ut.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Ut.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Ut,r=zt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,d=i){if(Number.isInteger(f)){const b=f.toString();if(h(e.errorValues,b))return e.errorValues[b].message;if(u(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const d=f.toString();return!!(e.errorValues[d]||u(f))}t.isValidCode=a;function c(f,{fallbackError:d=s,shouldIncludeStack:b=!1}={}){var x,w;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const v={};if(f&&typeof f=="object"&&!Array.isArray(f)&&h(f,"code")&&a(f.code)){const I=f;v.code=I.code,I.message&&typeof I.message=="string"?(v.message=I.message,h(I,"data")&&(v.data=I.data)):(v.message=o(v.code),v.data={originalError:l(f)})}else{v.code=d.code;const I=(x=f)===null||x===void 0?void 0:x.message;v.message=I&&typeof I=="string"?I:d.message,v.data={originalError:l(f)}}const S=(w=f)===null||w===void 0?void 0:w.stack;return b&&f&&S&&typeof S=="string"&&(v.stack=S),v}t.serializeError=c;function u(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function h(f,d){return Object.prototype.hasOwnProperty.call(f,d)}})(No);var $i={};Object.defineProperty($i,"__esModule",{value:!0});$i.ethErrors=void 0;const Lo=zt,Uu=No,Ae=Ut;$i.ethErrors={rpc:{parse:t=>Ge(Ae.errorCodes.rpc.parse,t),invalidRequest:t=>Ge(Ae.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Ge(Ae.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Ge(Ae.errorCodes.rpc.methodNotFound,t),internal:t=>Ge(Ae.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ge(e,t)},invalidInput:t=>Ge(Ae.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Ge(Ae.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Ge(Ae.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Ge(Ae.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Ge(Ae.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Ge(Ae.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>an(Ae.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>an(Ae.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>an(Ae.errorCodes.provider.unsupportedMethod,t),disconnected:t=>an(Ae.errorCodes.provider.disconnected,t),chainDisconnected:t=>an(Ae.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Lo.EthereumProviderError(e,r,n)}}};function Ge(t,e){const[r,n]=qu(e);return new Lo.EthereumRpcError(t,r||Uu.getMessageFromCode(t),n)}function an(t,e){const[r,n]=qu(e);return new Lo.EthereumProviderError(t,r||Uu.getMessageFromCode(t),n)}function qu(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=zt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=No;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=$i;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Ut;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Du);var ae={},ji={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(ji);Object.defineProperty(ae,"__esModule",{value:!0});ae.EthereumAddressFromSignedMessageResponse=ae.SubmitEthereumTransactionResponse=ae.SignEthereumTransactionResponse=ae.SignEthereumMessageResponse=ae.isRequestEthereumAccountsResponse=ae.SelectProviderResponse=ae.WatchAssetReponse=ae.RequestEthereumAccountsResponse=ae.SwitchEthereumChainResponse=ae.AddEthereumChainResponse=ae.isErrorResponse=void 0;const Ct=ji;function td(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}ae.isErrorResponse=td;function rd(t){return{method:Ct.Web3Method.addEthereumChain,result:t}}ae.AddEthereumChainResponse=rd;function nd(t){return{method:Ct.Web3Method.switchEthereumChain,result:t}}ae.SwitchEthereumChainResponse=nd;function id(t){return{method:Ct.Web3Method.requestEthereumAccounts,result:t}}ae.RequestEthereumAccountsResponse=id;function sd(t){return{method:Ct.Web3Method.watchAsset,result:t}}ae.WatchAssetReponse=sd;function od(t){return{method:Ct.Web3Method.selectProvider,result:t}}ae.SelectProviderResponse=od;function ad(t){return t&&t.method===Ct.Web3Method.requestEthereumAccounts}ae.isRequestEthereumAccountsResponse=ad;function cd(t){return{method:Ct.Web3Method.signEthereumMessage,result:t}}ae.SignEthereumMessageResponse=cd;function ud(t){return{method:Ct.Web3Method.signEthereumTransaction,result:t}}ae.SignEthereumTransactionResponse=ud;function ld(t){return{method:Ct.Web3Method.submitEthereumTransaction,result:t}}ae.SubmitEthereumTransactionResponse=ld;function hd(t){return{method:Ct.Web3Method.ethereumAddressFromSignedMessage,result:t}}ae.EthereumAddressFromSignedMessageResponse=hd;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.LIB_VERSION=void 0;Tn.LIB_VERSION="3.7.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=Du,r=ae,n=Tn;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(l){return l!==void 0?(0,e.getMessageFromCode)(l):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(l="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${l}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(l,h){const f=(0,e.serializeError)(o(l),{shouldIncludeStack:!0}),d=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");d.searchParams.set("version",n.LIB_VERSION),d.searchParams.set("code",f.code.toString());const b=a(f.data,h);return b&&d.searchParams.set("method",b),d.searchParams.set("message",f.message),Object.assign(Object.assign({},f),{docUrl:d.href})}t.serializeError=s;function o(l){return typeof l=="string"?{message:l,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(l)?Object.assign(Object.assign({},l),{message:l.errorMessage,code:l.errorCode,data:{method:l.method,result:l.result}}):l}function a(l,h){var f;const d=(f=l)===null||f===void 0?void 0:f.method;if(d)return d;if(h!==void 0)return typeof h=="string"?h:Array.isArray(h)?h.length>0?h[0].method:void 0:h.method}function c(l){var h;if(typeof l=="number")return l;if(u(l))return(h=l.code)!==null&&h!==void 0?h:l.errorCode}t.getErrorCode=c;function u(l){return typeof l=="object"&&l!==null&&(typeof l.code=="number"||typeof l.errorCode=="number")}})(On);var Zr={},L={},Po=typeof Map=="function"&&Map.prototype,Ts=Object.getOwnPropertyDescriptor&&Po?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,_i=Po&&Ts&&typeof Ts.get=="function"?Ts.get:null,Va=Po&&Map.prototype.forEach,$o=typeof Set=="function"&&Set.prototype,Ns=Object.getOwnPropertyDescriptor&&$o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,wi=$o&&Ns&&typeof Ns.get=="function"?Ns.get:null,Ha=$o&&Set.prototype.forEach,fd=typeof WeakMap=="function"&&WeakMap.prototype,gn=fd?WeakMap.prototype.has:null,dd=typeof WeakSet=="function"&&WeakSet.prototype,bn=dd?WeakSet.prototype.has:null,pd=typeof WeakRef=="function"&&WeakRef.prototype,Wa=pd?WeakRef.prototype.deref:null,gd=Boolean.prototype.valueOf,bd=Object.prototype.toString,md=Function.prototype.toString,yd=String.prototype.match,jo=String.prototype.slice,Ht=String.prototype.replace,vd=String.prototype.toUpperCase,za=String.prototype.toLowerCase,Gu=RegExp.prototype.test,Ua=Array.prototype.concat,yt=Array.prototype.join,_d=Array.prototype.slice,qa=Math.floor,fo=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ls=Object.getOwnPropertySymbols,po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,$r=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Le=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===$r||"symbol")?Symbol.toStringTag:null,Ju=Object.prototype.propertyIsEnumerable,Ga=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Ja(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Gu.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-qa(-t):qa(t);if(n!==t){var i=String(n),s=jo.call(e,i.length+1);return Ht.call(i,r,"$&_")+"."+Ht.call(Ht.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ht.call(e,r,"$&_")}var go=Df,Qa=go.custom,Za=Zu(Qa)?Qa:null,wd=function t(e,r,n,i){var s=r||{};if(Ft(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ft(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Ft(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ft(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ft(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Ku(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Ja(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?Ja(e,u):u}var l=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof e=="object")return bo(e)?"[Array]":"[Object]";var h=Fd(s,n);if(typeof i>"u")i=[];else if(Yu(i,e)>=0)return"[Circular]";function f(M,R,N){if(R&&(i=_d.call(i),i.push(R)),N){var C={depth:s.depth};return Ft(s,"quoteStyle")&&(C.quoteStyle=s.quoteStyle),t(M,C,n+1,i)}return t(M,s,n+1,i)}if(typeof e=="function"&&!Ya(e)){var d=Ad(e),b=Kn(e,f);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(b.length>0?" { "+yt.call(b,", ")+" }":"")}if(Zu(e)){var x=$r?Ht.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):po.call(e);return typeof e=="object"&&!$r?cn(x):x}if($d(e)){for(var w="<"+za.call(String(e.nodeName)),v=e.attributes||[],S=0;S<v.length;S++)w+=" "+v[S].name+"="+Qu(Sd(v[S].value),"double",s);return w+=">",e.childNodes&&e.childNodes.length&&(w+="..."),w+="</"+za.call(String(e.nodeName))+">",w}if(bo(e)){if(e.length===0)return"[]";var I=Kn(e,f);return h&&!Dd(I)?"["+mo(I,h)+"]":"[ "+yt.call(I,", ")+" ]"}if(Cd(e)){var T=Kn(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!Ju.call(e,"cause")?"{ ["+String(e)+"] "+yt.call(Ua.call("[cause]: "+f(e.cause),T),", ")+" }":T.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+yt.call(T,", ")+" }"}if(typeof e=="object"&&o){if(Za&&typeof e[Za]=="function"&&go)return go(e,{depth:l-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Od(e)){var A=[];return Va&&Va.call(e,function(M,R){A.push(f(R,e,!0)+" => "+f(M,e))}),Ka("Map",_i.call(e),A,h)}if(Ld(e)){var j=[];return Ha&&Ha.call(e,function(M){j.push(f(M,e))}),Ka("Set",wi.call(e),j,h)}if(Td(e))return Ps("WeakMap");if(Pd(e))return Ps("WeakSet");if(Nd(e))return Ps("WeakRef");if(Rd(e))return cn(f(Number(e)));if(Md(e))return cn(f(fo.call(e)));if(kd(e))return cn(gd.call(e));if(Id(e))return cn(f(String(e)));if(!Ed(e)&&!Ya(e)){var J=Kn(e,f),Z=Ga?Ga(e)===Object.prototype:e instanceof Object||e.constructor===Object,V=e instanceof Object?"":"null prototype",K=!Z&&Le&&Object(e)===e&&Le in e?jo.call(Kt(e),8,-1):V?"Object":"",ue=Z||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Y=ue+(K||V?"["+yt.call(Ua.call([],K||[],V||[]),": ")+"] ":"");return J.length===0?Y+"{}":h?Y+"{"+mo(J,h)+"}":Y+"{ "+yt.call(J,", ")+" }"}return String(e)};function Qu(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Sd(t){return Ht.call(String(t),/"/g,"&quot;")}function bo(t){return Kt(t)==="[object Array]"&&(!Le||!(typeof t=="object"&&Le in t))}function Ed(t){return Kt(t)==="[object Date]"&&(!Le||!(typeof t=="object"&&Le in t))}function Ya(t){return Kt(t)==="[object RegExp]"&&(!Le||!(typeof t=="object"&&Le in t))}function Cd(t){return Kt(t)==="[object Error]"&&(!Le||!(typeof t=="object"&&Le in t))}function Id(t){return Kt(t)==="[object String]"&&(!Le||!(typeof t=="object"&&Le in t))}function Rd(t){return Kt(t)==="[object Number]"&&(!Le||!(typeof t=="object"&&Le in t))}function kd(t){return Kt(t)==="[object Boolean]"&&(!Le||!(typeof t=="object"&&Le in t))}function Zu(t){if($r)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!po)return!1;try{return po.call(t),!0}catch{}return!1}function Md(t){if(!t||typeof t!="object"||!fo)return!1;try{return fo.call(t),!0}catch{}return!1}var xd=Object.prototype.hasOwnProperty||function(t){return t in this};function Ft(t,e){return xd.call(t,e)}function Kt(t){return bd.call(t)}function Ad(t){if(t.name)return t.name;var e=yd.call(md.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Yu(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Od(t){if(!_i||!t||typeof t!="object")return!1;try{_i.call(t);try{wi.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Td(t){if(!gn||!t||typeof t!="object")return!1;try{gn.call(t,gn);try{bn.call(t,bn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Nd(t){if(!Wa||!t||typeof t!="object")return!1;try{return Wa.call(t),!0}catch{}return!1}function Ld(t){if(!wi||!t||typeof t!="object")return!1;try{wi.call(t);try{_i.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Pd(t){if(!bn||!t||typeof t!="object")return!1;try{bn.call(t,bn);try{gn.call(t,gn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function $d(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Ku(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Ku(jo.call(t,0,e.maxStringLength),e)+n}var i=Ht.call(Ht.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,jd);return Qu(i,"single",e)}function jd(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+vd.call(e.toString(16))}function cn(t){return"Object("+t+")"}function Ps(t){return t+" { ? }"}function Ka(t,e,r,n){var i=n?mo(r,n):yt.call(r,", ");return t+" ("+e+") {"+i+"}"}function Dd(t){for(var e=0;e<t.length;e++)if(Yu(t[e],`
`)>=0)return!1;return!0}function Fd(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=yt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:yt.call(Array(e+1),r)}}function mo(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+yt.call(t,","+r)+`
`+e.prev}function Kn(t,e){var r=bo(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Ft(t,i)?e(t[i],t):""}var s=typeof Ls=="function"?Ls(t):[],o;if($r){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)Ft(t,c)&&(r&&String(Number(c))===c&&c<t.length||$r&&o["$"+c]instanceof Symbol||(Gu.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof Ls=="function")for(var u=0;u<s.length;u++)Ju.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var Do=Ff,Yr=Bf,Bd=wd,Vd=Do("%TypeError%"),Xn=Do("%WeakMap%",!0),ei=Do("%Map%",!0),Hd=Yr("WeakMap.prototype.get",!0),Wd=Yr("WeakMap.prototype.set",!0),zd=Yr("WeakMap.prototype.has",!0),Ud=Yr("Map.prototype.get",!0),qd=Yr("Map.prototype.set",!0),Gd=Yr("Map.prototype.has",!0),Fo=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Jd=function(t,e){var r=Fo(t,e);return r&&r.value},Qd=function(t,e,r){var n=Fo(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Zd=function(t,e){return!!Fo(t,e)},Yd=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Vd("Side channel does not contain "+Bd(s))},get:function(s){if(Xn&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Hd(e,s)}else if(ei){if(r)return Ud(r,s)}else if(n)return Jd(n,s)},has:function(s){if(Xn&&s&&(typeof s=="object"||typeof s=="function")){if(e)return zd(e,s)}else if(ei){if(r)return Gd(r,s)}else if(n)return Zd(n,s);return!1},set:function(s,o){Xn&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Xn),Wd(e,s,o)):ei?(r||(r=new ei),qd(r,s,o)):(n||(n={key:{},next:null}),Qd(n,s,o))}};return i},Kd=String.prototype.replace,Xd=/%20/g,$s={RFC1738:"RFC1738",RFC3986:"RFC3986"},Bo={default:$s.RFC3986,formatters:{RFC1738:function(t){return Kd.call(t,Xd,"+")},RFC3986:function(t){return String(t)}},RFC1738:$s.RFC1738,RFC3986:$s.RFC3986},ep=Bo,js=Object.prototype.hasOwnProperty,nr=Array.isArray,ft=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),tp=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(nr(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Xu=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},rp=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(nr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!js.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return nr(e)&&!nr(r)&&(i=Xu(e,n)),nr(e)&&nr(r)?(r.forEach(function(s,o){if(js.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return js.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},np=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},ip=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},sp=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===ep.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+ft[u];continue}if(u<2048){a=a+(ft[192|u>>6]+ft[128|u&63]);continue}if(u<55296||u>=57344){a=a+(ft[224|u>>12]+ft[128|u>>6&63]+ft[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=ft[240|u>>18]+ft[128|u>>12&63]+ft[128|u>>6&63]+ft[128|u&63]}return a},op=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=o[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:o,prop:u}),n.push(l))}return tp(r),e},ap=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},cp=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},up=function(e,r){return[].concat(e,r)},lp=function(e,r){if(nr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},el={arrayToObject:Xu,assign:np,combine:up,compact:op,decode:ip,encode:sp,isBuffer:cp,isRegExp:ap,maybeMap:lp,merge:rp},tl=Yd,di=el,mn=Bo,hp=Object.prototype.hasOwnProperty,Xa={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},kt=Array.isArray,fp=Array.prototype.push,rl=function(t,e){fp.apply(t,kt(e)?e:[e])},dp=Date.prototype.toISOString,ec=mn.default,Ne={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:di.encode,encodeValuesOnly:!1,format:ec,formatter:mn.formatters[ec],indices:!1,serializeDate:function(e){return dp.call(e)},skipNulls:!1,strictNullHandling:!1},pp=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ds={},gp=function t(e,r,n,i,s,o,a,c,u,l,h,f,d,b,x,w){for(var v=e,S=w,I=0,T=!1;(S=S.get(Ds))!==void 0&&!T;){var A=S.get(e);if(I+=1,typeof A<"u"){if(A===I)throw new RangeError("Cyclic object value");T=!0}typeof S.get(Ds)>"u"&&(I=0)}if(typeof c=="function"?v=c(r,v):v instanceof Date?v=h(v):n==="comma"&&kt(v)&&(v=di.maybeMap(v,function(C){return C instanceof Date?h(C):C})),v===null){if(s)return a&&!b?a(r,Ne.encoder,x,"key",f):r;v=""}if(pp(v)||di.isBuffer(v)){if(a){var j=b?r:a(r,Ne.encoder,x,"key",f);return[d(j)+"="+d(a(v,Ne.encoder,x,"value",f))]}return[d(r)+"="+d(String(v))]}var J=[];if(typeof v>"u")return J;var Z;if(n==="comma"&&kt(v))b&&a&&(v=di.maybeMap(v,a)),Z=[{value:v.length>0?v.join(",")||null:void 0}];else if(kt(c))Z=c;else{var V=Object.keys(v);Z=u?V.sort(u):V}for(var K=i&&kt(v)&&v.length===1?r+"[]":r,ue=0;ue<Z.length;++ue){var Y=Z[ue],M=typeof Y=="object"&&typeof Y.value<"u"?Y.value:v[Y];if(!(o&&M===null)){var R=kt(v)?typeof n=="function"?n(K,Y):K:K+(l?"."+Y:"["+Y+"]");w.set(e,I);var N=tl();N.set(Ds,w),rl(J,t(M,R,n,i,s,o,n==="comma"&&b&&kt(v)?null:a,c,u,l,h,f,d,b,x,N))}}return J},bp=function(e){if(!e)return Ne;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ne.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=mn.default;if(typeof e.format<"u"){if(!hp.call(mn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=mn.formatters[n],s=Ne.filter;return(typeof e.filter=="function"||kt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ne.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Ne.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ne.charsetSentinel,delimiter:typeof e.delimiter>"u"?Ne.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ne.encode,encoder:typeof e.encoder=="function"?e.encoder:Ne.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ne.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ne.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ne.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ne.strictNullHandling}},mp=function(t,e){var r=t,n=bp(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):kt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Xa?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Xa[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=tl(),h=0;h<i.length;++h){var f=i[h];n.skipNulls&&r[f]===null||rl(o,gp(r[f],f,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var d=o.join(n.delimiter),b=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),d.length>0?b+d:""},jr=el,yo=Object.prototype.hasOwnProperty,yp=Array.isArray,Se={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:jr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},vp=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},nl=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},_p="utf8=%26%2310003%3B",wp="utf8=%E2%9C%93",Sp=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===wp?u="utf-8":o[c]===_p&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var l=o[c],h=l.indexOf("]="),f=h===-1?l.indexOf("="):h+1,d,b;f===-1?(d=r.decoder(l,Se.decoder,u,"key"),b=r.strictNullHandling?null:""):(d=r.decoder(l.slice(0,f),Se.decoder,u,"key"),b=jr.maybeMap(nl(l.slice(f+1),r),function(x){return r.decoder(x,Se.decoder,u,"value")})),b&&r.interpretNumericEntities&&u==="iso-8859-1"&&(b=vp(b)),l.indexOf("[]=")>-1&&(b=yp(b)?[b]:b),yo.call(n,d)?n[d]=jr.combine(n[d],b):n[d]=b}return n},Ep=function(t,e,r,n){for(var i=n?e:nl(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},Cp=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,l=[];if(u){if(!n.plainObjects&&yo.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var h=0;n.depth>0&&(c=a.exec(s))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&yo.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+s.slice(c.index)+"]"),Ep(l,r,n,i)}},Ip=function(e){if(!e)return Se;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Se.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Se.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Se.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Se.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Se.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Se.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Se.comma,decoder:typeof e.decoder=="function"?e.decoder:Se.decoder,delimiter:typeof e.delimiter=="string"||jr.isRegExp(e.delimiter)?e.delimiter:Se.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Se.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Se.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Se.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Se.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Se.strictNullHandling}},Rp=function(t,e){var r=Ip(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Sp(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=Cp(a,n[a],r,typeof t=="string");i=jr.merge(i,c,r)}return r.allowSparse===!0?i:jr.compact(i)},kp=mp,Mp=Rp,xp=Bo,Ap={formats:xp,parse:Mp,stringify:kp},Nn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(Nn);var Op=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(L,"__esModule",{value:!0});L.isInIFrame=L.createQrUrl=L.getFavicon=L.range=L.isBigNumber=L.ensureParsedJSONObject=L.ensureBN=L.ensureRegExpString=L.ensureIntNumber=L.ensureBuffer=L.ensureAddressString=L.ensureEvenLengthHexString=L.ensureHexString=L.isHexString=L.prepend0x=L.strip0x=L.has0xPrefix=L.hexStringFromIntNumber=L.intNumberFromHexString=L.bigIntStringFromBN=L.hexStringFromBuffer=L.hexStringToUint8Array=L.uint8ArrayToHex=L.randomBytesHex=void 0;const Bt=Op(Ni),Tp=Ap,mr=On,et=Nn,il=/^[0-9]*$/,sl=/^[a-f0-9]*$/;function Np(t){return ol(crypto.getRandomValues(new Uint8Array(t)))}L.randomBytesHex=Np;function ol(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}L.uint8ArrayToHex=ol;function Lp(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}L.hexStringToUint8Array=Lp;function Pp(t,e=!1){const r=t.toString("hex");return(0,et.HexString)(e?"0x"+r:r)}L.hexStringFromBuffer=Pp;function $p(t){return(0,et.BigIntString)(t.toString(10))}L.bigIntStringFromBN=$p;function jp(t){return(0,et.IntNumber)(new Bt.default(Pn(t,!1),16).toNumber())}L.intNumberFromHexString=jp;function Dp(t){return(0,et.HexString)("0x"+new Bt.default(t).toString(16))}L.hexStringFromIntNumber=Dp;function Vo(t){return t.startsWith("0x")||t.startsWith("0X")}L.has0xPrefix=Vo;function Di(t){return Vo(t)?t.slice(2):t}L.strip0x=Di;function al(t){return Vo(t)?"0x"+t.slice(2):"0x"+t}L.prepend0x=al;function Ln(t){if(typeof t!="string")return!1;const e=Di(t).toLowerCase();return sl.test(e)}L.isHexString=Ln;function cl(t,e=!1){if(typeof t=="string"){const r=Di(t).toLowerCase();if(sl.test(r))return(0,et.HexString)(e?"0x"+r:r)}throw mr.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}L.ensureHexString=cl;function Pn(t,e=!1){let r=cl(t,!1);return r.length%2===1&&(r=(0,et.HexString)("0"+r)),e?(0,et.HexString)("0x"+r):r}L.ensureEvenLengthHexString=Pn;function Fp(t){if(typeof t=="string"){const e=Di(t).toLowerCase();if(Ln(e)&&e.length===40)return(0,et.AddressString)(al(e))}throw mr.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}L.ensureAddressString=Fp;function Bp(t){if(te.isBuffer(t))return t;if(typeof t=="string")if(Ln(t)){const e=Pn(t,!1);return te.from(e,"hex")}else return te.from(t,"utf8");throw mr.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}L.ensureBuffer=Bp;function ul(t){if(typeof t=="number"&&Number.isInteger(t))return(0,et.IntNumber)(t);if(typeof t=="string"){if(il.test(t))return(0,et.IntNumber)(Number(t));if(Ln(t))return(0,et.IntNumber)(new Bt.default(Pn(t,!1),16).toNumber())}throw mr.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}L.ensureIntNumber=ul;function Vp(t){if(t instanceof RegExp)return(0,et.RegExpString)(t.toString());throw mr.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}L.ensureRegExpString=Vp;function Hp(t){if(t!==null&&(Bt.default.isBN(t)||ll(t)))return new Bt.default(t.toString(10),10);if(typeof t=="number")return new Bt.default(ul(t));if(typeof t=="string"){if(il.test(t))return new Bt.default(t,10);if(Ln(t))return new Bt.default(Pn(t,!1),16)}throw mr.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}L.ensureBN=Hp;function Wp(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw mr.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}L.ensureParsedJSONObject=Wp;function ll(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}L.isBigNumber=ll;function zp(t,e){return Array.from({length:e-t},(r,n)=>t+n)}L.range=zp;function Up(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}L.getFavicon=Up;function qp(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,Tp.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}L.createQrUrl=qp;function Gp(){try{return window.frameElement!==null}catch{return!1}}L.isInIFrame=Gp;Object.defineProperty(Zr,"__esModule",{value:!0});Zr.Session=void 0;const tc=Vf,rc=L,nc="session:id",ic="session:secret",sc="session:linked";class Ho{constructor(e,r,n,i){this._storage=e,this._id=r||(0,rc.randomBytesHex)(16),this._secret=n||(0,rc.randomBytesHex)(32),this._key=new tc.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(nc),n=e.getItem(sc),i=e.getItem(ic);return r&&i?new Ho(e,r,i,n==="1"):null}static hash(e){return new tc.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(nc,this._id),this._storage.setItem(ic,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(sc,this._linked?"1":"0")}}Zr.Session=Ho;var ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.WalletSDKRelayAbstract=ct.APP_VERSION_KEY=ct.LOCAL_STORAGE_ADDRESSES_KEY=ct.WALLET_USER_NAME_KEY=void 0;const oc=On;ct.WALLET_USER_NAME_KEY="walletUsername";ct.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";ct.APP_VERSION_KEY="AppVersion";class Jp{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw oc.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,oc.serializeError)(s,e.method);return i})}}ct.WalletSDKRelayAbstract=Jp;const Qp=Hf,Zp=Ni;function hl(t){return te.allocUnsafe(t).fill(0)}function fl(t,e,r){const n=hl(e);return t=Fi(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Yp(t,e){return fl(t,e,!0)}function Fi(t){if(!te.isBuffer(t))if(Array.isArray(t))t=te.from(t);else if(typeof t=="string")dl(t)?t=te.from(e0(pl(t)),"hex"):t=te.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=te.allocUnsafe(0);else if(Zp.isBN(t))t=t.toArrayLike(te);else if(t.toArray)t=te.from(t.toArray());else throw new Error("invalid type");return t}function Kp(t){return t=Fi(t),"0x"+t.toString("hex")}function Xp(t,e){return t=Fi(t),e||(e=256),Qp("keccak"+e).update(t).digest()}function e0(t){return t.length%2?"0"+t:t}function dl(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function pl(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var gl={zeros:hl,setLength:fl,setLengthRight:Yp,isHexString:dl,stripHexPrefix:pl,toBuffer:Fi,bufferToHex:Kp,keccak:Xp};const fr=gl,ur=Ni;function bl(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Or(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function ac(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function ml(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function ir(t){var e=typeof t;if(e==="string")return fr.isHexString(t)?new ur(fr.stripHexPrefix(t),16):new ur(t,10);if(e==="number")return new ur(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function bt(t,e){var r,n,i,s;if(t==="address")return bt("uint160",ir(e));if(t==="bool")return bt("uint8",e?1:0);if(t==="string")return bt("bytes",new te(e,"utf8"));if(r0(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=ml(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(bt(t,e[s]));if(r==="dynamic"){var o=bt("uint256",e.length);i.unshift(o)}return te.concat(i)}else{if(t==="bytes")return e=new te(e),i=te.concat([bt("uint256",e.length),e]),e.length%32!==0&&(i=te.concat([i,fr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Or(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return fr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Or(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=ir(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(te,"be",32)}else if(t.startsWith("int")){if(r=Or(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=ir(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(te,"be",32)}else if(t.startsWith("ufixed")){if(r=ac(t),n=ir(e),n<0)throw new Error("Supplied ufixed is negative");return bt("uint256",n.mul(new ur(2).pow(new ur(r[1]))))}else if(t.startsWith("fixed"))return r=ac(t),bt("int256",ir(e).mul(new ur(2).pow(new ur(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function t0(t){return t==="string"||t==="bytes"||ml(t)==="dynamic"}function r0(t){return t.lastIndexOf("]")===t.length-1}function n0(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=bl(t[s]),a=e[s],c=bt(o,a);t0(o)?(r.push(bt("uint256",i)),n.push(c),i+=c.length):r.push(c)}return te.concat(r.concat(n))}function yl(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=bl(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new te(a,"utf8"));else if(o==="bool")i.push(new te(a?"01":"00","hex"));else if(o==="address")i.push(fr.setLength(a,20));else if(o.startsWith("bytes")){if(r=Or(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(fr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Or(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=ir(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(te,"be",r/8))}else if(o.startsWith("int")){if(r=Or(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=ir(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(te,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return te.concat(i)}function i0(t,e){return fr.keccak(yl(t,e))}var s0={rawEncode:n0,solidityPack:yl,soliditySHA3:i0};const st=gl,yn=s0,vl={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Fs={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,u)=>{if(r[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":st.keccak(this.encodeData(c,u,r,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",st.keccak(u)];if(c==="string")return typeof u=="string"&&(u=te.from(u,"utf8")),["bytes32",st.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),h=u.map(f=>o(a,l,f));return["bytes32",st.keccak(yn.rawEncode(h.map(([f])=>f),h.map(([,f])=>f)))]}return[c,u]};for(const a of r[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=st.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=te.from(a,"utf8")),a=st.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=st.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return yn.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return st.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return st.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in vl.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[te.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),st.keccak(te.concat(n))}};var o0={TYPED_MESSAGE_SCHEMA:vl,TypedDataUtils:Fs,hashForSignTypedDataLegacy:function(t){return a0(t.data)},hashForSignTypedData_v3:function(t){return Fs.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Fs.hash(t.data)}};function a0(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?st.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return yn.soliditySHA3(["bytes32","bytes32"],[yn.soliditySHA3(new Array(t.length).fill("string"),i),yn.soliditySHA3(n,r)])}var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.filterFromParam=Dr.FilterPolyfill=void 0;const kr=Nn,Pe=L,c0=5*60*1e3,sr={jsonrpc:"2.0",id:0};class u0{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,kr.IntNumber)(1),this.provider=e}async newFilter(e){const r=_l(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,Pe.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Pe.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Pe.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,Pe.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,Pe.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(ti())}async getFilterLogs(e){const r=(0,Pe.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},sr),{method:"eth_getLogs",params:[cc(n)]})):ti()}makeFilterId(){return(0,kr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return ti();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return ri();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},sr),{method:"eth_getLogs",params:[cc(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,Pe.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,kr.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return ti();const n=await this.getCurrentBlockHeight();if(r>n)return ri();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,Pe.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,kr.IntNumber)(o))))).filter(o=>!!o),s=(0,kr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},sr),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(ri())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},c0);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},sr),{method:"eth_blockNumber",params:[]}));return(0,Pe.intNumberFromHexString)((0,Pe.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},sr),{method:"eth_getBlockByNumber",params:[(0,Pe.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,Pe.ensureHexString)(r.result.hash):null}}Dr.FilterPolyfill=u0;function _l(t){return{fromBlock:uc(t.fromBlock),toBlock:uc(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Dr.filterFromParam=_l;function cc(t){const e={fromBlock:lc(t.fromBlock),toBlock:lc(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function uc(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,kr.IntNumber)(0);if((0,Pe.isHexString)(t))return(0,Pe.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function lc(t){return t==="latest"?t:(0,Pe.hexStringFromIntNumber)(t)}function ti(){return Object.assign(Object.assign({},sr),{error:{code:-32e3,message:"filter not found"}})}function ri(){return Object.assign(Object.assign({},sr),{result:[]})}var wl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(wl);var Bi={},Sl={},Vi={},Wo=l0;function l0(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const hc=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var h0=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):hc(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?hc(s,e):s}return n},$n={},f0=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($n,"__esModule",{value:!0});$n.BaseBlockTracker=void 0;const d0=f0(br),p0=1e3,g0=(t,e)=>t+e,fc=["sync","latest"];class b0 extends d0.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*p0,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){fc.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return fc.map(e=>this.listenerCount(e)).reduce(g0)}_newPotentialLatest(e){const r=this._currentBlock;r&&dc(e)<=dc(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}$n.BaseBlockTracker=b0;function dc(t){return Number.parseInt(t,16)}var El={},Cl={},Me={};class Il extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function m0(t){return tt(t)&&typeof t[Symbol.iterator]=="function"}function tt(t){return typeof t=="object"&&t!=null}function pc(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function we(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function y0(t){const{done:e,value:r}=t.next();return e?void 0:r}function v0(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${we(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*vo(t,e,r,n){m0(t)||(t=[t]);for(const i of t){const s=v0(i,e,r,n);s&&(yield s)}}function*zo(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&tt(e.schema)&&tt(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,h]of e.entries(t,a)){const f=zo(l,h,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:r.message});for(const d of f)d[0]?(c=d[0].refinement!=null?"not_refined":"not_valid",yield[d[0],void 0]):s&&(l=d[1],u===void 0?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):tt(t)&&(l!==void 0||u in t)&&(t[u]=l))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class me{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return vo(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return vo(l,u,this,c)}:this.refiner=()=>[]}assert(e,r){return Rl(e,this,r)}create(e,r){return kl(e,this,r)}is(e){return Uo(e,this)}mask(e,r){return Ml(e,this,r)}validate(e,r={}){return Kr(e,this,r)}}function Rl(t,e,r){const n=Kr(t,e,{message:r});if(n[0])throw n[0]}function kl(t,e,r){const n=Kr(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Ml(t,e,r){const n=Kr(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Uo(t,e){return!Kr(t,e)[0]}function Kr(t,e,r={}){const n=zo(t,e,r),i=y0(n);return i[0]?[new Il(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function _0(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?Go(n):jn(n)}function Ve(t,e){return new me({type:t,schema:null,validator:e})}function w0(t,e){return new me({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function S0(t){return new me({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function E0(t){let e;return new me({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function C0(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return Go(n);default:return jn(n)}}function I0(t){const e=t instanceof me?{...t.schema}:{...t};for(const r in e)e[r]=xl(e[r]);return jn(e)}function R0(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return jn(n)}function k0(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Ve(t,e)}function M0(){return Ve("any",()=>!0)}function x0(t){return new me({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${we(e)}`}})}function A0(){return Ve("bigint",t=>typeof t=="bigint")}function O0(){return Ve("boolean",t=>typeof t=="boolean")}function T0(){return Ve("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${we(t)}`)}function N0(t){const e={},r=t.map(n=>we(n)).join();for(const n of t)e[n]=n;return new me({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${we(n)}`}})}function L0(){return Ve("func",t=>typeof t=="function"||`Expected a function, but received: ${we(t)}`)}function P0(t){return Ve("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${we(e)}`)}function $0(){return Ve("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${we(t)}`)}function j0(t){return new me({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function D0(t){const e=we(t),r=typeof t;return new me({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${we(n)}`}})}function F0(t,e){return new me({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${we(r)}`}})}function qo(){return Ve("never",()=>!1)}function B0(t){return new me({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function V0(){return Ve("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${we(t)}`)}function jn(t){const e=t?Object.keys(t):[],r=qo();return new me({type:"object",schema:t||null,*entries(n){if(t&&tt(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return tt(n)||`Expected an object, but received: ${we(n)}`},coercer(n){return tt(n)?{...n}:n}})}function xl(t){return new me({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function H0(t,e){return new me({type:"record",schema:null,*entries(r){if(tt(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return tt(r)||`Expected an object, but received: ${we(r)}`}})}function W0(){return Ve("regexp",t=>t instanceof RegExp)}function z0(t){return new me({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${we(e)}`}})}function Al(){return Ve("string",t=>typeof t=="string"||`Expected a string, but received: ${we(t)}`)}function U0(t){const e=qo();return new me({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${we(r)}`}})}function Go(t){const e=Object.keys(t);return new me({type:"type",schema:t,*entries(r){if(tt(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return tt(r)||`Expected an object, but received: ${we(r)}`},coercer(r){return tt(r)?{...r}:r}})}function q0(t){const e=t.map(r=>r.type).join(" | ");return new me({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=zo(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${we(r)}`,...i]}})}function Ol(){return Ve("unknown",()=>!0)}function Jo(t,e,r){return new me({...t,coercer:(n,i)=>Uo(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function G0(t,e,r={}){return Jo(t,Ol(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&pc(n)&&pc(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function J0(t){return Jo(t,Al(),e=>e.trim())}function Q0(t){return yr(t,"empty",e=>{const r=Tl(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function Tl(t){return t instanceof Map||t instanceof Set?t.size:t.length}function Z0(t,e,r={}){const{exclusive:n}=r;return yr(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function Y0(t,e,r={}){const{exclusive:n}=r;return yr(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function K0(t){return yr(t,"nonempty",e=>Tl(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function X0(t,e){return yr(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function eg(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return yr(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function yr(t,e,r){return new me({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=vo(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const tg=Object.freeze(Object.defineProperty({__proto__:null,Struct:me,StructError:Il,any:M0,array:x0,assert:Rl,assign:_0,bigint:A0,boolean:O0,coerce:Jo,create:kl,date:T0,defaulted:G0,define:Ve,deprecated:w0,dynamic:S0,empty:Q0,enums:N0,func:L0,instance:P0,integer:$0,intersection:j0,is:Uo,lazy:E0,literal:D0,map:F0,mask:Ml,max:Z0,min:Y0,never:qo,nonempty:K0,nullable:B0,number:V0,object:jn,omit:C0,optional:xl,partial:I0,pattern:X0,pick:R0,record:H0,refine:yr,regexp:W0,set:z0,size:eg,string:Al,struct:k0,trimmed:J0,tuple:U0,type:Go,union:q0,unknown:Ol,validate:Kr},Symbol.toStringTag,{value:"Module"})),vr=Jr(tg);Object.defineProperty(Me,"__esModule",{value:!0});Me.assertExhaustive=Me.assertStruct=Me.assert=Me.AssertionError=void 0;const rg=vr;function ng(t){return typeof t=="object"&&t!==null&&"message"in t}function ig(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function sg(t){const e=ng(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function Nl(t,e){return ig(t)?new t({message:e}):t({message:e})}class Qo extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}Me.AssertionError=Qo;function og(t,e="Assertion failed.",r=Qo){if(!t)throw e instanceof Error?e:Nl(r,e)}Me.assert=og;function ag(t,e,r="Assertion failed",n=Qo){try{(0,rg.assert)(t,e)}catch(i){throw Nl(n,`${r}: ${sg(i)}.`)}}Me.assertStruct=ag;function cg(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}Me.assertExhaustive=cg;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.base64=void 0;const ug=vr,lg=Me,hg=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,lg.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,ug.pattern)(t,a)};Dn.base64=hg;var ee={},Fn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=vr,r=Me;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(u){return(0,e.is)(u,t.HexStruct)}t.isHexString=n;function i(u){return(0,e.is)(u,t.StrictHexStruct)}t.isStrictHexString=i;function s(u){(0,r.assert)(n(u),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(u){(0,r.assert)(i(u),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}t.add0x=a;function c(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}t.remove0x=c})(Fn);Object.defineProperty(ee,"__esModule",{value:!0});ee.createDataView=ee.concatBytes=ee.valueToBytes=ee.stringToBytes=ee.numberToBytes=ee.signedBigIntToBytes=ee.bigIntToBytes=ee.hexToBytes=ee.bytesToString=ee.bytesToNumber=ee.bytesToSignedBigInt=ee.bytesToBigInt=ee.bytesToHex=ee.assertIsBytes=ee.isBytes=void 0;const We=Me,_o=Fn,gc=48,bc=58,mc=87;function fg(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const dg=fg();function Zo(t){return t instanceof Uint8Array}ee.isBytes=Zo;function Xr(t){(0,We.assert)(Zo(t),"Value must be a Uint8Array.")}ee.assertIsBytes=Xr;function Ll(t){if(Xr(t),t.length===0)return"0x";const e=dg(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,_o.add0x)(r.join(""))}ee.bytesToHex=Ll;function Pl(t){Xr(t);const e=Ll(t);return BigInt(e)}ee.bytesToBigInt=Pl;function pg(t){Xr(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}ee.bytesToSignedBigInt=pg;function gg(t){Xr(t);const e=Pl(t);return(0,We.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}ee.bytesToNumber=gg;function bg(t){return Xr(t),new TextDecoder().decode(t)}ee.bytesToString=bg;function Hi(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,_o.assertIsHexString)(t);const r=(0,_o.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<bc?gc:mc),u=a-(a<bc?gc:mc);i[s]=c*16+u}return i}ee.hexToBytes=Hi;function $l(t){(0,We.assert)(typeof t=="bigint","Value must be a bigint."),(0,We.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return Hi(e)}ee.bigIntToBytes=$l;function mg(t,e){(0,We.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function yg(t,e){(0,We.assert)(typeof t=="bigint","Value must be a bigint."),(0,We.assert)(typeof e=="number","Byte length must be a number."),(0,We.assert)(e>0,"Byte length must be greater than 0."),(0,We.assert)(mg(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}ee.signedBigIntToBytes=yg;function jl(t){(0,We.assert)(typeof t=="number","Value must be a number."),(0,We.assert)(t>=0,"Value must be a non-negative number."),(0,We.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return Hi(e)}ee.numberToBytes=jl;function Dl(t){return(0,We.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}ee.stringToBytes=Dl;function Fl(t){if(typeof t=="bigint")return $l(t);if(typeof t=="number")return jl(t);if(typeof t=="string")return t.startsWith("0x")?Hi(t):Dl(t);if(Zo(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}ee.valueToBytes=Fl;function vg(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=Fl(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}ee.concatBytes=vg;function _g(t){if(typeof te<"u"&&t instanceof te){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}ee.createDataView=_g;var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.ChecksumStruct=void 0;const yc=vr,wg=Dn;Wi.ChecksumStruct=(0,yc.size)((0,wg.base64)((0,yc.string)(),{paddingRequired:!0}),44,44);var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.createHex=_t.createBytes=_t.createBigInt=_t.createNumber=void 0;const he=vr,Sg=Me,Bl=ee,zi=Fn,Vl=(0,he.union)([(0,he.number)(),(0,he.bigint)(),(0,he.string)(),zi.StrictHexStruct]),Eg=(0,he.coerce)((0,he.number)(),Vl,Number),Cg=(0,he.coerce)((0,he.bigint)(),Vl,BigInt);(0,he.union)([zi.StrictHexStruct,(0,he.instance)(Uint8Array)]);const Ig=(0,he.coerce)((0,he.instance)(Uint8Array),(0,he.union)([zi.StrictHexStruct]),Bl.hexToBytes),Rg=(0,he.coerce)(zi.StrictHexStruct,(0,he.instance)(Uint8Array),Bl.bytesToHex);function kg(t){try{const e=(0,he.create)(t,Eg);return(0,Sg.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof he.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}_t.createNumber=kg;function Mg(t){try{return(0,he.create)(t,Cg)}catch(e){throw e instanceof he.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}_t.createBigInt=Mg;function xg(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,he.create)(t,Ig)}catch(e){throw e instanceof he.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}_t.createBytes=xg;function Ag(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,he.create)(t,Rg)}catch(e){throw e instanceof he.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}_t.createHex=Ag;var Fr={},Hl=P&&P.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},$e=P&&P.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},nt,dt;Object.defineProperty(Fr,"__esModule",{value:!0});Fr.FrozenSet=Fr.FrozenMap=void 0;class Yo{constructor(e){nt.set(this,void 0),Hl(this,nt,new Map(e),"f"),Object.freeze(this)}get size(){return $e(this,nt,"f").size}[(nt=new WeakMap,Symbol.iterator)](){return $e(this,nt,"f")[Symbol.iterator]()}entries(){return $e(this,nt,"f").entries()}forEach(e,r){return $e(this,nt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return $e(this,nt,"f").get(e)}has(e){return $e(this,nt,"f").has(e)}keys(){return $e(this,nt,"f").keys()}values(){return $e(this,nt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}Fr.FrozenMap=Yo;class Ko{constructor(e){dt.set(this,void 0),Hl(this,dt,new Set(e),"f"),Object.freeze(this)}get size(){return $e(this,dt,"f").size}[(dt=new WeakMap,Symbol.iterator)](){return $e(this,dt,"f")[Symbol.iterator]()}entries(){return $e(this,dt,"f").entries()}forEach(e,r){return $e(this,dt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return $e(this,dt,"f").has(e)}keys(){return $e(this,dt,"f").keys()}values(){return $e(this,dt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}Fr.FrozenSet=Ko;Object.freeze(Yo);Object.freeze(Yo.prototype);Object.freeze(Ko);Object.freeze(Ko.prototype);var Wl={},Xo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(u){return Array.isArray(u)&&u.length>0}t.isNonEmptyArray=e;function r(u){return u==null}t.isNullOrUndefined=r;function n(u){return!!u&&typeof u=="object"&&!Array.isArray(u)}t.isObject=n;const i=(u,l)=>Object.hasOwnProperty.call(u,l);t.hasProperty=i,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(u){if(typeof u!="object"||u===null)return!1;try{let l=u;for(;Object.getPrototypeOf(l)!==null;)l=Object.getPrototypeOf(l);return Object.getPrototypeOf(u)===l}catch{return!1}}t.isPlainObject=s;function o(u){return u.charCodeAt(0)<=127}t.isASCII=o;function a(u){var l;return u.split("").reduce((f,d)=>o(d)?f+1:f+2,0)+((l=u.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&l!==void 0?l:[]).length}t.calculateStringSize=a;function c(u){return u.toString().length}t.calculateNumberSize=c})(Xo);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=vr,r=Me,n=Xo;t.JsonStruct=(0,e.define)("Json",A=>{const[j]=T(A,!0);return j?!0:"Expected a valid JSON-serializable value"});function i(A){return(0,e.is)(A,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(A){return(0,e.is)(A,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(A,j){(0,r.assertStruct)(A,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",j)}t.assertIsJsonRpcNotification=o;function a(A){return(0,e.is)(A,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(A,j){(0,r.assertStruct)(A,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",j)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function u(A){return(0,e.is)(A,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=u;function l(A,j){(0,r.assertStruct)(A,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",j)}t.assertIsPendingJsonRpcResponse=l;function h(A){return(0,e.is)(A,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=h;function f(A,j){(0,r.assertStruct)(A,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",j)}t.assertIsJsonRpcResponse=f;function d(A){return(0,e.is)(A,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=d;function b(A,j){(0,r.assertStruct)(A,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",j)}t.assertIsJsonRpcSuccess=b;function x(A){return(0,e.is)(A,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=x;function w(A,j){(0,r.assertStruct)(A,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",j)}t.assertIsJsonRpcFailure=w;function v(A){return(0,e.is)(A,t.JsonRpcErrorStruct)}t.isJsonRpcError=v;function S(A,j){(0,r.assertStruct)(A,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",j)}t.assertIsJsonRpcError=S;function I(A){const{permitEmptyString:j,permitFractions:J,permitNull:Z}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},A);return K=>!!(typeof K=="number"&&(J||Number.isInteger(K))||typeof K=="string"&&(j||K.length>0)||Z&&K===null)}t.getJsonRpcIdValidator=I;function T(A,j=!1){const J=new Set;function Z(V,K){if(V===void 0)return[!1,0];if(V===null)return[!0,K?0:n.JsonSize.Null];const ue=typeof V;try{if(ue==="function")return[!1,0];if(ue==="string"||V instanceof String)return[!0,K?0:(0,n.calculateStringSize)(V)+n.JsonSize.Quote*2];if(ue==="boolean"||V instanceof Boolean)return K?[!0,0]:[!0,V==!0?n.JsonSize.True:n.JsonSize.False];if(ue==="number"||V instanceof Number)return K?[!0,0]:[!0,(0,n.calculateNumberSize)(V)];if(V instanceof Date)return K?[!0,0]:[!0,isNaN(V.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(V)&&!Array.isArray(V))return[!1,0];if(J.has(V))return[!1,0];J.add(V);try{return[!0,Object.entries(V).reduce((Y,[M,R],N,C)=>{let[D,O]=Z(R,K);if(!D)throw new Error("JSON validation did not pass. Validation process stopped.");if(J.delete(V),K)return 0;const F=Array.isArray(V)?0:M.length+n.JsonSize.Comma+n.JsonSize.Colon*2,p=N<C.length-1?n.JsonSize.Comma:0;return Y+F+O+p},K?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return Z(A,j)}t.validateJsonAndGetSize=T})(Wl);var Br={},Si={},Og={get exports(){return Si},set exports(t){Si=t}},Bs,vc;function Tg(){if(vc)return Bs;vc=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;Bs=function(l,h){h=h||{};var f=typeof l;if(f==="string"&&l.length>0)return o(l);if(f==="number"&&isFinite(l))return h.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(h){var f=parseFloat(h[1]),d=(h[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return f*s;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*n;case"hours":case"hour":case"hrs":case"hr":case"h":return f*r;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(l){var h=Math.abs(l);return h>=n?Math.round(l/n)+"d":h>=r?Math.round(l/r)+"h":h>=e?Math.round(l/e)+"m":h>=t?Math.round(l/t)+"s":l+"ms"}function c(l){var h=Math.abs(l);return h>=n?u(l,h,n,"day"):h>=r?u(l,h,r,"hour"):h>=e?u(l,h,e,"minute"):h>=t?u(l,h,t,"second"):l+" ms"}function u(l,h,f,d){var b=h>=f*1.5;return Math.round(l/f)+" "+d+(b?"s":"")}return Bs}function Ng(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Tg(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let h=0;for(let f=0;f<l.length;f++)h=(h<<5)-h+l.charCodeAt(f),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=e;function r(l){let h,f=null,d,b;function x(...w){if(!x.enabled)return;const v=x,S=Number(new Date),I=S-(h||S);v.diff=I,v.prev=h,v.curr=S,h=S,w[0]=r.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let T=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(j,J)=>{if(j==="%%")return"%";T++;const Z=r.formatters[J];if(typeof Z=="function"){const V=w[T];j=Z.call(v,V),w.splice(T,1),T--}return j}),r.formatArgs.call(v,w),(v.log||r.log).apply(v,w)}return x.namespace=l,x.useColors=r.useColors(),x.color=r.selectColor(l),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(d!==r.namespaces&&(d=r.namespaces,b=r.enabled(l)),b),set:w=>{f=w}}),typeof r.init=="function"&&r.init(x),x}function n(l,h){const f=r(this.namespace+(typeof h>"u"?":":h)+l);return f.log=this.log,f}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let h;const f=(typeof l=="string"?l:"").split(/[\s,]+/),d=f.length;for(h=0;h<d;h++)f[h]&&(l=f[h].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function s(){const l=[...r.names.map(a),...r.skips.map(a).map(h=>"-"+h)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let h,f;for(h=0,f=r.skips.length;h<f;h++)if(r.skips[h].test(l))return!1;for(h=0,f=r.names.length;h<f;h++)if(r.names[h].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Lg=Ng;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let l=0,h=0;c[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(l++,f==="%c"&&(h=l))}),c.splice(h,0,u)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof yi<"u"&&"env"in yi&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=Lg(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Og,Si);var Pg=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Br,"__esModule",{value:!0});Br.createModuleLogger=Br.createProjectLogger=void 0;const $g=Pg(Si),jg=(0,$g.default)("metamask");function Dg(t){return jg.extend(t)}Br.createProjectLogger=Dg;function Fg(t,e){return t.extend(e)}Br.createModuleLogger=Fg;var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.hexToBigInt=wt.hexToNumber=wt.bigIntToHex=wt.numberToHex=void 0;const Tr=Me,In=Fn,Bg=t=>((0,Tr.assert)(typeof t=="number","Value must be a number."),(0,Tr.assert)(t>=0,"Value must be a non-negative number."),(0,Tr.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,In.add0x)(t.toString(16)));wt.numberToHex=Bg;const Vg=t=>((0,Tr.assert)(typeof t=="bigint","Value must be a bigint."),(0,Tr.assert)(t>=0,"Value must be a non-negative bigint."),(0,In.add0x)(t.toString(16)));wt.bigIntToHex=Vg;const Hg=t=>{(0,In.assertIsHexString)(t);const e=parseInt(t,16);return(0,Tr.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};wt.hexToNumber=Hg;const Wg=t=>((0,In.assertIsHexString)(t),BigInt((0,In.add0x)(t)));wt.hexToBigInt=Wg;var zl={};Object.defineProperty(zl,"__esModule",{value:!0});var Ul={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(Ul);var ql={},qt={},zg={get exports(){return qt},set exports(t){qt=t}};const Ug="2.0.0",Gl=256,qg=Number.MAX_SAFE_INTEGER||9007199254740991,Gg=16,Jg=Gl-6,Qg=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ui={MAX_LENGTH:Gl,MAX_SAFE_COMPONENT_LENGTH:Gg,MAX_SAFE_BUILD_LENGTH:Jg,MAX_SAFE_INTEGER:qg,RELEASE_TYPES:Qg,SEMVER_SPEC_VERSION:Ug,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Zg=typeof yi=="object"&&yi.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var qi=Zg;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Ui,s=qi;e=t.exports={};const o=e.re=[],a=e.safeRe=[],c=e.src=[],u=e.t={};let l=0;const h="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[h,n]],d=x=>{for(const[w,v]of f)x=x.split(`${w}*`).join(`${w}{0,${v}}`).split(`${w}+`).join(`${w}{1,${v}}`);return x},b=(x,w,v)=>{const S=d(w),I=l++;s(x,I,w),u[x]=I,c[I]=w,o[I]=new RegExp(w,v?"g":void 0),a[I]=new RegExp(S,v?"g":void 0)};b("NUMERICIDENTIFIER","0|[1-9]\\d*"),b("NUMERICIDENTIFIERLOOSE","\\d+"),b("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),b("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),b("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),b("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),b("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),b("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),b("BUILDIDENTIFIER",`${h}+`),b("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),b("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),b("FULL",`^${c[u.FULLPLAIN]}$`),b("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),b("LOOSE",`^${c[u.LOOSEPLAIN]}$`),b("GTLT","((?:<|>)?=?)"),b("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),b("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),b("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),b("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),b("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),b("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),b("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),b("COERCERTL",c[u.COERCE],!0),b("LONETILDE","(?:~>?)"),b("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",b("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),b("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),b("LONECARET","(?:\\^)"),b("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",b("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),b("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),b("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),b("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),b("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",b("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),b("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),b("STAR","(<|>)?=?\\s*\\*"),b("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),b("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(zg,qt);const Yg=Object.freeze({loose:!0}),Kg=Object.freeze({}),Xg=t=>t?typeof t!="object"?Yg:t:Kg;var ea=Xg;const _c=/^[0-9]+$/,Jl=(t,e)=>{const r=_c.test(t),n=_c.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},eb=(t,e)=>Jl(e,t);var Ql={compareIdentifiers:Jl,rcompareIdentifiers:eb};const ni=qi,{MAX_LENGTH:wc,MAX_SAFE_INTEGER:ii}=Ui,{safeRe:Sc,t:Ec}=qt,tb=ea,{compareIdentifiers:Sr}=Ql;let rb=class gt{constructor(e,r){if(r=tb(r),e instanceof gt){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>wc)throw new TypeError(`version is longer than ${wc} characters`);ni("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?Sc[Ec.LOOSE]:Sc[Ec.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ii||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ii||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ii||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<ii)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ni("SemVer.compare",this.version,this.options,e),!(e instanceof gt)){if(typeof e=="string"&&e===this.version)return 0;e=new gt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof gt||(e=new gt(e,this.options)),Sr(this.major,e.major)||Sr(this.minor,e.minor)||Sr(this.patch,e.patch)}comparePre(e){if(e instanceof gt||(e=new gt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(ni("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Sr(n,i)}while(++r)}compareBuild(e){e instanceof gt||(e=new gt(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(ni("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Sr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Sr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Fe=rb;const Cc=Fe,nb=(t,e,r=!1)=>{if(t instanceof Cc)return t;try{return new Cc(t,e)}catch(n){if(!r)return null;throw n}};var en=nb;const ib=en,sb=(t,e)=>{const r=ib(t,e);return r?r.version:null};var ob=sb;const ab=en,cb=(t,e)=>{const r=ab(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var ub=cb;const Ic=Fe,lb=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Ic(t instanceof Ic?t.version:t,r).inc(e,n,i).version}catch{return null}};var hb=lb;const Rc=en,fb=(t,e)=>{const r=Rc(t,null,!0),n=Rc(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};var db=fb;const pb=Fe,gb=(t,e)=>new pb(t,e).major;var bb=gb;const mb=Fe,yb=(t,e)=>new mb(t,e).minor;var vb=yb;const _b=Fe,wb=(t,e)=>new _b(t,e).patch;var Sb=wb;const Eb=en,Cb=(t,e)=>{const r=Eb(t,e);return r&&r.prerelease.length?r.prerelease:null};var Ib=Cb;const kc=Fe,Rb=(t,e,r)=>new kc(t,r).compare(new kc(e,r));var ut=Rb;const kb=ut,Mb=(t,e,r)=>kb(e,t,r);var xb=Mb;const Ab=ut,Ob=(t,e)=>Ab(t,e,!0);var Tb=Ob;const Mc=Fe,Nb=(t,e,r)=>{const n=new Mc(t,r),i=new Mc(e,r);return n.compare(i)||n.compareBuild(i)};var ta=Nb;const Lb=ta,Pb=(t,e)=>t.sort((r,n)=>Lb(r,n,e));var $b=Pb;const jb=ta,Db=(t,e)=>t.sort((r,n)=>jb(n,r,e));var Fb=Db;const Bb=ut,Vb=(t,e,r)=>Bb(t,e,r)>0;var Gi=Vb;const Hb=ut,Wb=(t,e,r)=>Hb(t,e,r)<0;var ra=Wb;const zb=ut,Ub=(t,e,r)=>zb(t,e,r)===0;var Zl=Ub;const qb=ut,Gb=(t,e,r)=>qb(t,e,r)!==0;var Yl=Gb;const Jb=ut,Qb=(t,e,r)=>Jb(t,e,r)>=0;var na=Qb;const Zb=ut,Yb=(t,e,r)=>Zb(t,e,r)<=0;var ia=Yb;const Kb=Zl,Xb=Yl,em=Gi,tm=na,rm=ra,nm=ia,im=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Kb(t,r,n);case"!=":return Xb(t,r,n);case">":return em(t,r,n);case">=":return tm(t,r,n);case"<":return rm(t,r,n);case"<=":return nm(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Kl=im;const sm=Fe,om=en,{safeRe:si,t:oi}=qt,am=(t,e)=>{if(t instanceof sm)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(si[oi.COERCE]);else{let n;for(;(n=si[oi.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),si[oi.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;si[oi.COERCERTL].lastIndex=-1}return r===null?null:om(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var cm=am,Vs,xc;function um(){return xc||(xc=1,Vs=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Vs}var lm=re;re.Node=dr;re.create=re;function re(t){var e=this;if(e instanceof re||(e=new re),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}re.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};re.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};re.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};re.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)fm(this,arguments[t]);return this.length};re.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)dm(this,arguments[t]);return this.length};re.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};re.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};re.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};re.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};re.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};re.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};re.prototype.map=function(t,e){e=e||this;for(var r=new re,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};re.prototype.mapReverse=function(t,e){e=e||this;for(var r=new re,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};re.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};re.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};re.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};re.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};re.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new re;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};re.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new re;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};re.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=hm(this,i,r[n]);return s};re.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function hm(t,e,r){var n=e===t.head?new dr(r,null,e,t):new dr(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function fm(t,e){t.tail=new dr(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function dm(t,e){t.head=new dr(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function dr(t,e,r,n){if(!(this instanceof dr))return new dr(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{um()(re)}catch{}const pm=lm,or=Symbol("max"),Mt=Symbol("length"),Er=Symbol("lengthCalculator"),vn=Symbol("allowStale"),lr=Symbol("maxAge"),It=Symbol("dispose"),Ac=Symbol("noDisposeOnSet"),Ee=Symbol("lruList"),ot=Symbol("cache"),Xl=Symbol("updateAgeOnGet"),Hs=()=>1;class gm{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[or]=e.max||1/0;const r=e.length||Hs;if(this[Er]=typeof r!="function"?Hs:r,this[vn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[lr]=e.maxAge||0,this[It]=e.dispose,this[Ac]=e.noDisposeOnSet||!1,this[Xl]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[or]=e||1/0,un(this)}get max(){return this[or]}set allowStale(e){this[vn]=!!e}get allowStale(){return this[vn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[lr]=e,un(this)}get maxAge(){return this[lr]}set lengthCalculator(e){typeof e!="function"&&(e=Hs),e!==this[Er]&&(this[Er]=e,this[Mt]=0,this[Ee].forEach(r=>{r.length=this[Er](r.value,r.key),this[Mt]+=r.length})),un(this)}get lengthCalculator(){return this[Er]}get length(){return this[Mt]}get itemCount(){return this[Ee].length}rforEach(e,r){r=r||this;for(let n=this[Ee].tail;n!==null;){const i=n.prev;Oc(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Ee].head;n!==null;){const i=n.next;Oc(this,e,n,r),n=i}}keys(){return this[Ee].toArray().map(e=>e.key)}values(){return this[Ee].toArray().map(e=>e.value)}reset(){this[It]&&this[Ee]&&this[Ee].length&&this[Ee].forEach(e=>this[It](e.key,e.value)),this[ot]=new Map,this[Ee]=new pm,this[Mt]=0}dump(){return this[Ee].map(e=>Ei(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Ee]}set(e,r,n){if(n=n||this[lr],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Er](r,e);if(this[ot].has(e)){if(s>this[or])return Nr(this,this[ot].get(e)),!1;const c=this[ot].get(e).value;return this[It]&&(this[Ac]||this[It](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[Mt]+=s-c.length,c.length=s,this.get(e),un(this),!0}const o=new bm(e,r,s,i,n);return o.length>this[or]?(this[It]&&this[It](e,r),!1):(this[Mt]+=o.length,this[Ee].unshift(o),this[ot].set(e,this[Ee].head),un(this),!0)}has(e){if(!this[ot].has(e))return!1;const r=this[ot].get(e).value;return!Ei(this,r)}get(e){return Ws(this,e,!0)}peek(e){return Ws(this,e,!1)}pop(){const e=this[Ee].tail;return e?(Nr(this,e),e.value):null}del(e){Nr(this,this[ot].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[ot].forEach((e,r)=>Ws(this,r,!1))}}const Ws=(t,e,r)=>{const n=t[ot].get(e);if(n){const i=n.value;if(Ei(t,i)){if(Nr(t,n),!t[vn])return}else r&&(t[Xl]&&(n.value.now=Date.now()),t[Ee].unshiftNode(n));return i.value}},Ei=(t,e)=>{if(!e||!e.maxAge&&!t[lr])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[lr]&&r>t[lr]},un=t=>{if(t[Mt]>t[or])for(let e=t[Ee].tail;t[Mt]>t[or]&&e!==null;){const r=e.prev;Nr(t,e),e=r}},Nr=(t,e)=>{if(e){const r=e.value;t[It]&&t[It](r.key,r.value),t[Mt]-=r.length,t[ot].delete(r.key),t[Ee].removeNode(e)}};class bm{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Oc=(t,e,r,n)=>{let i=r.value;Ei(t,i)&&(Nr(t,r),t[vn]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var mm=gm,zs,Tc;function lt(){if(Tc)return zs;Tc=1;class t{constructor(R,N){if(N=n(N),R instanceof t)return R.loose===!!N.loose&&R.includePrerelease===!!N.includePrerelease?R:new t(R.raw,N);if(R instanceof i)return this.raw=R.value,this.set=[[R]],this.format(),this;if(this.options=N,this.loose=!!N.loose,this.includePrerelease=!!N.includePrerelease,this.raw=R.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(C=>this.parseRange(C.trim())).filter(C=>C.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const C=this.set[0];if(this.set=this.set.filter(D=>!b(D[0])),this.set.length===0)this.set=[C];else if(this.set.length>1){for(const D of this.set)if(D.length===1&&x(D[0])){this.set=[D];break}}}this.format()}format(){return this.range=this.set.map(R=>R.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(R){const C=((this.options.includePrerelease&&f)|(this.options.loose&&d))+":"+R,D=r.get(C);if(D)return D;const O=this.options.loose,F=O?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];R=R.replace(F,ue(this.options.includePrerelease)),s("hyphen replace",R),R=R.replace(a[c.COMPARATORTRIM],u),s("comparator trim",R),R=R.replace(a[c.TILDETRIM],l),s("tilde trim",R),R=R.replace(a[c.CARETTRIM],h),s("caret trim",R);let p=R.split(" ").map(E=>v(E,this.options)).join(" ").split(/\s+/).map(E=>K(E,this.options));O&&(p=p.filter(E=>(s("loose invalid filter",E,this.options),!!E.match(a[c.COMPARATORLOOSE])))),s("range list",p);const g=new Map,m=p.map(E=>new i(E,this.options));for(const E of m){if(b(E))return[E];g.set(E.value,E)}g.size>1&&g.has("")&&g.delete("");const y=[...g.values()];return r.set(C,y),y}intersects(R,N){if(!(R instanceof t))throw new TypeError("a Range is required");return this.set.some(C=>w(C,N)&&R.set.some(D=>w(D,N)&&C.every(O=>D.every(F=>O.intersects(F,N)))))}test(R){if(!R)return!1;if(typeof R=="string")try{R=new o(R,this.options)}catch{return!1}for(let N=0;N<this.set.length;N++)if(Y(this.set[N],R,this.options))return!0;return!1}}zs=t;const e=mm,r=new e({max:1e3}),n=ea,i=Ji(),s=qi,o=Fe,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:l,caretTrimReplace:h}=qt,{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:d}=Ui,b=M=>M.value==="<0.0.0-0",x=M=>M.value==="",w=(M,R)=>{let N=!0;const C=M.slice();let D=C.pop();for(;N&&C.length;)N=C.every(O=>D.intersects(O,R)),D=C.pop();return N},v=(M,R)=>(s("comp",M,R),M=A(M,R),s("caret",M),M=I(M,R),s("tildes",M),M=J(M,R),s("xrange",M),M=V(M,R),s("stars",M),M),S=M=>!M||M.toLowerCase()==="x"||M==="*",I=(M,R)=>M.trim().split(/\s+/).map(N=>T(N,R)).join(" "),T=(M,R)=>{const N=R.loose?a[c.TILDELOOSE]:a[c.TILDE];return M.replace(N,(C,D,O,F,p)=>{s("tilde",M,C,D,O,F,p);let g;return S(D)?g="":S(O)?g=`>=${D}.0.0 <${+D+1}.0.0-0`:S(F)?g=`>=${D}.${O}.0 <${D}.${+O+1}.0-0`:p?(s("replaceTilde pr",p),g=`>=${D}.${O}.${F}-${p} <${D}.${+O+1}.0-0`):g=`>=${D}.${O}.${F} <${D}.${+O+1}.0-0`,s("tilde return",g),g})},A=(M,R)=>M.trim().split(/\s+/).map(N=>j(N,R)).join(" "),j=(M,R)=>{s("caret",M,R);const N=R.loose?a[c.CARETLOOSE]:a[c.CARET],C=R.includePrerelease?"-0":"";return M.replace(N,(D,O,F,p,g)=>{s("caret",M,D,O,F,p,g);let m;return S(O)?m="":S(F)?m=`>=${O}.0.0${C} <${+O+1}.0.0-0`:S(p)?O==="0"?m=`>=${O}.${F}.0${C} <${O}.${+F+1}.0-0`:m=`>=${O}.${F}.0${C} <${+O+1}.0.0-0`:g?(s("replaceCaret pr",g),O==="0"?F==="0"?m=`>=${O}.${F}.${p}-${g} <${O}.${F}.${+p+1}-0`:m=`>=${O}.${F}.${p}-${g} <${O}.${+F+1}.0-0`:m=`>=${O}.${F}.${p}-${g} <${+O+1}.0.0-0`):(s("no pr"),O==="0"?F==="0"?m=`>=${O}.${F}.${p}${C} <${O}.${F}.${+p+1}-0`:m=`>=${O}.${F}.${p}${C} <${O}.${+F+1}.0-0`:m=`>=${O}.${F}.${p} <${+O+1}.0.0-0`),s("caret return",m),m})},J=(M,R)=>(s("replaceXRanges",M,R),M.split(/\s+/).map(N=>Z(N,R)).join(" ")),Z=(M,R)=>{M=M.trim();const N=R.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return M.replace(N,(C,D,O,F,p,g)=>{s("xRange",M,C,D,O,F,p,g);const m=S(O),y=m||S(F),E=y||S(p),k=E;return D==="="&&k&&(D=""),g=R.includePrerelease?"-0":"",m?D===">"||D==="<"?C="<0.0.0-0":C="*":D&&k?(y&&(F=0),p=0,D===">"?(D=">=",y?(O=+O+1,F=0,p=0):(F=+F+1,p=0)):D==="<="&&(D="<",y?O=+O+1:F=+F+1),D==="<"&&(g="-0"),C=`${D+O}.${F}.${p}${g}`):y?C=`>=${O}.0.0${g} <${+O+1}.0.0-0`:E&&(C=`>=${O}.${F}.0${g} <${O}.${+F+1}.0-0`),s("xRange return",C),C})},V=(M,R)=>(s("replaceStars",M,R),M.trim().replace(a[c.STAR],"")),K=(M,R)=>(s("replaceGTE0",M,R),M.trim().replace(a[R.includePrerelease?c.GTE0PRE:c.GTE0],"")),ue=M=>(R,N,C,D,O,F,p,g,m,y,E,k,H)=>(S(C)?N="":S(D)?N=`>=${C}.0.0${M?"-0":""}`:S(O)?N=`>=${C}.${D}.0${M?"-0":""}`:F?N=`>=${N}`:N=`>=${N}${M?"-0":""}`,S(m)?g="":S(y)?g=`<${+m+1}.0.0-0`:S(E)?g=`<${m}.${+y+1}.0-0`:k?g=`<=${m}.${y}.${E}-${k}`:M?g=`<${m}.${y}.${+E+1}-0`:g=`<=${g}`,`${N} ${g}`.trim()),Y=(M,R,N)=>{for(let C=0;C<M.length;C++)if(!M[C].test(R))return!1;if(R.prerelease.length&&!N.includePrerelease){for(let C=0;C<M.length;C++)if(s(M[C].semver),M[C].semver!==i.ANY&&M[C].semver.prerelease.length>0){const D=M[C].semver;if(D.major===R.major&&D.minor===R.minor&&D.patch===R.patch)return!0}return!1}return!0};return zs}var Us,Nc;function Ji(){if(Nc)return Us;Nc=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(l,h){if(h=r(h),l instanceof e){if(l.loose===!!h.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),o("comparator",l,h),this.options=h,this.loose=!!h.loose,this.parse(l),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(l){const h=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],f=l.match(h);if(!f)throw new TypeError(`Invalid comparator: ${l}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=t}toString(){return this.value}test(l){if(o("Comparator.test",l,this.options.loose),this.semver===t||l===t)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch{return!1}return s(l,this.operator,this.semver,this.options)}intersects(l,h){if(!(l instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,h).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,h).test(l.semver):(h=r(h),h.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||s(this.semver,"<",l.semver,h)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||s(this.semver,">",l.semver,h)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}Us=e;const r=ea,{safeRe:n,t:i}=qt,s=Kl,o=qi,a=Fe,c=lt();return Us}const ym=lt(),vm=(t,e,r)=>{try{e=new ym(e,r)}catch{return!1}return e.test(t)};var Qi=vm;const _m=lt(),wm=(t,e)=>new _m(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var Sm=wm;const Em=Fe,Cm=lt(),Im=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Cm(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new Em(n,r))}),n};var Rm=Im;const km=Fe,Mm=lt(),xm=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Mm(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new km(n,r))}),n};var Am=xm;const qs=Fe,Om=lt(),Lc=Gi,Tm=(t,e)=>{t=new Om(t,e);let r=new qs("0.0.0");if(t.test(r)||(r=new qs("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new qs(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Lc(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Lc(r,s))&&(r=s)}return r&&t.test(r)?r:null};var Nm=Tm;const Lm=lt(),Pm=(t,e)=>{try{return new Lm(t,e).range||"*"}catch{return null}};var $m=Pm;const jm=Fe,eh=Ji(),{ANY:Dm}=eh,Fm=lt(),Bm=Qi,Pc=Gi,$c=ra,Vm=ia,Hm=na,Wm=(t,e,r,n)=>{t=new jm(t,n),e=new Fm(e,n);let i,s,o,a,c;switch(r){case">":i=Pc,s=Vm,o=$c,a=">",c=">=";break;case"<":i=$c,s=Hm,o=Pc,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Bm(t,e,n))return!1;for(let u=0;u<e.set.length;++u){const l=e.set[u];let h=null,f=null;if(l.forEach(d=>{d.semver===Dm&&(d=new eh(">=0.0.0")),h=h||d,f=f||d,i(d.semver,h.semver,n)?h=d:o(d.semver,f.semver,n)&&(f=d)}),h.operator===a||h.operator===c||(!f.operator||f.operator===a)&&s(t,f.semver))return!1;if(f.operator===c&&o(t,f.semver))return!1}return!0};var sa=Wm;const zm=sa,Um=(t,e,r)=>zm(t,e,">",r);var qm=Um;const Gm=sa,Jm=(t,e,r)=>Gm(t,e,"<",r);var Qm=Jm;const jc=lt(),Zm=(t,e,r)=>(t=new jc(t,r),e=new jc(e,r),t.intersects(e,r));var Ym=Zm;const Km=Qi,Xm=ut;var ey=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((l,h)=>Xm(l,h,r));for(const l of o)Km(l,e,r)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[l,h]of n)l===h?a.push(l):!h&&l===o[0]?a.push("*"):h?l===o[0]?a.push(`<=${h}`):a.push(`${l} - ${h}`):a.push(`>=${l}`);const c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e};const Dc=lt(),oa=Ji(),{ANY:Gs}=oa,ln=Qi,aa=ut,ty=(t,e,r={})=>{if(t===e)return!0;t=new Dc(t,r),e=new Dc(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=ny(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},ry=[new oa(">=0.0.0-0")],Fc=[new oa(">=0.0.0")],ny=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Gs){if(e.length===1&&e[0].semver===Gs)return!0;r.includePrerelease?t=ry:t=Fc}if(e.length===1&&e[0].semver===Gs){if(r.includePrerelease)return!0;e=Fc}const n=new Set;let i,s;for(const d of t)d.operator===">"||d.operator===">="?i=Bc(i,d,r):d.operator==="<"||d.operator==="<="?s=Vc(s,d,r):n.add(d.semver);if(n.size>1)return null;let o;if(i&&s){if(o=aa(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const d of n){if(i&&!ln(d,String(i),r)||s&&!ln(d,String(s),r))return null;for(const b of e)if(!ln(d,String(b),r))return!1;return!0}let a,c,u,l,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&s.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const d of e){if(l=l||d.operator===">"||d.operator===">=",u=u||d.operator==="<"||d.operator==="<=",i){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator===">"||d.operator===">="){if(a=Bc(i,d,r),a===d&&a!==i)return!1}else if(i.operator===">="&&!ln(i.semver,String(d),r))return!1}if(s){if(h&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===h.major&&d.semver.minor===h.minor&&d.semver.patch===h.patch&&(h=!1),d.operator==="<"||d.operator==="<="){if(c=Vc(s,d,r),c===d&&c!==s)return!1}else if(s.operator==="<="&&!ln(s.semver,String(d),r))return!1}if(!d.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&l&&!i&&o!==0||f||h)},Bc=(t,e,r)=>{if(!t)return e;const n=aa(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Vc=(t,e,r)=>{if(!t)return e;const n=aa(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var iy=ty;const Js=qt,Hc=Ui,sy=Fe,Wc=Ql,oy=en,ay=ob,cy=ub,uy=hb,ly=db,hy=bb,fy=vb,dy=Sb,py=Ib,gy=ut,by=xb,my=Tb,yy=ta,vy=$b,_y=Fb,wy=Gi,Sy=ra,Ey=Zl,Cy=Yl,Iy=na,Ry=ia,ky=Kl,My=cm,xy=Ji(),Ay=lt(),Oy=Qi,Ty=Sm,Ny=Rm,Ly=Am,Py=Nm,$y=$m,jy=sa,Dy=qm,Fy=Qm,By=Ym,Vy=ey,Hy=iy;var Wy={parse:oy,valid:ay,clean:cy,inc:uy,diff:ly,major:hy,minor:fy,patch:dy,prerelease:py,compare:gy,rcompare:by,compareLoose:my,compareBuild:yy,sort:vy,rsort:_y,gt:wy,lt:Sy,eq:Ey,neq:Cy,gte:Iy,lte:Ry,cmp:ky,coerce:My,Comparator:xy,Range:Ay,satisfies:Oy,toComparators:Ty,maxSatisfying:Ny,minSatisfying:Ly,minVersion:Py,validRange:$y,outside:jy,gtr:Dy,ltr:Fy,intersects:By,simplifyRange:Vy,subset:Hy,SemVer:sy,re:Js.re,src:Js.src,tokens:Js.t,SEMVER_SPEC_VERSION:Hc.SEMVER_SPEC_VERSION,RELEASE_TYPES:Hc.RELEASE_TYPES,compareIdentifiers:Wc.compareIdentifiers,rcompareIdentifiers:Wc.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=Wy,r=vr,n=Me;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",h=>(0,e.valid)(h)===null?`Expected SemVer version, got "${h}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",h=>(0,e.validRange)(h)===null?`Expected SemVer range, got "${h}"`:!0);function i(h){return(0,r.is)(h,t.VersionStruct)}t.isValidSemVerVersion=i;function s(h){return(0,r.is)(h,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(h){(0,n.assertStruct)(h,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(h){(0,n.assertStruct)(h,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(h,f){return(0,e.gt)(h,f)}t.gtVersion=c;function u(h,f){return(0,e.gtr)(h,f)}t.gtRange=u;function l(h,f){return(0,e.satisfies)(h,f,{includePrerelease:!0})}t.satisfiesVersionRange=l})(ql);(function(t){var e=P&&P.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=P&&P.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Me,t),r(Dn,t),r(ee,t),r(Wi,t),r(_t,t),r(Fr,t),r(Fn,t),r(Wl,t),r(Br,t),r(Xo,t),r(wt,t),r(zl,t),r(Ul,t),r(ql,t)})(Cl);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Cl;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(El);var th=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.PollingBlockTracker=void 0;const zy=th(Wo),Uy=th(h0),qy=$n,zc=El,Uc=(0,zc.createModuleLogger)(zc.projectLogger,"polling-block-tracker"),Gy=(0,zy.default)(),Jy=1e3;class Qy extends qy.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*Jy,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=qc(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=qc(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:Gy(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),Uc("Making request",e);const r=await(0,Uy.default)(n=>this._provider.sendAsync(e,n))();if(Uc("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}Vi.PollingBlockTracker=Qy;function qc(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Zi={},Zy=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.SubscribeBlockTracker=void 0;const Yy=Zy(Wo),Ky=$n,Xy=(0,Yy.default)();class ev extends Ky.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:Xy(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Zi.SubscribeBlockTracker=ev;var rh={};Object.defineProperty(rh,"__esModule",{value:!0});(function(t){var e=P&&P.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=P&&P.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Vi,t),r(Zi,t),r(rh,t)})(Sl);var ca={},Yi={},Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.getUniqueId=void 0;const nh=4294967295;let Qs=Math.floor(Math.random()*nh);function tv(){return Qs=(Qs+1)%nh,Qs}Bn.getUniqueId=tv;Object.defineProperty(Yi,"__esModule",{value:!0});Yi.createIdRemapMiddleware=void 0;const rv=Bn;function nv(){return(t,e,r,n)=>{const i=t.id,s=rv.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Yi.createIdRemapMiddleware=nv;var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.createAsyncMiddleware=void 0;function iv(t){return async(e,r,n,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,c=!1;const u=async()=>{c=!0,n(l=>{a=l,s()}),await o};try{await t(e,r,u),c?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}Ki.createAsyncMiddleware=iv;var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.createScaffoldMiddleware=void 0;function sv(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Xi.createScaffoldMiddleware=sv;var Vn={},ih={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.EthereumProviderError=Gt.EthereumRpcError=void 0;const ov=Fu;class sh extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return ov.default(this.serialize(),uv,2)}}Gt.EthereumRpcError=sh;class av extends sh{constructor(e,r,n){if(!cv(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Gt.EthereumProviderError=av;function cv(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function uv(t,e){if(e!=="[Circular]")return e}var ua={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.errorValues=Jt.errorCodes=void 0;Jt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Jt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Jt,r=Gt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,d=i){if(Number.isInteger(f)){const b=f.toString();if(h(e.errorValues,b))return e.errorValues[b].message;if(u(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const d=f.toString();return!!(e.errorValues[d]||u(f))}t.isValidCode=a;function c(f,{fallbackError:d=s,shouldIncludeStack:b=!1}={}){var x,w;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const v={};if(f&&typeof f=="object"&&!Array.isArray(f)&&h(f,"code")&&a(f.code)){const I=f;v.code=I.code,I.message&&typeof I.message=="string"?(v.message=I.message,h(I,"data")&&(v.data=I.data)):(v.message=o(v.code),v.data={originalError:l(f)})}else{v.code=d.code;const I=(x=f)===null||x===void 0?void 0:x.message;v.message=I&&typeof I=="string"?I:d.message,v.data={originalError:l(f)}}const S=(w=f)===null||w===void 0?void 0:w.stack;return b&&f&&S&&typeof S=="string"&&(v.stack=S),v}t.serializeError=c;function u(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function h(f,d){return Object.prototype.hasOwnProperty.call(f,d)}})(ua);var es={};Object.defineProperty(es,"__esModule",{value:!0});es.ethErrors=void 0;const la=Gt,oh=ua,Oe=Jt;es.ethErrors={rpc:{parse:t=>Je(Oe.errorCodes.rpc.parse,t),invalidRequest:t=>Je(Oe.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Je(Oe.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Je(Oe.errorCodes.rpc.methodNotFound,t),internal:t=>Je(Oe.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Je(e,t)},invalidInput:t=>Je(Oe.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Je(Oe.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Je(Oe.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Je(Oe.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Je(Oe.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Je(Oe.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>hn(Oe.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>hn(Oe.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>hn(Oe.errorCodes.provider.unsupportedMethod,t),disconnected:t=>hn(Oe.errorCodes.provider.disconnected,t),chainDisconnected:t=>hn(Oe.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new la.EthereumProviderError(e,r,n)}}};function Je(t,e){const[r,n]=ah(e);return new la.EthereumRpcError(t,r||oh.getMessageFromCode(t),n)}function hn(t,e){const[r,n]=ah(e);return new la.EthereumProviderError(t,r||oh.getMessageFromCode(t),n)}function ah(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Gt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=ua;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=es;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Jt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(ih);var lv=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.JsonRpcEngine=void 0;const hv=lv(br),Qe=ih;class Rt extends hv.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await Rt._runAllMiddleware(e,r,this._middleware);return o?(await Rt._runReturnHandlers(a),i(s)):n(async c=>{try{await Rt._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Qe.EthereumRpcError(Qe.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Qe.EthereumRpcError(Qe.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Qe.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await Rt._runAllMiddleware(e,r,this._middleware);if(Rt._checkForCompletion(e,r,i),await Rt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Rt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const u=c||r.error;u&&(r.error=Qe.serializeError(u)),s([u,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new Qe.EthereumRpcError(Qe.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Zs(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Qe.EthereumRpcError(Qe.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Zs(e)}`,{request:e});if(!n)throw new Qe.EthereumRpcError(Qe.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Zs(e)}`,{request:e})}}Vn.JsonRpcEngine=Rt;function Zs(t){return JSON.stringify(t,null,2)}var ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.mergeMiddleware=void 0;const fv=Vn;function dv(t){const e=new fv.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}ts.mergeMiddleware=dv;(function(t){var e=P&&P.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=P&&P.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Yi,t),r(Ki,t),r(Xi,t),r(Bn,t),r(Vn,t),r(ts,t)})(ca);var ch={},ha={},Rn={},pv={get exports(){return Rn},set exports(t){Rn=t}};(function(t){var e,r,n,i,s,o,a,c,u,l,h,f,d,b,x,w,v,S,I,T,A,j,J,Z,V,K,ue,Y,M,R,N;(function(C){var D=typeof P=="object"?P:typeof self=="object"?self:typeof this=="object"?this:{};C(O(D,O(t.exports)));function O(F,p){return F!==D&&(typeof Object.create=="function"?Object.defineProperty(F,"__esModule",{value:!0}):F.__esModule=!0),function(g,m){return F[g]=p?p(g,m):m}}})(function(C){var D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(p[m]=g[m])};e=function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");D(p,g);function m(){this.constructor=p}p.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)},r=Object.assign||function(p){for(var g,m=1,y=arguments.length;m<y;m++){g=arguments[m];for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(p[E]=g[E])}return p},n=function(p,g){var m={};for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&g.indexOf(y)<0&&(m[y]=p[y]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,y=Object.getOwnPropertySymbols(p);E<y.length;E++)g.indexOf(y[E])<0&&Object.prototype.propertyIsEnumerable.call(p,y[E])&&(m[y[E]]=p[y[E]]);return m},i=function(p,g,m,y){var E=arguments.length,k=E<3?g:y===null?y=Object.getOwnPropertyDescriptor(g,m):y,H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(p,g,m,y);else for(var ie=p.length-1;ie>=0;ie--)(H=p[ie])&&(k=(E<3?H(k):E>3?H(g,m,k):H(g,m))||k);return E>3&&k&&Object.defineProperty(g,m,k),k},s=function(p,g){return function(m,y){g(m,y,p)}},o=function(p,g,m,y,E,k){function H(on){if(on!==void 0&&typeof on!="function")throw new TypeError("Function expected");return on}for(var ie=y.kind,qe=ie==="getter"?"get":ie==="setter"?"set":"value",U=!g&&p?y.static?p:p.prototype:null,be=g||(U?Object.getOwnPropertyDescriptor(U,y.name):{}),xe,ve=!1,ht=m.length-1;ht>=0;ht--){var Lt={};for(var Pt in y)Lt[Pt]=Pt==="access"?{}:y[Pt];for(var Pt in y.access)Lt.access[Pt]=y.access[Pt];Lt.addInitializer=function(on){if(ve)throw new TypeError("Cannot add initializers after decoration has completed");k.push(H(on||null))};var Xt=(0,m[ht])(ie==="accessor"?{get:be.get,set:be.set}:be[qe],Lt);if(ie==="accessor"){if(Xt===void 0)continue;if(Xt===null||typeof Xt!="object")throw new TypeError("Object expected");(xe=H(Xt.get))&&(be.get=xe),(xe=H(Xt.set))&&(be.set=xe),(xe=H(Xt.init))&&E.unshift(xe)}else(xe=H(Xt))&&(ie==="field"?E.unshift(xe):be[qe]=xe)}U&&Object.defineProperty(U,y.name,be),ve=!0},a=function(p,g,m){for(var y=arguments.length>2,E=0;E<g.length;E++)m=y?g[E].call(p,m):g[E].call(p);return y?m:void 0},c=function(p){return typeof p=="symbol"?p:"".concat(p)},u=function(p,g,m){return typeof g=="symbol"&&(g=g.description?"[".concat(g.description,"]"):""),Object.defineProperty(p,"name",{configurable:!0,value:m?"".concat(m," ",g):g})},l=function(p,g){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,g)},h=function(p,g,m,y){function E(k){return k instanceof m?k:new m(function(H){H(k)})}return new(m||(m=Promise))(function(k,H){function ie(be){try{U(y.next(be))}catch(xe){H(xe)}}function qe(be){try{U(y.throw(be))}catch(xe){H(xe)}}function U(be){be.done?k(be.value):E(be.value).then(ie,qe)}U((y=y.apply(p,g||[])).next())})},f=function(p,g){var m={label:0,sent:function(){if(k[0]&1)throw k[1];return k[1]},trys:[],ops:[]},y,E,k,H;return H={next:ie(0),throw:ie(1),return:ie(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function ie(U){return function(be){return qe([U,be])}}function qe(U){if(y)throw new TypeError("Generator is already executing.");for(;H&&(H=0,U[0]&&(m=0)),m;)try{if(y=1,E&&(k=U[0]&2?E.return:U[0]?E.throw||((k=E.return)&&k.call(E),0):E.next)&&!(k=k.call(E,U[1])).done)return k;switch(E=0,k&&(U=[U[0]&2,k.value]),U[0]){case 0:case 1:k=U;break;case 4:return m.label++,{value:U[1],done:!1};case 5:m.label++,E=U[1],U=[0];continue;case 7:U=m.ops.pop(),m.trys.pop();continue;default:if(k=m.trys,!(k=k.length>0&&k[k.length-1])&&(U[0]===6||U[0]===2)){m=0;continue}if(U[0]===3&&(!k||U[1]>k[0]&&U[1]<k[3])){m.label=U[1];break}if(U[0]===6&&m.label<k[1]){m.label=k[1],k=U;break}if(k&&m.label<k[2]){m.label=k[2],m.ops.push(U);break}k[2]&&m.ops.pop(),m.trys.pop();continue}U=g.call(p,m)}catch(be){U=[6,be],E=0}finally{y=k=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}},d=function(p,g){for(var m in p)m!=="default"&&!Object.prototype.hasOwnProperty.call(g,m)&&M(g,p,m)},M=Object.create?function(p,g,m,y){y===void 0&&(y=m);var E=Object.getOwnPropertyDescriptor(g,m);(!E||("get"in E?!g.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return g[m]}}),Object.defineProperty(p,y,E)}:function(p,g,m,y){y===void 0&&(y=m),p[y]=g[m]},b=function(p){var g=typeof Symbol=="function"&&Symbol.iterator,m=g&&p[g],y=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},x=function(p,g){var m=typeof Symbol=="function"&&p[Symbol.iterator];if(!m)return p;var y=m.call(p),E,k=[],H;try{for(;(g===void 0||g-- >0)&&!(E=y.next()).done;)k.push(E.value)}catch(ie){H={error:ie}}finally{try{E&&!E.done&&(m=y.return)&&m.call(y)}finally{if(H)throw H.error}}return k},w=function(){for(var p=[],g=0;g<arguments.length;g++)p=p.concat(x(arguments[g]));return p},v=function(){for(var p=0,g=0,m=arguments.length;g<m;g++)p+=arguments[g].length;for(var y=Array(p),E=0,g=0;g<m;g++)for(var k=arguments[g],H=0,ie=k.length;H<ie;H++,E++)y[E]=k[H];return y},S=function(p,g,m){if(m||arguments.length===2)for(var y=0,E=g.length,k;y<E;y++)(k||!(y in g))&&(k||(k=Array.prototype.slice.call(g,0,y)),k[y]=g[y]);return p.concat(k||Array.prototype.slice.call(g))},I=function(p){return this instanceof I?(this.v=p,this):new I(p)},T=function(p,g,m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=m.apply(p,g||[]),E,k=[];return E={},H("next"),H("throw"),H("return"),E[Symbol.asyncIterator]=function(){return this},E;function H(ve){y[ve]&&(E[ve]=function(ht){return new Promise(function(Lt,Pt){k.push([ve,ht,Lt,Pt])>1||ie(ve,ht)})})}function ie(ve,ht){try{qe(y[ve](ht))}catch(Lt){xe(k[0][3],Lt)}}function qe(ve){ve.value instanceof I?Promise.resolve(ve.value.v).then(U,be):xe(k[0][2],ve)}function U(ve){ie("next",ve)}function be(ve){ie("throw",ve)}function xe(ve,ht){ve(ht),k.shift(),k.length&&ie(k[0][0],k[0][1])}},A=function(p){var g,m;return g={},y("next"),y("throw",function(E){throw E}),y("return"),g[Symbol.iterator]=function(){return this},g;function y(E,k){g[E]=p[E]?function(H){return(m=!m)?{value:I(p[E](H)),done:!1}:k?k(H):H}:k}},j=function(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=p[Symbol.asyncIterator],m;return g?g.call(p):(p=typeof b=="function"?b(p):p[Symbol.iterator](),m={},y("next"),y("throw"),y("return"),m[Symbol.asyncIterator]=function(){return this},m);function y(k){m[k]=p[k]&&function(H){return new Promise(function(ie,qe){H=p[k](H),E(ie,qe,H.done,H.value)})}}function E(k,H,ie,qe){Promise.resolve(qe).then(function(U){k({value:U,done:ie})},H)}},J=function(p,g){return Object.defineProperty?Object.defineProperty(p,"raw",{value:g}):p.raw=g,p};var O=Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g};Z=function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var m in p)m!=="default"&&Object.prototype.hasOwnProperty.call(p,m)&&M(g,p,m);return O(g,p),g},V=function(p){return p&&p.__esModule?p:{default:p}},K=function(p,g,m,y){if(m==="a"&&!y)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?p!==g||!y:!g.has(p))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m==="m"?y:m==="a"?y.call(p):y?y.value:g.get(p)},ue=function(p,g,m,y,E){if(y==="m")throw new TypeError("Private method is not writable");if(y==="a"&&!E)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?p!==g||!E:!g.has(p))throw new TypeError("Cannot write private member to an object whose class did not declare it");return y==="a"?E.call(p,m):E?E.value=m:g.set(p,m),m},Y=function(p,g){if(g===null||typeof g!="object"&&typeof g!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof p=="function"?g===p:p.has(g)},R=function(p,g,m){if(g!=null){if(typeof g!="object")throw new TypeError("Object expected.");var y;if(m){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");y=g[Symbol.asyncDispose]}if(y===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");y=g[Symbol.dispose]}if(typeof y!="function")throw new TypeError("Object not disposable.");p.stack.push({value:g,dispose:y,async:m})}else m&&p.stack.push({async:!0});return g};var F=typeof SuppressedError=="function"?SuppressedError:function(p,g,m){var y=new Error(m);return y.name="SuppressedError",y.error=p,y.suppressed=g,y};N=function(p){function g(y){p.error=p.hasError?new F(y,p.error,"An error was suppressed during disposal."):y,p.hasError=!0}function m(){for(;p.stack.length;){var y=p.stack.pop();try{var E=y.dispose&&y.dispose.call(y.value);if(y.async)return Promise.resolve(E).then(m,function(k){return g(k),m()})}catch(k){g(k)}}if(p.hasError)throw p.error}return m()},C("__extends",e),C("__assign",r),C("__rest",n),C("__decorate",i),C("__param",s),C("__esDecorate",o),C("__runInitializers",a),C("__propKey",c),C("__setFunctionName",u),C("__metadata",l),C("__awaiter",h),C("__generator",f),C("__exportStar",d),C("__createBinding",M),C("__values",b),C("__read",x),C("__spread",w),C("__spreadArrays",v),C("__spreadArray",S),C("__await",I),C("__asyncGenerator",T),C("__asyncDelegator",A),C("__asyncValues",j),C("__makeTemplateObject",J),C("__importStar",Z),C("__importDefault",V),C("__classPrivateFieldGet",K),C("__classPrivateFieldSet",ue),C("__classPrivateFieldIn",Y),C("__addDisposableResource",R),C("__disposeResources",N)})})(pv);var rs={};Object.defineProperty(rs,"__esModule",{value:!0});var Gc=Rn,gv=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Gc.__awaiter(this,void 0,void 0,function(){var r,n,i;return Gc.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();rs.default=gv;Object.defineProperty(ha,"__esModule",{value:!0});var Jc=Rn,bv=rs,mv=function(){function t(){this._semaphore=new bv.default(1)}return t.prototype.acquire=function(){return Jc.__awaiter(this,void 0,void 0,function(){var e,r;return Jc.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();ha.default=mv;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.withTimeout=void 0;var ai=Rn;function yv(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return ai.__awaiter(n,void 0,void 0,function(){var o,a,c;return ai.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return ai.__awaiter(this,void 0,void 0,function(){var s,o;return ai.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}ns.withTimeout=yv;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=ha;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=rs;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=ns;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(ch);var vv=wv,_v=Object.prototype.hasOwnProperty;function wv(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)_v.call(r,n)&&(t[n]=r[n])}return t}const Sv=vv,Ev=Wo();var Cv=W;function W(t){const e=this;e.currentProvider=t}W.prototype.getBalance=Hn(2,"eth_getBalance");W.prototype.getCode=Hn(2,"eth_getCode");W.prototype.getTransactionCount=Hn(2,"eth_getTransactionCount");W.prototype.getStorageAt=Hn(3,"eth_getStorageAt");W.prototype.call=Hn(2,"eth_call");W.prototype.protocolVersion=Q("eth_protocolVersion");W.prototype.syncing=Q("eth_syncing");W.prototype.coinbase=Q("eth_coinbase");W.prototype.mining=Q("eth_mining");W.prototype.hashrate=Q("eth_hashrate");W.prototype.gasPrice=Q("eth_gasPrice");W.prototype.accounts=Q("eth_accounts");W.prototype.blockNumber=Q("eth_blockNumber");W.prototype.getBlockTransactionCountByHash=Q("eth_getBlockTransactionCountByHash");W.prototype.getBlockTransactionCountByNumber=Q("eth_getBlockTransactionCountByNumber");W.prototype.getUncleCountByBlockHash=Q("eth_getUncleCountByBlockHash");W.prototype.getUncleCountByBlockNumber=Q("eth_getUncleCountByBlockNumber");W.prototype.sign=Q("eth_sign");W.prototype.sendTransaction=Q("eth_sendTransaction");W.prototype.sendRawTransaction=Q("eth_sendRawTransaction");W.prototype.estimateGas=Q("eth_estimateGas");W.prototype.getBlockByHash=Q("eth_getBlockByHash");W.prototype.getBlockByNumber=Q("eth_getBlockByNumber");W.prototype.getTransactionByHash=Q("eth_getTransactionByHash");W.prototype.getTransactionByBlockHashAndIndex=Q("eth_getTransactionByBlockHashAndIndex");W.prototype.getTransactionByBlockNumberAndIndex=Q("eth_getTransactionByBlockNumberAndIndex");W.prototype.getTransactionReceipt=Q("eth_getTransactionReceipt");W.prototype.getUncleByBlockHashAndIndex=Q("eth_getUncleByBlockHashAndIndex");W.prototype.getUncleByBlockNumberAndIndex=Q("eth_getUncleByBlockNumberAndIndex");W.prototype.getCompilers=Q("eth_getCompilers");W.prototype.compileLLL=Q("eth_compileLLL");W.prototype.compileSolidity=Q("eth_compileSolidity");W.prototype.compileSerpent=Q("eth_compileSerpent");W.prototype.newFilter=Q("eth_newFilter");W.prototype.newBlockFilter=Q("eth_newBlockFilter");W.prototype.newPendingTransactionFilter=Q("eth_newPendingTransactionFilter");W.prototype.uninstallFilter=Q("eth_uninstallFilter");W.prototype.getFilterChanges=Q("eth_getFilterChanges");W.prototype.getFilterLogs=Q("eth_getFilterLogs");W.prototype.getLogs=Q("eth_getLogs");W.prototype.getWork=Q("eth_getWork");W.prototype.submitWork=Q("eth_submitWork");W.prototype.submitHashrate=Q("eth_submitHashrate");W.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(Iv(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function Q(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Hn(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function Iv(t){return Sv({id:Ev(),jsonrpc:"2.0",params:[]},t)}const Qc=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):o(l)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Zc=new WeakMap;var Rv=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=Zc.get(o);if(c||(c={},Zc.set(o,c)),a in c)return c[a];const u=b=>typeof b=="string"||typeof a=="symbol"?a===b:b.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),h=l===void 0||l.writable||l.configurable,d=(e.include?e.include.some(u):!e.exclude.some(u))&&h;return c[a]=d,d},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?o:Qc(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=Qc(c,e,s,o);return i.set(c,l),l}return c}});return s};const kv=br.default;let Mv=class extends kv{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var fa=Mv;const xv=fa;let Av=class extends xv{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var Ov=Av,Wn={minBlockRef:Tv,maxBlockRef:Nv,sortBlockRefs:da,bnToHex:Lv,blockRefIsNumber:Pv,hexToInt:Ci,incrementHexInt:$v,intToHex:uh,unsafeRandomBytes:jv};function Tv(...t){return da(t)[0]}function Nv(...t){const e=da(t);return e[e.length-1]}function da(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:Ci(e)-Ci(r))}function Lv(t){return"0x"+t.toString(16)}function Pv(t){return t&&!["earliest","latest","pending"].includes(t)}function Ci(t){return t==null?t:Number.parseInt(t,16)}function $v(t){if(t==null)return t;const e=Ci(t);return uh(e+1)}function uh(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function jv(t){let e="0x";for(let r=0;r<t;r++)e+=Yc(),e+=Yc();return e}function Yc(){return Math.floor(Math.random()*16).toString(16)}const Dv=Cv,Fv=Rv,Bv=Ov,{bnToHex:SC,hexToInt:ci,incrementHexInt:Vv,minBlockRef:Hv,blockRefIsNumber:Wv}=Wn;let zv=class extends Bv{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new Dv(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=Hv(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=Vv(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await Fv(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(ci(this.params.fromBlock)>=ci(e.blockNumber)||Wv(this.params.toBlock)&&ci(this.params.toBlock)<=ci(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}};var Uv=zv,pa=qv;async function qv({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Kc(e),s=Kc(r)-n+1,o=Array(s).fill().map((c,u)=>n+u).map(Gv);return await Promise.all(o.map(c=>Qv(t,"eth_getBlockByNumber",[c,!1])))}function Kc(t){return t==null?t:Number.parseInt(t,16)}function Gv(t){return t==null?t:"0x"+t.toString(16)}function Jv(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function Qv(t,e,r){for(let n=0;n<3;n++)try{return await Jv(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const Zv=fa,Yv=pa,{incrementHexInt:Kv}=Wn;let Xv=class extends Zv{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=Kv(e),o=(await Yv({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var e1=Xv;const t1=fa,r1=pa,{incrementHexInt:n1}=Wn;let i1=class extends t1{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=n1(e),i=await r1({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var s1=i1;const o1=ch.Mutex,{createAsyncMiddleware:a1,createScaffoldMiddleware:c1}=ca,u1=Uv,l1=e1,h1=s1,{intToHex:lh,hexToInt:Ys}=Wn;var f1=d1;function d1({blockTracker:t,provider:e}){let r=0,n={};const i=new o1,s=p1({mutex:i}),o=c1({eth_newFilter:s(Ks(c)),eth_newBlockFilter:s(Ks(u)),eth_newPendingTransactionFilter:s(Ks(l)),eth_uninstallFilter:s(pi(d)),eth_getFilterChanges:s(pi(h)),eth_getFilterLogs:s(pi(f))}),a=async({oldBlock:S,newBlock:I})=>{if(n.length===0)return;const T=await i.acquire();try{await Promise.all(Cr(n).map(async A=>{try{await A.update({oldBlock:S,newBlock:I})}catch(j){console.error(j)}}))}catch(A){console.error(A)}T()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=l,o.uninstallFilter=d,o.getFilterChanges=h,o.getFilterLogs=f,o.destroy=()=>{w()},o;async function c(S){const I=new u1({provider:e,params:S});return await b(I),I}async function u(){const S=new l1({provider:e});return await b(S),S}async function l(){const S=new h1({provider:e});return await b(S),S}async function h(S){const I=Ys(S),T=n[I];if(!T)throw new Error(`No filter for index "${I}"`);return T.getChangesAndClear()}async function f(S){const I=Ys(S),T=n[I];if(!T)throw new Error(`No filter for index "${I}"`);let A=[];return T.type==="log"&&(A=T.getAllResults()),A}async function d(S){const I=Ys(S),A=!!n[I];return A&&await x(I),A}async function b(S){const I=Cr(n).length,T=await t.getLatestBlock();await S.initialize({currentBlock:T}),r++,n[r]=S,S.id=r,S.idHex=lh(r);const A=Cr(n).length;return v({prevFilterCount:I,newFilterCount:A}),r}async function x(S){const I=Cr(n).length;delete n[S];const T=Cr(n).length;v({prevFilterCount:I,newFilterCount:T})}async function w(){const S=Cr(n).length;n={},v({prevFilterCount:S,newFilterCount:0})}function v({prevFilterCount:S,newFilterCount:I}){if(S===0&&I>0){t.on("sync",a);return}if(S>0&&I===0){t.removeListener("sync",a);return}}}function Ks(t){return pi(async(...e)=>{const r=await t(...e);return lh(r.id)})}function pi(t){return a1(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function p1({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Cr(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const g1=br.default,{createAsyncMiddleware:Xc,createScaffoldMiddleware:b1}=ca,m1=f1,{unsafeRandomBytes:y1,incrementHexInt:v1}=Wn,_1=pa;var w1=S1;function S1({blockTracker:t,provider:e}){const r={},n=m1({blockTracker:t,provider:e});let i=!1;const s=new g1,o=b1({eth_subscribe:Xc(a),eth_unsubscribe:Xc(c)});return o.destroy=l,{events:s,middleware:o};async function a(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=h.params[0],b=y1(16);let x;switch(d){case"newHeads":x=w({subId:b});break;case"logs":const S=h.params[1],I=await n.newLogFilter(S);x=v({subId:b,filter:I});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${d}"`)}r[b]=x,f.result=b;return;function w({subId:S}){const I={type:d,destroy:async()=>{t.removeListener("sync",I.update)},update:async({oldBlock:T,newBlock:A})=>{const j=A,J=v1(T);(await _1({provider:e,fromBlock:J,toBlock:j})).map(E1).filter(K=>K!==null).forEach(K=>{u(S,K)})}};return t.on("sync",I.update),I}function v({subId:S,filter:I}){return I.on("update",A=>u(S,A)),{type:d,destroy:async()=>await n.uninstallFilter(I.idHex)}}}async function c(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=h.params[0],b=r[d];if(!b){f.result=!1;return}delete r[d],await b.destroy(),f.result=!0}function u(h,f){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:h,result:f}})}function l(){s.removeAllListeners();for(const h in r)r[h].destroy(),delete r[h];i=!0}}function E1(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Bi,"__esModule",{value:!0});Bi.SubscriptionManager=void 0;const C1=Sl,I1=w1,eu=()=>{};class R1{constructor(e){const r=new C1.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=I1({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,eu,eu),r}destroy(){this.subscriptionMiddleware.destroy()}}Bi.SubscriptionManager=R1;var ga=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.CoinbaseWalletProvider=void 0;const k1=ga(br),M1=ga(Ni),Xs=Qr,se=On,tu=Zr,ru=ct,eo=ji,x1=ae,q=L,to=ga(o0),A1=Dr,ne=wl,O1=Bi,nu="DefaultChainId",iu="DefaultJsonRpcUrl";class T1 extends k1.default{constructor(e){var r,n;super(),this._filterPolyfill=new A1.FilterPolyfill(this),this._subscriptionManager=new O1.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,q.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(ru.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,q.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,q.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(iu))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(iu,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(nu,r.toString(10)),((0,q.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,q.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const h=await u.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=h.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=h.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,x1.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===se.standardErrorCodes.provider.unsupportedChain?se.standardErrors.provider.unsupportedChain(e):se.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Xs.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?tu.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this.send(ne.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,se.serializeError)(i,e)})}catch(n){throw(0,se.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,se.serializeError)(n,e)})}catch(n){return Promise.reject((0,se.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,se.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,se.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw se.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw se.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw se.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,q.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,se.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",eo.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,se.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",eo.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,se.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",eo.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,q.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(ru.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ne.JSONRPCMethod.eth_accounts:return this._eth_accounts();case ne.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case ne.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case ne.JSONRPCMethod.net_version:return this._net_version();case ne.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ne.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case ne.JSONRPCMethod.eth_sign:return this._eth_sign(n);case ne.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case ne.JSONRPCMethod.personal_sign:return this._personal_sign(n);case ne.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case ne.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case ne.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case ne.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case ne.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case ne.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case ne.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case ne.JSONRPCMethod.eth_signTypedData_v4:case ne.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case ne.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case ne.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case ne.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case ne.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ne.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case ne.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case ne.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case ne.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case ne.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case ne.JSONRPCMethod.eth_subscribe:case ne.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,q.ensureAddressString)(e);return this._addresses.map(i=>(0,q.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Xs.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,q.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,q.ensureAddressString)(e.to):null,i=e.value!=null?(0,q.ensureBN)(e.value):new M1.default(0),s=e.data?(0,q.ensureBuffer)(e.data):te.alloc(0),o=e.nonce!=null?(0,q.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,q.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,q.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,q.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,q.ensureBN)(e.gas):null,h=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:h}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw se.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw se.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?se.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,q.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(nu);if(!e)return(0,q.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,q.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Xs.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?tu.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?se.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,q.ensureAddressString)(e[0]),n=(0,q.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,q.ensureBuffer)(e[0]),n=(0,q.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,q.ensureBuffer)(e[0]),n=(0,q.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,q.ensureBuffer)(e[0]),n=(0,q.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?se.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,q.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?se.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,q.ensureParsedJSONObject)(e[0]),n=(0,q.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=to.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,q.ensureAddressString)(e[0]),n=(0,q.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=to.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,q.ensureAddressString)(e[0]),n=(0,q.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=to.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw se.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw se.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw se.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw se.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw se.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw se.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,q.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,q.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,q.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Pr.CoinbaseWalletProvider=T1;var is={},ss={},zn,z,hh,fh,ar,su,dh,wo,ph,Ii={},gh=[],N1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,os=Array.isArray;function xt(t,e){for(var r in e)t[r]=e[r];return t}function bh(t){var e=t.parentNode;e&&e.removeChild(t)}function So(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?zn.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return _n(t,o,n,i,null)}function _n(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++hh};return i==null&&z.vnode!=null&&z.vnode(s),s}function L1(){return{current:null}}function Un(t){return t.children}function wn(t,e){this.props=t,this.context=e}function kn(t,e){if(e==null)return t.__?kn(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?kn(t):null}function mh(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return mh(t)}}function Eo(t){(!t.__d&&(t.__d=!0)&&ar.push(t)&&!Ri.__r++||su!==z.debounceRendering)&&((su=z.debounceRendering)||dh)(Ri)}function Ri(){var t,e,r,n,i,s,o,a;for(ar.sort(wo);t=ar.shift();)t.__d&&(e=ar.length,n=void 0,i=void 0,o=(s=(r=t).__v).__e,(a=r.__P)&&(n=[],(i=xt({},s)).__v=s.__v+1,ba(a,s,i,r.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o??kn(s),s.__h),Eh(n,s),s.__e!=o&&mh(s)),ar.length>e&&ar.sort(wo));Ri.__r=0}function yh(t,e,r,n,i,s,o,a,c,u){var l,h,f,d,b,x,w,v=n&&n.__k||gh,S=v.length;for(r.__k=[],l=0;l<e.length;l++)if((d=r.__k[l]=(d=e[l])==null||typeof d=="boolean"||typeof d=="function"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?_n(null,d,null,null,d):os(d)?_n(Un,{children:d},null,null,null):d.__b>0?_n(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=r,d.__b=r.__b+1,(f=v[l])===null||f&&d.key==f.key&&d.type===f.type)v[l]=void 0;else for(h=0;h<S;h++){if((f=v[h])&&d.key==f.key&&d.type===f.type){v[h]=void 0;break}f=null}ba(t,d,f=f||Ii,i,s,o,a,c,u),b=d.__e,(h=d.ref)&&f.ref!=h&&(w||(w=[]),f.ref&&w.push(f.ref,null,d),w.push(h,d.__c||b,d)),b!=null?(x==null&&(x=b),typeof d.type=="function"&&d.__k===f.__k?d.__d=c=vh(d,c,t):c=wh(t,d,f,v,b,c),typeof r.type=="function"&&(r.__d=c)):c&&f.__e==c&&c.parentNode!=t&&(c=kn(f))}for(r.__e=x,l=S;l--;)v[l]!=null&&(typeof r.type=="function"&&v[l].__e!=null&&v[l].__e==r.__d&&(r.__d=Sh(n).nextSibling),Ih(v[l],v[l]));if(w)for(l=0;l<w.length;l++)Ch(w[l],w[++l],w[++l])}function vh(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?vh(n,e,r):wh(r,n,n,i,n.__e,e));return e}function _h(t,e){return e=e||[],t==null||typeof t=="boolean"||(os(t)?t.some(function(r){_h(r,e)}):e.push(t)),e}function wh(t,e,r,n,i,s){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,c=0;(a=a.nextSibling)&&c<n.length;c+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function Sh(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=Sh(r)))return n}return null}function P1(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||ki(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||ki(t,s,e[s],r[s],n)}function ou(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||N1.test(e)?r:r+"px"}function ki(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||ou(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||ou(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?cu:au,s):t.removeEventListener(e,s?cu:au,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function au(t){return this.l[t.type+!1](z.event?z.event(t):t)}function cu(t){return this.l[t.type+!0](z.event?z.event(t):t)}function ba(t,e,r,n,i,s,o,a,c){var u,l,h,f,d,b,x,w,v,S,I,T,A,j,J,Z=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(u=z.__b)&&u(e);try{e:if(typeof Z=="function"){if(w=e.props,v=(u=Z.contextType)&&n[u.__c],S=u?v?v.props.value:u.__:n,r.__c?x=(l=e.__c=r.__c).__=l.__E:("prototype"in Z&&Z.prototype.render?e.__c=l=new Z(w,S):(e.__c=l=new wn(w,S),l.constructor=Z,l.render=j1),v&&v.sub(l),l.props=w,l.state||(l.state={}),l.context=S,l.__n=n,h=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),Z.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=xt({},l.__s)),xt(l.__s,Z.getDerivedStateFromProps(w,l.__s))),f=l.props,d=l.state,l.__v=e,h)Z.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(Z.getDerivedStateFromProps==null&&w!==f&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(w,S),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(w,l.__s,S)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(l.props=w,l.state=l.__s,l.__d=!1),l.__e=!1,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(V){V&&(V.__=e)}),I=0;I<l._sb.length;I++)l.__h.push(l._sb[I]);l._sb=[],l.__h.length&&o.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(w,l.__s,S),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(f,d,b)})}if(l.context=S,l.props=w,l.__P=t,T=z.__r,A=0,"prototype"in Z&&Z.prototype.render){for(l.state=l.__s,l.__d=!1,T&&T(e),u=l.render(l.props,l.state,l.context),j=0;j<l._sb.length;j++)l.__h.push(l._sb[j]);l._sb=[]}else do l.__d=!1,T&&T(e),u=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++A<25);l.state=l.__s,l.getChildContext!=null&&(n=xt(xt({},n),l.getChildContext())),h||l.getSnapshotBeforeUpdate==null||(b=l.getSnapshotBeforeUpdate(f,d)),yh(t,os(J=u!=null&&u.type===Un&&u.key==null?u.props.children:u)?J:[J],e,r,n,i,s,o,a,c),l.base=e.__e,e.__h=null,l.__h.length&&o.push(l),x&&(l.__E=l.__=null),l.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=$1(r.__e,e,r,n,i,s,o,c);(u=z.diffed)&&u(e)}catch(V){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),z.__e(V,e,r)}}function Eh(t,e){z.__c&&z.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){z.__e(n,r.__v)}})}function $1(t,e,r,n,i,s,o,a){var c,u,l,h=r.props,f=e.props,d=e.type,b=0;if(d==="svg"&&(i=!0),s!=null){for(;b<s.length;b++)if((c=s[b])&&"setAttribute"in c==!!d&&(d?c.localName===d:c.nodeType===3)){t=c,s[b]=null;break}}if(t==null){if(d===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,f.is&&f),s=null,a=!1}if(d===null)h===f||a&&t.data===f||(t.data=f);else{if(s=s&&zn.call(t.childNodes),u=(h=r.props||Ii).dangerouslySetInnerHTML,l=f.dangerouslySetInnerHTML,!a){if(s!=null)for(h={},b=0;b<t.attributes.length;b++)h[t.attributes[b].name]=t.attributes[b].value;(l||u)&&(l&&(u&&l.__html==u.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if(P1(t,f,h,i,a),l)e.__k=[];else if(yh(t,os(b=e.props.children)?b:[b],e,r,n,i&&d!=="foreignObject",s,o,s?s[0]:r.__k&&kn(r,0),a),s!=null)for(b=s.length;b--;)s[b]!=null&&bh(s[b]);a||("value"in f&&(b=f.value)!==void 0&&(b!==t.value||d==="progress"&&!b||d==="option"&&b!==h.value)&&ki(t,"value",b,h.value,!1),"checked"in f&&(b=f.checked)!==void 0&&b!==t.checked&&ki(t,"checked",b,h.checked,!1))}return t}function Ch(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){z.__e(n,r)}}function Ih(t,e,r){var n,i;if(z.unmount&&z.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Ch(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){z.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Ih(n[i],e,r||typeof t.type!="function");r||t.__e==null||bh(t.__e),t.__=t.__e=t.__d=void 0}function j1(t,e,r){return this.constructor(t,r)}function Rh(t,e,r){var n,i,s;z.__&&z.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],ba(e,t=(!n&&r||e).__k=So(Un,null,[t]),i||Ii,Ii,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?zn.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),Eh(s,t)}function kh(t,e){Rh(t,e,kh)}function D1(t,e,r){var n,i,s,o,a=xt({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?zn.call(arguments,2):r),_n(t.type,a,n||t.key,i||t.ref,null)}function F1(t,e){var r={__c:e="__cC"+ph++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,Eo(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}zn=gh.slice,z={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},hh=0,fh=function(t){return t!=null&&t.constructor===void 0},wn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=xt({},this.state),typeof t=="function"&&(t=t(xt({},r),this.props)),t&&xt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Eo(this))},wn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Eo(this))},wn.prototype.render=Un,ar=[],dh=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,wo=function(t,e){return t.__v.__b-e.__v.__b},Ri.__r=0,ph=0;const B1=Object.freeze(Object.defineProperty({__proto__:null,Component:wn,Fragment:Un,cloneElement:D1,createContext:F1,createElement:So,createRef:L1,h:So,hydrate:kh,get isValidElement(){return fh},get options(){return z},render:Rh,toChildArray:_h},Symbol.toStringTag,{value:"Module"})),Ue=Jr(B1);function Vr(t){return typeof t=="function"}var uu=!1,Ye={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}uu=t},get useDeprecatedSynchronousErrorHandling(){return uu}};function Mr(t){setTimeout(function(){throw t},0)}var Mi={closed:!0,next:function(t){},error:function(t){if(Ye.useDeprecatedSynchronousErrorHandling)throw t;Mr(t)},complete:function(){}},je=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function ma(t){return t!==null&&typeof t=="object"}var V1=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Sn=V1,fe=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(Vr(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(h){e=h instanceof Sn?lu(h.errors):[h]}}if(je(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(ma(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof Sn?e=e.concat(lu(f.errors)):e.push(f)}}if(e)throw new Sn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function lu(t){return t.reduce(function(e,r){return e.concat(r instanceof Sn?r.errors:r)},[])}var xi=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),$=function(t){_(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Mi;break;case 1:if(!r){s.destination=Mi;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new hu(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new hu(s,r,n,i);break}return s}return e.prototype[xi]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(fe),hu=function(t){_(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return Vr(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==Mi&&(c=Object.create(n),Vr(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Ye.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Ye.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Mr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Mr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Ye.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Ye.useDeprecatedSynchronousErrorHandling)throw i;Mr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Ye.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Ye.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Mr(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}($);function ya(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof $?t=n:t=null}return!0}function H1(t,e,r){if(t){if(t instanceof $)return t;if(t[xi])return t[xi]()}return!t&&!e&&!r?new $(Mi):new $(t,e,r)}var tn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Qt(t){return t}function Co(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Mh(t)}function Mh(t){return t.length===0?Qt:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var G=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=H1(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Ye.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Ye.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Ye.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),ya(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=fu(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[tn]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:Mh(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=fu(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function fu(t){if(t||(t=Ye.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var W1=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Vt=W1,xh=function(t){_(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(fe),Ah=function(t){_(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}($),Ie=function(t){_(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[xi]=function(){return new Ah(this)},e.prototype.lift=function(r){var n=new du(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Vt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Vt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Vt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Vt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Vt;return this.hasError?(r.error(this.thrownError),fe.EMPTY):this.isStopped?(r.complete(),fe.EMPTY):(this.observers.push(r),new xh(this,r))},e.prototype.asObservable=function(){var r=new G;return r.source=this,r},e.create=function(r,n){return new du(r,n)},e}(G),du=function(t){_(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):fe.EMPTY},e}(Ie);function va(){return function(e){return e.lift(new z1(e))}}var z1=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new U1(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),U1=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}($),Oh=function(t){_(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new fe,r.add(this.source.subscribe(new G1(this.getSubject(),this))),r.closed&&(this._connection=null,r=fe.EMPTY)),r},e.prototype.refCount=function(){return va()(this)},e}(G),q1=function(){var t=Oh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),G1=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Ah);function J1(t,e,r,n){return function(i){return i.lift(new Q1(t,e,r,n))}}var Q1=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new Z1(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),Z1=function(t){_(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(u){this.error(u)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new Ie,i.set(n,s);var a=new Io(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Io(n,s))}catch(u){this.error(u);return}this.add(c.subscribe(new Y1(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}($),Y1=function(t){_(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}($),Io=function(t){_(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new fe,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new K1(s)),n.add(o.subscribe(r)),n},e}(G),K1=function(t){_(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(fe),Th=function(t){_(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Vt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Ie),X1=function(t){_(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(fe),qn=function(t){_(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(X1),e_=function(t){_(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(qn),Ro=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Gn=function(t){_(e,t);function e(r,n){n===void 0&&(n=Ro.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Ro),t_=function(t){_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Gn),Nh=new t_(e_),Lh=Nh,Hr=new G(function(t){return t.complete()});function rn(t){return t?r_(t):Hr}function r_(t){return new G(function(e){return t.schedule(function(){return e.complete()})})}function ze(t){return t&&typeof t.schedule=="function"}var Ph=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function _a(t,e){return new G(function(r){var n=new fe,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Jn(t,e){return e?_a(t,e):new G(Ph(t))}function as(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return ze(r)?(t.pop(),_a(t,r)):Jn(t)}function wa(t,e){return e?new G(function(r){return e.schedule(n_,0,{error:t,subscriber:r})}):new G(function(r){return r.error(t)})}function n_(t){var e=t.error,r=t.subscriber;r.error(e)}var ko;ko||(ko={});var At=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return as(this.value);case"E":return wa(this.error);case"C":return rn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function i_(t,e){return e===void 0&&(e=0),function(n){return n.lift(new s_(t,e))}}var s_=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new $h(e,this.scheduler,this.delay))},t}(),$h=function(t){_(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new o_(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(At.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(At.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(At.createComplete()),this.unsubscribe()},e}($),o_=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Sa=function(t){_(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new a_(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Vt;if(this.isStopped||this.hasError?a=fe.EMPTY:(this.observers.push(r),a=new xh(this,r)),s&&r.add(r=new $h(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Lh).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(Ie),a_=function(){function t(e,r){this.time=e,this.value=r}return t}(),nn=function(t){_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),fe.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),fe.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Ie),c_=1,u_=function(){return Promise.resolve()}(),Mo={};function pu(t){return t in Mo?(delete Mo[t],!0):!1}var gu={setImmediate:function(t){var e=c_++;return Mo[e]=!0,u_.then(function(){return pu(e)&&t()}),e},clearImmediate:function(t){pu(t)}},l_=function(t){_(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=gu.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(gu.clearImmediate(n),r.scheduled=void 0)},e}(qn),h_=function(t){_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Gn),jh=new h_(l_),gi=jh,Dh=new Gn(qn),De=Dh,f_=function(t){_(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(qn),d_=function(t){_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Gn),Fh=new d_(f_),p_=Fh,g_=function(t){_(e,t);function e(r,n){r===void 0&&(r=Bh),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Gn),Bh=function(t){_(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(qn);function mt(){}function b_(t){return!!t&&(t instanceof G||typeof t.lift=="function"&&typeof t.subscribe=="function")}var m_=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Wr=m_,y_=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Qn=y_,v_=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Vh=v_;function rt(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new __(t,e))}}var __=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new w_(e,this.project,this.thisArg))},t}(),w_=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}($);function Hh(t,e,r){if(e)if(ze(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Hh(t,r).apply(void 0,n).pipe(rt(function(s){return je(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new G(function(c){if(r){var l={args:n,subscriber:c,params:a};return r.schedule(S_,0,l)}else{if(!o){o=new nn;var u=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];o.next(h.length<=1?h[0]:h),o.complete()};try{t.apply(s,n.concat([u]))}catch(h){ya(o)?o.error(h):console.warn(h)}}return o.subscribe(c)}})}}function S_(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new nn;var u=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=l.length<=1?l[0]:l;e.add(a.schedule(E_,0,{value:f,subject:c}))};try{s.apply(o,r.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(n))}function E_(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Wh(t,e,r){if(e)if(ze(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Wh(t,r).apply(void 0,n).pipe(rt(function(s){return je(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new G(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(C_,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new nn;var u=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=l.shift();if(f){c.error(f);return}c.next(l.length<=1?l[0]:l),c.complete()};try{t.apply(a,n.concat([u]))}catch(l){ya(c)?c.error(l):console.warn(l)}}return c.subscribe(o)})}}function C_(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new nn;var u=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=l.shift();if(f)e.add(a.schedule(bu,0,{err:f,subject:c}));else{var d=l.length<=1?l[0]:l;e.add(a.schedule(I_,0,{value:d,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(l){this.add(a.schedule(bu,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function I_(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function bu(t){var e=t.err,r=t.subject;r.error(e)}var _r=function(t){_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}($),R_=function(t){_(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}($),k_=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Mr),e}};function M_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zt=M_(),x_=function(t){return function(e){var r=t[Zt]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},A_=function(t){return function(e){var r=t[tn]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},zh=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Uh(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var Mn=function(t){if(t&&typeof t[tn]=="function")return A_(t);if(zh(t))return Ph(t);if(Uh(t))return k_(t);if(t&&typeof t[Zt]=="function")return x_(t);var e=ma(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Ot(t,e,r,n,i){if(i===void 0&&(i=new R_(t,r,n)),!i.closed)return e instanceof G?e.subscribe(i):Mn(e)(i)}var mu={};function O_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return ze(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&je(t[0])&&(t=t[0]),Jn(t,n).lift(new Ea(r))}var Ea=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new T_(e,this.resultSelector))},t}(),T_=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(mu),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Ot(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===mu?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(_r);function N_(t,e){return new G(function(r){var n=new fe;return n.add(e.schedule(function(){var i=t[tn]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function L_(t,e){return new G(function(r){var n=new fe;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function P_(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(function(r){var n=new fe,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Zt](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function $_(t){return t&&typeof t[tn]=="function"}function j_(t){return t&&typeof t[Zt]=="function"}function qh(t,e){if(t!=null){if($_(t))return N_(t,e);if(Uh(t))return L_(t,e);if(zh(t))return _a(t,e);if(j_(t)||typeof t=="string")return P_(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Nt(t,e){return e?qh(t,e):t instanceof G?t:new G(Mn(t))}var de=function(t){_(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}($),pe=function(t){_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}($);function ge(t,e){if(!e.closed){if(t instanceof G)return t.subscribe(e);var r;try{r=Mn(t)(e)}catch(n){e.error(n)}return r}}function pr(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(pr(function(i,s){return Nt(t(i,s)).pipe(rt(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new D_(t,r))})}var D_=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new F_(e,this.project,this.concurrent))},t}(),F_=function(t){_(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new de(this),i=this.destination;i.add(n);var s=ge(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(pe),B_=pr;function Ca(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),pr(Qt,t)}function Gh(){return Ca(1)}function xn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Gh()(as.apply(void 0,t))}function Ia(t){return new G(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Nt(r):rn();return n.subscribe(e)})}function V_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(je(r))return ui(r,null);if(ma(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return ui(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&je(t[0])?t[0]:t,ui(t,null).pipe(rt(function(s){return i.apply(void 0,s)}))}return ui(t,null)}function ui(t,e){return new G(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(u){var l=Nt(t[u]),h=!1;r.add(l.subscribe({next:function(f){h||(h=!0,o++),i[u]=f},error:function(f){return r.error(f)},complete:function(){s++,(s===n||!h)&&(o===n&&r.next(e?e.reduce(function(f,d,b){return f[d]=i[b],f},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function Jh(t,e,r,n){return Vr(r)&&(n=r,r=void 0),n?Jh(t,e,r).pipe(rt(function(i){return je(i)?n.apply(void 0,i):n(i)})):new G(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Qh(t,e,s,i,r)})}function Qh(t,e,r,n,i){var s;if(z_(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(W_(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(H_(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var u=0,l=t.length;u<l;u++)Qh(t[u],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function H_(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function W_(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function z_(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Zh(t,e,r){return r?Zh(t,e).pipe(rt(function(n){return je(n)?r.apply(void 0,n):r(n)})):new G(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(Vr(e))return function(){return e(i,s)}})}function U_(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Qt,i=a.scheduler}else n===void 0||ze(n)?(o=t,s=Qt,i=n):(o=t,s=n);return new G(function(c){var u=o;if(i)return i.schedule(q_,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(f){c.error(f);return}if(!l){c.complete();break}}var h=void 0;try{h=s(u)}catch(f){c.error(f);return}if(c.next(h),c.closed)break;try{u=r(u)}catch(f){c.error(f);return}}while(!0)})}function q_(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function G_(t,e,r){return e===void 0&&(e=Hr),r===void 0&&(r=Hr),Ia(function(){return t()?e:r})}function zr(t){return!je(t)&&t-parseFloat(t)+1>=0}function J_(t,e){return t===void 0&&(t=0),e===void 0&&(e=De),(!zr(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=De),new G(function(r){return r.add(e.schedule(Q_,t,{subscriber:r,counter:0,period:t})),r})}function Q_(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Yh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return ze(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof G?t[0]:Ca(r)(Jn(t,n))}var Kh=new G(mt);function Z_(){return Kh}function xo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Hr;var r=t[0],n=t.slice(1);return t.length===1&&je(r)?xo.apply(void 0,r):new G(function(i){var s=function(){return i.add(xo.apply(void 0,n).subscribe(i))};return Nt(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function Y_(t,e){return e?new G(function(r){var n=Object.keys(t),i=new fe;return i.add(e.schedule(K_,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new G(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function K_(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Xh(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Yt(t,e){return function(n){return n.lift(new X_(t,e))}}var X_=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new ew(e,this.predicate,this.thisArg))},t}(),ew=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}($);function tw(t,e,r){return[Yt(e,r)(new G(Mn(t))),Yt(Xh(e,r))(new G(Mn(t)))]}function ef(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(je(t[0]))t=t[0];else return t[0];return Jn(t,void 0).lift(new rw)}var rw=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new nw(e))},t}(),nw=function(t){_(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Ot(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(_r);function iw(t,e,r){return t===void 0&&(t=0),new G(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(sw,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function sw(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function tf(t,e,r){t===void 0&&(t=0);var n=-1;return zr(e)?n=Number(e)<1&&1||Number(e):ze(e)&&(r=e),ze(r)||(r=De),new G(function(i){var s=zr(t)?t:+t-r.now();return r.schedule(ow,s,{index:0,period:n,subscriber:i})})}function ow(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function aw(t,e){return new G(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Nt(i):Hr,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function rf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Jn(t,void 0).lift(new nf(r))}var nf=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new cw(e,this.resultSelector))},t}(),cw=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;je(r)?n.push(new lw(r)):typeof r[Zt]=="function"?n.push(new uw(r[Zt]())):n.push(new hw(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}($),uw=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),lw=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Zt]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),hw=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Zt]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return ge(this.observable,new de(this))},e}(pe);const fw=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:Wr,AsyncSubject:nn,BehaviorSubject:Th,ConnectableObservable:Oh,EMPTY:Hr,EmptyError:Qn,GroupedObservable:Io,NEVER:Kh,Notification:At,get NotificationKind(){return ko},ObjectUnsubscribedError:Vt,Observable:G,ReplaySubject:Sa,Scheduler:Ro,Subject:Ie,Subscriber:$,Subscription:fe,TimeoutError:Vh,UnsubscriptionError:Sn,VirtualAction:Bh,VirtualTimeScheduler:g_,animationFrame:p_,animationFrameScheduler:Fh,asap:gi,asapScheduler:jh,async:De,asyncScheduler:Dh,bindCallback:Hh,bindNodeCallback:Wh,combineLatest:O_,concat:xn,config:Ye,defer:Ia,empty:rn,forkJoin:V_,from:Nt,fromEvent:Jh,fromEventPattern:Zh,generate:U_,identity:Qt,iif:G_,interval:J_,isObservable:b_,merge:Yh,never:Z_,noop:mt,observable:tn,of:as,onErrorResumeNext:xo,pairs:Y_,partition:tw,pipe:Co,queue:Lh,queueScheduler:Nh,race:ef,range:iw,scheduled:qh,throwError:wa,timer:tf,using:aw,zip:rf},Symbol.toStringTag,{value:"Module"})),cs=Jr(fw);var us={};function sf(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=sf(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function yu(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=sf(t))&&(n&&(n+=" "),n+=e);return n}const dw=Object.freeze(Object.defineProperty({__proto__:null,clsx:yu,default:yu},Symbol.toStringTag,{value:"Module"})),ls=Jr(dw);var Tt,oe,ro,vu,Ur=0,of=[],bi=[],_u=z.__b,wu=z.__r,Su=z.diffed,Eu=z.__c,Cu=z.unmount;function wr(t,e){z.__h&&z.__h(oe,t,Ur||e),Ur=0;var r=oe.__H||(oe.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:bi}),r.__[t]}function af(t){return Ur=1,cf(lf,t)}function cf(t,e,r){var n=wr(Tt++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):lf(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],u=n.t(c,a);c!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=oe,!oe.u)){var i=function(a,c,u){if(!n.__c.__H)return!0;var l=n.__c.__H.__.filter(function(f){return f.__c});if(l.every(function(f){return!f.__N}))return!s||s.call(this,a,c,u);var h=!1;return l.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(h=!0)}}),!(!h&&n.__c.props===a)&&(!s||s.call(this,a,c,u))};oe.u=!0;var s=oe.shouldComponentUpdate,o=oe.componentWillUpdate;oe.componentWillUpdate=function(a,c,u){if(this.__e){var l=s;s=void 0,i(a,c,u),s=l}o&&o.call(this,a,c,u)},oe.shouldComponentUpdate=i}return n.__N||n.__}function pw(t,e){var r=wr(Tt++,3);!z.__s&&ka(r.__H,e)&&(r.__=t,r.i=e,oe.__H.__h.push(r))}function uf(t,e){var r=wr(Tt++,4);!z.__s&&ka(r.__H,e)&&(r.__=t,r.i=e,oe.__h.push(r))}function gw(t){return Ur=5,Ra(function(){return{current:t}},[])}function bw(t,e,r){Ur=6,uf(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function Ra(t,e){var r=wr(Tt++,7);return ka(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function mw(t,e){return Ur=8,Ra(function(){return t},e)}function yw(t){var e=oe.context[t.__c],r=wr(Tt++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(oe)),e.props.value):t.__}function vw(t,e){z.useDebugValue&&z.useDebugValue(e?e(t):t)}function _w(t){var e=wr(Tt++,10),r=af();return e.__=t,oe.componentDidCatch||(oe.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function ww(){var t=wr(Tt++,11);if(!t.__){for(var e=oe.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function Sw(){for(var t;t=of.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(mi),t.__H.__h.forEach(Ao),t.__H.__h=[]}catch(e){t.__H.__h=[],z.__e(e,t.__v)}}z.__b=function(t){oe=null,_u&&_u(t)},z.__r=function(t){wu&&wu(t),Tt=0;var e=(oe=t.__c).__H;e&&(ro===oe?(e.__h=[],oe.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=bi,r.__N=r.i=void 0})):(e.__h.forEach(mi),e.__h.forEach(Ao),e.__h=[],Tt=0)),ro=oe},z.diffed=function(t){Su&&Su(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(of.push(e)!==1&&vu===z.requestAnimationFrame||((vu=z.requestAnimationFrame)||Ew)(Sw)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==bi&&(r.__=r.__V),r.i=void 0,r.__V=bi})),ro=oe=null},z.__c=function(t,e){e.some(function(r){try{r.__h.forEach(mi),r.__h=r.__h.filter(function(n){return!n.__||Ao(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],z.__e(n,r.__v)}}),Eu&&Eu(t,e)},z.unmount=function(t){Cu&&Cu(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{mi(n)}catch(i){e=i}}),r.__H=void 0,e&&z.__e(e,r.__v))};var Iu=typeof requestAnimationFrame=="function";function Ew(t){var e,r=function(){clearTimeout(n),Iu&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Iu&&(e=requestAnimationFrame(r))}function mi(t){var e=oe,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),oe=e}function Ao(t){var e=oe;t.__c=t.__(),oe=e}function ka(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function lf(t,e){return typeof e=="function"?e(t):e}const Cw=Object.freeze(Object.defineProperty({__proto__:null,useCallback:mw,useContext:yw,useDebugValue:vw,useEffect:pw,useErrorBoundary:_w,useId:ww,useImperativeHandle:bw,useLayoutEffect:uf,useMemo:Ra,useReducer:cf,useRef:gw,useState:af},Symbol.toStringTag,{value:"Module"})),Zn=Jr(Cw);var St={},hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.CloseIcon=void 0;const Ru=Ue;function Iw(t){return(0,Ru.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ru.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}hs.CloseIcon=Iw;var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.QRCodeIcon=void 0;const pt=Ue;function Rw(t){return(0,pt.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,pt.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,pt.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,pt.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,pt.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,pt.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,pt.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,pt.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,pt.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,pt.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}fs.QRCodeIcon=Rw;var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});const kw=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;Aa.default=kw;var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.StatusDotIcon=void 0;const ku=Ue;function Mw(t){return(0,ku.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,ku.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}ds.StatusDotIcon=Mw;var ps={};function hf(t){this.mode=He.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}hf.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Et(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Et.prototype={addData:function(t){var e=new hf(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Et.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=le.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=le.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=le.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=le.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=le.getMask(e,n,o-a);u&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Et.PAD0=236;Et.PAD1=17;Et.createData=function(t,e,r){for(var n=vt.getRSBlocks(t,e),i=new ff,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),le.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Et.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Et.PAD1,8);return Et.createBytes(i,n)};Et.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),s[a]=new Array(c);for(var l=0;l<s[a].length;l++)s[a][l]=255&t.buffer[l+r];r+=c;var h=le.getErrorCorrectPolynomial(u),f=new Lr(s[a],h.getLength()-1),d=f.mod(h);o[a]=new Array(h.getLength()-1);for(var l=0;l<o[a].length;l++){var b=l+d.getLength()-o[a].length;o[a][l]=b>=0?d.get(b):0}}for(var x=0,l=0;l<e.length;l++)x+=e[l].totalCount;for(var w=new Array(x),v=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(w[v++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(w[v++]=o[a][l]);return w};var He={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Wt={L:1,M:0,Q:3,H:2},$t={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},le={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;le.getBCHDigit(e)-le.getBCHDigit(le.G15)>=0;)e^=le.G15<<le.getBCHDigit(e)-le.getBCHDigit(le.G15);return(t<<10|e)^le.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;le.getBCHDigit(e)-le.getBCHDigit(le.G18)>=0;)e^=le.G18<<le.getBCHDigit(e)-le.getBCHDigit(le.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return le.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case $t.PATTERN000:return(e+r)%2==0;case $t.PATTERN001:return e%2==0;case $t.PATTERN010:return r%3==0;case $t.PATTERN011:return(e+r)%3==0;case $t.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case $t.PATTERN101:return e*r%2+e*r%3==0;case $t.PATTERN110:return(e*r%2+e*r%3)%2==0;case $t.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Lr([1],0),r=0;r<t;r++)e=e.multiply(new Lr([1,Ce.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case He.MODE_NUMBER:return 10;case He.MODE_ALPHA_NUM:return 9;case He.MODE_8BIT_BYTE:return 8;case He.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case He.MODE_NUMBER:return 12;case He.MODE_ALPHA_NUM:return 11;case He.MODE_8BIT_BYTE:return 16;case He.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case He.MODE_NUMBER:return 14;case He.MODE_ALPHA_NUM:return 13;case He.MODE_8BIT_BYTE:return 16;case He.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&l++;var h=Math.abs(100*l/e/e-50)/5;return r+=h*10,r}},Ce={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Ce.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Ce.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ke=0;ke<8;ke++)Ce.EXP_TABLE[ke]=1<<ke;for(var ke=8;ke<256;ke++)Ce.EXP_TABLE[ke]=Ce.EXP_TABLE[ke-4]^Ce.EXP_TABLE[ke-5]^Ce.EXP_TABLE[ke-6]^Ce.EXP_TABLE[ke-8];for(var ke=0;ke<255;ke++)Ce.LOG_TABLE[Ce.EXP_TABLE[ke]]=ke;function Lr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Lr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Ce.gexp(Ce.glog(this.get(r))+Ce.glog(t.get(n)));return new Lr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Ce.glog(this.get(0))-Ce.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Ce.gexp(Ce.glog(t.get(n))+e);return new Lr(r,0).mod(t)}};function vt(t,e){this.totalCount=t,this.dataCount=e}vt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];vt.getRSBlocks=function(t,e){var r=vt.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],u=0;u<o;u++)i.push(new vt(a,c));return i};vt.getRsBlockTable=function(t,e){switch(e){case Wt.L:return vt.RS_BLOCK_TABLE[(t-1)*4+0];case Wt.M:return vt.RS_BLOCK_TABLE[(t-1)*4+1];case Wt.Q:return vt.RS_BLOCK_TABLE[(t-1)*4+2];case Wt.H:return vt.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function ff(){this.buffer=[],this.length=0}ff.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var no=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function df(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Wt.L;case"M":return Wt.M;case"Q":return Wt.Q;case"H":return Wt.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var l=i(c),h=1,f=0,d=0,b=no.length;d<=b;d++){var x=no[d];if(!x)throw new Error("Content too long: expected "+f+" but got "+l);switch(u){case"L":f=x[0];break;case"M":f=x[1];break;case"Q":f=x[2];break;case"H":f=x[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=f)break;h++}if(h>no.length)throw new Error("Content too long");return h}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Et(o,a),this.qrcode.addData(s),this.qrcode.make()}df.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),h=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,d=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,b=typeof e.predefined<"u"?!!e.predefined:!1,x=b?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",w=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,v="",S="",I=0;I<c;I++)for(var T=0;T<c;T++){var A=r[T][I];if(A){var j=T*u+e.padding*u,J=I*l+e.padding*l;if(f){var Z=j;j=J,J=Z}if(h){var V=u+j,K=l+J;j=Number.isInteger(j)?Number(j):j.toFixed(2),J=Number.isInteger(J)?Number(J):J.toFixed(2),V=Number.isInteger(V)?Number(V):V.toFixed(2),K=Number.isInteger(K)?Number(K):K.toFixed(2),S+="M"+j+","+J+" V"+K+" H"+V+" V"+J+" H"+j+" Z "}else b?v+=i+'<use x="'+j.toString()+'" y="'+J.toString()+'" href="#qrmodule" />'+s:v+=i+'<rect x="'+j.toString()+'" y="'+J.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}h&&(v=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+S+'" />');let ue="";if(this.options.image!==void 0&&this.options.image.svg){const M=o*this.options.image.width/100,R=a*this.options.image.height/100,N=o/2-M/2,C=a/2-R/2;ue+=`<svg x="${N}" y="${C}" width="${M}" height="${R}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ue+=this.options.image.svg+s,ue+="</svg>"}var Y="";switch(t.container){case"svg":d&&(Y+='<?xml version="1.0" standalone="yes"?>'+s),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,Y+=x+w+v,Y+=ue,Y+="</svg>";break;case"svg-viewbox":d&&(Y+='<?xml version="1.0" standalone="yes"?>'+s),Y+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,Y+=x+w+v,Y+=ue,Y+="</svg>";break;case"g":Y+='<g width="'+o+'" height="'+a+'">'+s,Y+=x+w+v,Y+=ue,Y+="</g>";break;default:Y+=(x+w+v+ue).replace(/^\s+/,"");break}return Y};var xw=df,Aw=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});ps.QRCode=void 0;const Ow=Ue,Mu=Zn,Tw=Aw(xw),Nw=t=>{const[e,r]=(0,Mu.useState)("");return(0,Mu.useEffect)(()=>{var n,i;const s=new Tw.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=te.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,Ow.h)("img",{src:e,alt:"QR Code"}):null};ps.QRCode=Nw;var gs={},Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});Ta.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var Lw=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gs,"__esModule",{value:!0});gs.Spinner=void 0;const li=Ue,Pw=Lw(Ta),$w=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,li.h)("div",{class:"-cbwsdk-spinner"},(0,li.h)("style",null,Pw.default),(0,li.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,li.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};gs.Spinner=$w;var Na={};Object.defineProperty(Na,"__esModule",{value:!0});Na.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var sn=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(St,"__esModule",{value:!0});St.CoinbaseAppSteps=St.CoinbaseWalletSteps=St.ConnectItem=St.ConnectContent=void 0;const Xe=sn(ls),B=Ue,xu=Zn,jw=L,Dw=Tn,Fw=hs,Bw=sn(Ma),Vw=sn(xa),pf=fs,Hw=sn(Aa),Ww=sn(Oa),zw=ds,Uw=ps,qw=gs,Gw=sn(Na),Au={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:Vw.default,steps:bf},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:Bw.default,steps:mf}},Jw=t=>{switch(t){case"coinbase-app":return Hw.default;case"coinbase-wallet-app":default:return Ww.default}},Oo=t=>t==="light"?"#FFFFFF":"#0A0B0D";function Qw(t){const{theme:e}=t,[r,n]=(0,xu.useState)("coinbase-wallet-app"),i=(0,xu.useCallback)(u=>{n(u)},[]),s=(0,jw.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Au[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,B.h)("div",{"data-testid":"connect-content",class:(0,Xe.default)("-cbwsdk-connect-content",e)},(0,B.h)("style",null,Gw.default),(0,B.h)("div",{class:"-cbwsdk-connect-content-header"},(0,B.h)("h2",{class:(0,Xe.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,B.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,B.h)(Fw.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,B.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,B.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,B.h)("div",null,Object.entries(Au).map(([u,l])=>(0,B.h)(gf,{key:u,title:l.title,description:l.description,icon:l.icon,selected:r===u,onClick:()=>i(u),theme:e}))),c&&(0,B.h)("div",{class:(0,Xe.default)("-cbwsdk-connect-content-update-app",e)},"Dont see a ",(0,B.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,B.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,B.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,B.h)(Uw.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:Jw(r),width:25,height:25}}),(0,B.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:Dw.LIB_VERSION}),(0,B.h)("input",{type:"hidden",value:s})),(0,B.h)(a,{theme:e}),!t.isConnected&&(0,B.h)("div",{"data-testid":"connecting-spinner",class:(0,Xe.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,B.h)(qw.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,B.h)("p",null,"Connecting...")))))}St.ConnectContent=Qw;function gf({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,B.h)("div",{onClick:s,class:(0,Xe.default)("-cbwsdk-connect-item",i,{selected:n})},(0,B.h)("div",null,(0,B.h)("img",{src:r,alt:t})),(0,B.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,B.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,B.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}St.ConnectItem=gf;function bf({theme:t}){return(0,B.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,B.h)("li",{class:(0,Xe.default)("-cbwsdk-wallet-steps-item",t)},(0,B.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,B.h)("li",{class:(0,Xe.default)("-cbwsdk-wallet-steps-item",t)},(0,B.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,B.h)("span",null,"Tap ",(0,B.h)("strong",null,"Scan")," "),(0,B.h)("span",{class:(0,Xe.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,B.h)(pf.QRCodeIcon,{fill:Oo(t)})))))}St.CoinbaseWalletSteps=bf;function mf({theme:t}){return(0,B.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,B.h)("li",{class:(0,Xe.default)("-cbwsdk-wallet-steps-item",t)},(0,B.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,B.h)("li",{class:(0,Xe.default)("-cbwsdk-wallet-steps-item",t)},(0,B.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,B.h)("span",null,"Tap ",(0,B.h)("strong",null,"More")),(0,B.h)("span",{class:(0,Xe.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,B.h)(zw.StatusDotIcon,{fill:Oo(t)})),(0,B.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,B.h)("strong",null,"Scan")),(0,B.h)("span",{class:(0,Xe.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,B.h)(pf.QRCodeIcon,{fill:Oo(t)})))))}St.CoinbaseAppSteps=mf;var bs={},ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.ArrowLeftIcon=void 0;const Ou=Ue;function Zw(t){return(0,Ou.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ou.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}ms.ArrowLeftIcon=Zw;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.LaptopIcon=void 0;const io=Ue;function Yw(t){return(0,io.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,io.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,io.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}ys.LaptopIcon=Yw;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.SafeIcon=void 0;const Tu=Ue;function Kw(t){return(0,Tu.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Tu.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}vs.SafeIcon=Kw;var La={};Object.defineProperty(La,"__esModule",{value:!0});La.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var yf=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bs,"__esModule",{value:!0});bs.TryExtensionContent=void 0;const er=yf(ls),ye=Ue,so=Zn,Xw=ms,eS=ys,tS=vs,rS=yf(La);function nS({theme:t}){const[e,r]=(0,so.useState)(!1),n=(0,so.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,so.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,ye.h)("div",{class:(0,er.default)("-cbwsdk-try-extension",t)},(0,ye.h)("style",null,rS.default),(0,ye.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ye.h)("h3",{class:(0,er.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,ye.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,ye.h)("button",{class:(0,er.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,ye.h)("div",null,!e&&(0,ye.h)(Xw.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,ye.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ye.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,ye.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ye.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ye.h)("span",{class:(0,er.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,ye.h)(eS.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ye.h)("div",{class:(0,er.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,ye.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ye.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ye.h)("span",{class:(0,er.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,ye.h)(tS.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ye.h)("div",{class:(0,er.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}bs.TryExtensionContent=nS;var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var vf=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(us,"__esModule",{value:!0});us.ConnectDialog=void 0;const oo=vf(ls),tr=Ue,ao=Zn,iS=St,sS=bs,oS=vf(Pa),aS=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,ao.useState)(!e),[s,o]=(0,ao.useState)(!e);(0,ao.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,tr.h)("div",{class:(0,oo.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,tr.h)("style",null,oS.default),(0,tr.h)("div",{class:(0,oo.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,tr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,tr.h)("div",{class:(0,oo.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,tr.h)(iS.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,tr.h)(sS.TryExtensionContent,{theme:a}))))};us.ConnectDialog=aS;Object.defineProperty(ss,"__esModule",{value:!0});ss.LinkFlow=void 0;const co=Ue,Nu=cs,cS=us;class uS{constructor(e){this.extensionUI$=new Nu.BehaviorSubject({}),this.subscriptions=new Nu.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,co.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,co.render)((0,co.h)(cS.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}ss.LinkFlow=uS;var _f={},$a={};Object.defineProperty($a,"__esModule",{value:!0});$a.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=P&&P.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(ls),n=Ue,i=Zn,s=e($a),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(h){switch(h){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const d=this.nextItemKey++;return this.items.set(d,f),this.render(),()=>{this.items.delete(d),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,d])=>(0,n.h)(t.SnackbarInstance,Object.assign({},d,{key:f}))))),this.root)}}t.Snackbar=c;const u=h=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},h.children));t.SnackbarContainer=u;const l=({autoExpand:h,message:f,menuItems:d,appSrc:b})=>{const[x,w]=(0,i.useState)(!0),[v,S]=(0,i.useState)(h??!1);(0,i.useEffect)(()=>{const T=[window.setTimeout(()=>{w(!1)},1),window.setTimeout(()=>{S(!0)},1e4)];return()=>{T.forEach(window.clearTimeout)}});const I=()=>{S(!v)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",x&&"-cbwsdk-snackbar-instance-hidden",v&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:I},(0,n.h)("img",{src:a(b),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,n.h)("div",{class:"-gear-container"},!v&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),d&&d.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},d.map((T,A)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",T.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:T.onClick,key:A},(0,n.h)("svg",{width:T.svgWidth,height:T.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":T.defaultFillRule,"clip-rule":T.defaultClipRule,d:T.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",T.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},T.info)))))};t.SnackbarInstance=l})(_f);var _s={},ja={};Object.defineProperty(ja,"__esModule",{value:!0});ja.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var lS=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_s,"__esModule",{value:!0});_s.injectCssReset=void 0;const hS=lS(ja);function fS(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(hS.default)),document.documentElement.appendChild(t)}_s.injectCssReset=fS;Object.defineProperty(is,"__esModule",{value:!0});is.WalletSDKUI=void 0;const dS=ss,pS=_f,gS=_s;class bS{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new pS.Snackbar({darkMode:e.darkMode}),this.linkFlow=new dS.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,gS.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}is.WalletSDKUI=bS;var ws={},Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});var xr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(xr||(xr={}));function wf(t,e,r){if(!r||typeof r.value!==xr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:xr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:xr.boolTrue,writable:xr.boolTrue}),n}}}Ss.bind=wf;Ss.default=wf;function Sf(t){return function(r){return r.lift(new mS(t))}}var mS=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new yS(e,this.durationSelector))},t}(),yS=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=ge(n,new de(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(pe);function vS(t,e){return e===void 0&&(e=De),Sf(function(){return tf(t,e)})}function _S(t){return function(r){return r.lift(new wS(t))}}var wS=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new SS(e,this.closingNotifier))},t}(),SS=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(ge(n,new de(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(pe);function ES(t,e){return e===void 0&&(e=null),function(n){return n.lift(new CS(t,e))}}var CS=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=IS:this.subscriberClass=RS}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),IS=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}($),RS=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(r),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}($);function kS(t){var e=arguments.length,r=De;ze(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new MS(t,n,i,r))}}var MS=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new AS(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),xS=function(){function t(){this.buffer=[]}return t}(),AS=function(t){_(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(Lu,n,u))}else{var l={subscriber:a,context:c},h={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(Ef,n,l)),a.add(o.schedule(OS,i,h))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Lu,i,s))}},e.prototype.openContext=function(){var r=new xS;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}($);function Lu(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function OS(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(Ef,r,{subscriber:n,context:s})),o.schedule(t,e))}function Ef(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function TS(t,e){return function(n){return n.lift(new NS(t,e))}}var NS=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new LS(e,this.openings,this.closingSelector))},t}(),LS=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Ot(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new fe,o={buffer:i,subscription:s};n.push(o);var a=Ot(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(_r);function PS(t){return function(e){return e.lift(new $S(t))}}var $S=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new jS(e,this.closingSelector))},t}(),jS=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new fe,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(ge(i,new de(this))),this.subscribing=!1},e}(pe);function DS(t){return function(r){var n=new FS(t),i=r.lift(n);return n.caught=i}}var FS=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new BS(e,this.selector,this.caught))},t}(),BS=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new de(this);this.add(i);var s=ge(n,i);s!==i&&this.add(s)}},e}(pe);function VS(t){return function(e){return e.lift(new Ea(t))}}function HS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&je(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Nt([n].concat(t)),new Ea(r))}}function WS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(xn.apply(void 0,[r].concat(t)))}}function Cf(t,e){return pr(t,e,1)}function zS(t,e){return Cf(function(){return t},e)}function US(t){return function(e){return e.lift(new qS(t,e))}}var qS=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new GS(e,this.predicate,this.source))},t}(),GS=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}($);function JS(t){return function(e){return e.lift(new QS(t))}}var QS=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new ZS(e,this.durationSelector))},t}(),ZS=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=ge(n,new de(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(pe);function YS(t,e){return e===void 0&&(e=De),function(r){return r.lift(new KS(t,e))}}var KS=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new XS(e,this.dueTime,this.scheduler))},t}(),XS=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(eE,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}($);function eE(t){t.debouncedNext()}function Yn(t){return t===void 0&&(t=null),function(e){return e.lift(new tE(t))}}var tE=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new rE(e,this.defaultValue))},t}(),rE=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}($);function If(t){return t instanceof Date&&!isNaN(+t)}function nE(t,e){e===void 0&&(e=De);var r=If(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new iE(n,e))}}var iE=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new sE(e,this.delay,this.scheduler))},t}(),sE=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new oE(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(At.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(At.createComplete()),this.unsubscribe()},e}($),oE=function(){function t(e,r){this.time=e,this.notification=r}return t}();function aE(t,e){return e?function(r){return new uE(r,e).lift(new Pu(t))}:function(r){return r.lift(new Pu(t))}}var Pu=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new cE(e,this.delayDurationSelector))},t}(),cE=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Ot(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(_r),uE=function(t){_(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new lE(r,this.source))},e}(G),lE=function(t){_(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}($);function hE(){return function(e){return e.lift(new fE)}}var fE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new dE(e))},t}(),dE=function(t){_(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}($);function pE(t,e){return function(r){return r.lift(new gE(t,e))}}var gE=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new bE(e,this.keySelector,this.flushes))},t}(),bE=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(ge(i,new de(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(pe);function Rf(t,e){return function(r){return r.lift(new mE(t,e))}}var mE=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new yE(e,this.compare,this.keySelector))},t}(),yE=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}($);function vE(t,e){return Rf(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Es(t){return t===void 0&&(t=SE),function(e){return e.lift(new _E(t))}}var _E=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new wE(e,this.errorFactory))},t}(),wE=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}($);function SE(){return new Qn}function Da(t){return function(e){return t===0?rn():e.lift(new EE(t))}}var EE=function(){function t(e){if(this.total=e,this.total<0)throw new Wr}return t.prototype.call=function(e,r){return r.subscribe(new CE(e,this.total))},t}(),CE=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}($);function IE(t,e){if(t<0)throw new Wr;var r=arguments.length>=2;return function(n){return n.pipe(Yt(function(i,s){return s===t}),Da(1),r?Yn(e):Es(function(){return new Wr}))}}function RE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return xn(r,as.apply(void 0,t))}}function kE(t,e){return function(r){return r.lift(new ME(t,e,r))}}var ME=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new xE(e,this.predicate,this.thisArg,this.source))},t}(),xE=function(t){_(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}($);function AE(){return function(t){return t.lift(new OE)}}var OE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new TE(e))},t}(),TE=function(t){_(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(ge(r,new de(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(pe);function kf(t,e){return e?function(r){return r.pipe(kf(function(n,i){return Nt(t(n,i)).pipe(rt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new NE(t))}}var NE=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new LE(e,this.project))},t}(),LE=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new de(this),i=this.destination;i.add(n);var s=ge(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(pe);function PE(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new $E(t,e,r))}}var $E=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new jE(e,this.project,this.concurrent,this.scheduler))},t}(),jE=function(t){_(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(ge(r,new de(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(pe);function DE(t){return function(e){return e.lift(new FE(t))}}var FE=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new BE(e,this.callback))},t}(),BE=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new fe(n)),i}return e}($);function VE(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Mf(t,r,!1,e))}}var Mf=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new HE(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),HE=function(t){_(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}($);function WE(t,e){return function(r){return r.lift(new Mf(t,r,!0,e))}}function zE(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Yt(function(i,s){return t(i,s,n)}):Qt,Da(1),r?Yn(e):Es(function(){return new Qn}))}}function UE(){return function(e){return e.lift(new qE)}}var qE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new GE(e))},t}(),GE=function(t){_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}($);function JE(){return function(t){return t.lift(new QE)}}var QE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new ZE(e))},t}(),ZE=function(t){_(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}($);function Ai(t){return function(r){return t===0?rn():r.lift(new YE(t))}}var YE=function(){function t(e){if(this.total=e,this.total<0)throw new Wr}return t.prototype.call=function(e,r){return r.subscribe(new KE(e,this.total))},t}(),KE=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}($);function XE(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Yt(function(i,s){return t(i,s,n)}):Qt,Ai(1),r?Yn(e):Es(function(){return new Qn}))}}function e2(t){return function(e){return e.lift(new t2(t))}}var t2=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new r2(e,this.value))},t}(),r2=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}($);function n2(){return function(e){return e.lift(new i2)}}var i2=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new s2(e))},t}(),s2=function(t){_(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(At.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(At.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(At.createComplete()),r.complete()},e}($);function Oi(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new o2(t,e,r))}}var o2=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new a2(e,this.accumulator,this.seed,this.hasSeed))},t}(),a2=function(t){_(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}($);function Cs(t,e){return arguments.length>=2?function(n){return Co(Oi(t,e),Ai(1),Yn(e))(n)}:function(n){return Co(Oi(function(i,s,o){return t(i,s,o+1)}),Ai(1))(n)}}function c2(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Cs(e)}function u2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Yh.apply(void 0,[r].concat(t)))}}function l2(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?pr(function(){return t},e,r):(typeof e=="number"&&(r=e),pr(function(){return t},r))}function h2(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new f2(t,e,r))}}var f2=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new d2(e,this.accumulator,this.seed,this.concurrent))},t}(),d2=function(t){_(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new de(this),i=this.destination;i.add(n);var s=ge(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(pe);function p2(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Cs(e)}function gr(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new g2(i,e));var s=Object.create(n,q1);return s.source=n,s.subjectFactory=i,s}}var g2=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function b2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&je(t[0])&&(t=t[0]),function(r){return r.lift(new m2(t))}}var m2=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new y2(e,this.nextSources))},t}(),y2=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new de(this),i=this.destination;i.add(n);var s=ge(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(pe);function v2(){return function(t){return t.lift(new _2)}}var _2=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new w2(e))},t}(),w2=function(t){_(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}($);function S2(t,e){return function(r){return[Yt(t,e)(r),Yt(Xh(t,e))(r)]}}function E2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return rt(C2(t,r))(n)}}function C2(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function I2(t){return t?gr(function(){return new Ie},t):gr(new Ie)}function R2(t){return function(e){return gr(new Th(t))(e)}}function k2(){return function(t){return gr(new nn)(t)}}function M2(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Sa(t,e,n);return function(o){return gr(function(){return s},i)(o)}}function x2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&je(t[0])&&(t=t[0]),n.lift.call(ef.apply(void 0,[n].concat(t)))}}function A2(t){return t===void 0&&(t=-1),function(e){return t===0?rn():t<0?e.lift(new $u(-1,e)):e.lift(new $u(t-1,e))}}var $u=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new O2(e,this.count,this.source))},t}(),O2=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}($);function T2(t){return function(e){return e.lift(new N2(t))}}var N2=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new L2(e,this.notifier,r))},t}(),L2=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Ie;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=ge(r,new de(this))},e}(pe);function P2(t){return t===void 0&&(t=-1),function(e){return e.lift(new $2(t,e))}}var $2=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new j2(e,this.count,this.source))},t}(),j2=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}($);function D2(t){return function(e){return e.lift(new F2(t,e))}}var F2=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new B2(e,this.notifier,this.source))},t}(),B2=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Ie;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=ge(i,new de(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(pe);function V2(t){return function(e){return e.lift(new H2(t))}}var H2=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new W2(e),i=r.subscribe(n);return i.add(ge(this.notifier,new de(n))),i},t}(),W2=function(t){_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(pe);function z2(t,e){return e===void 0&&(e=De),function(r){return r.lift(new U2(t,e))}}var U2=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new q2(e,this.period,this.scheduler))},t}(),q2=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(G2,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}($);function G2(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function J2(t,e){return function(r){return r.lift(new Q2(t,e))}}var Q2=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new Z2(e,this.compareTo,this.comparator))},t}(),Z2=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new Y2(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}($),Y2=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}($);function K2(){return new Ie}function X2(){return function(t){return va()(gr(K2)(t))}}function e3(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(t3(n))}}function t3(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,u,l=!1,h=!1;return function(d){c++;var b;!a||l?(l=!1,a=new Sa(r,i,o),b=a.subscribe(this),u=d.subscribe({next:function(x){a.next(x)},error:function(x){l=!0,a.error(x)},complete:function(){h=!0,u=void 0,a.complete()}}),h&&(u=void 0)):b=a.subscribe(this),this.add(function(){c--,b.unsubscribe(),b=void 0,u&&!h&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function r3(t){return function(e){return e.lift(new n3(t,e))}}var n3=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new i3(e,this.predicate,this.source))},t}(),i3=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Qn)},e}($);function s3(t){return function(e){return e.lift(new o3(t))}}var o3=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new a3(e,this.total))},t}(),a3=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}($);function c3(t){return function(e){return e.lift(new u3(t))}}var u3=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new Wr}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new $(e)):r.subscribe(new l3(e,this._skipCount))},t}(),l3=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}($);function h3(t){return function(e){return e.lift(new f3(t))}}var f3=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new d3(e,this.notifier))},t}(),d3=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new de(i);i.add(s),i.innerSubscription=s;var o=ge(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(pe);function p3(t){return function(e){return e.lift(new g3(t))}}var g3=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new b3(e,this.predicate))},t}(),b3=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}($);function m3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return ze(r)?(t.pop(),function(n){return xn(t,n,r)}):function(n){return xn(t,n)}}var y3=function(t){_(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=gi);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!zr(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=gi),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=gi),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(G);function v3(t,e){return e===void 0&&(e=0),function(n){return n.lift(new _3(t,e))}}var _3=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new y3(r,this.delay,this.scheduler).subscribe(e)},t}();function An(t,e){return typeof e=="function"?function(r){return r.pipe(An(function(n,i){return Nt(t(n,i)).pipe(rt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new w3(t))}}var w3=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new S3(e,this.project))},t}(),S3=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new de(this),s=this.destination;s.add(i),this.innerSubscription=ge(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(pe);function E3(){return An(Qt)}function C3(t,e){return e?An(function(){return t},e):An(function(){return t})}function I3(t){return function(e){return e.lift(new R3(t))}}var R3=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new k3(e),i=ge(this.notifier,new de(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),k3=function(t){_(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(pe);function M3(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new x3(t,e))}}var x3=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new A3(e,this.predicate,this.inclusive))},t}(),A3=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}($);function O3(t,e,r){return function(i){return i.lift(new T3(t,e,r))}}var T3=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new N3(e,this.nextOrObserver,this.error,this.complete))},t}(),N3=function(t){_(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=mt,o._tapError=mt,o._tapComplete=mt,o._tapError=i||mt,o._tapComplete=s||mt,Vr(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||mt,o._tapError=n.error||mt,o._tapComplete=n.complete||mt),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}($),xf={leading:!0,trailing:!1};function L3(t,e){return e===void 0&&(e=xf),function(r){return r.lift(new P3(t,!!e.leading,!!e.trailing))}}var P3=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new $3(e,this.durationSelector,this.leading,this.trailing))},t}(),$3=function(t){_(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=ge(n,new de(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(pe);function j3(t,e,r){return e===void 0&&(e=De),r===void 0&&(r=xf),function(n){return n.lift(new D3(t,e,r.leading,r.trailing))}}var D3=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new F3(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),F3=function(t){_(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(B3,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}($);function B3(t){var e=t.subscriber;e.clearThrottle()}function V3(t){return t===void 0&&(t=De),function(e){return Ia(function(){return e.pipe(Oi(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),rt(function(r){var n=r.current,i=r.last,s=r.value;return new H3(s,n-i)}))})}}var H3=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Af(t,e,r){return r===void 0&&(r=De),function(n){var i=If(t),s=i?+t-r.now():Math.abs(t);return n.lift(new W3(s,i,e,r))}}var W3=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new z3(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),z3=function(t){_(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(ge(n,new de(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(pe);function U3(t,e){return e===void 0&&(e=De),Af(t,wa(new Vh),e)}function q3(t){return t===void 0&&(t=De),rt(function(e){return new G3(e,t.now())})}var G3=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function J3(t,e,r){return r===0?[e]:(t.push(e),t)}function Q3(){return Cs(J3,[])}function Z3(t){return function(r){return r.lift(new Y3(t))}}var Y3=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new K3(e),i=r.subscribe(n);return i.closed||n.add(ge(this.windowBoundaries,new de(n))),i},t}(),K3=function(t){_(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Ie,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Ie;n.next(i)},e}(pe);function X3(t,e){return e===void 0&&(e=0),function(n){return n.lift(new e4(t,e))}}var e4=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new t4(e,this.windowSize,this.startWindowEvery))},t}(),t4=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new Ie],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var u=this.count-s+1;if(u>=0&&u%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var l=new Ie;o.push(l),i.next(l)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}($);function r4(t){var e=De,r=null,n=Number.POSITIVE_INFINITY;return ze(arguments[3])&&(e=arguments[3]),ze(arguments[2])?e=arguments[2]:zr(arguments[2])&&(n=Number(arguments[2])),ze(arguments[1])?e=arguments[1]:zr(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new n4(t,r,n,e))}}var n4=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new s4(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),i4=function(t){_(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Ie),s4=function(t){_(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Of,n,u)),a.add(o.schedule(a4,i,l))}else{var h={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(o4,n,h))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new i4;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}($);function o4(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function a4(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(Of,e,c),o.add(a.subscription),o.schedule(t,i)}function Of(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function c4(t,e){return function(r){return r.lift(new u4(t,e))}}var u4=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new l4(e,this.openings,this.closingSelector))},t}(),l4=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Ot(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(d){return this.error(d)}var u=new Ie,l=new fe,h={window:u,subscription:l};this.contexts.push(h);var f=Ot(this,a,h);f.closed?this.closeWindow(this.contexts.length-1):(f.context=h,l.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(_r);function h4(t){return function(r){return r.lift(new f4(t))}}var f4=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new d4(e,this.closingSelector))},t}(),d4=function(t){_(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Ie;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Ot(this,s))},e}(_r);function p4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new g4(i,n))}}var g4=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new b4(e,this.observables,this.project))},t}(),b4=function(t){_(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Ot(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(_r);function m4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(rf.apply(void 0,[n].concat(t)))}}function y4(t){return function(e){return e.lift(new nf(t))}}const v4=Object.freeze(Object.defineProperty({__proto__:null,audit:Sf,auditTime:vS,buffer:_S,bufferCount:ES,bufferTime:kS,bufferToggle:TS,bufferWhen:PS,catchError:DS,combineAll:VS,combineLatest:HS,concat:WS,concatAll:Gh,concatMap:Cf,concatMapTo:zS,count:US,debounce:JS,debounceTime:YS,defaultIfEmpty:Yn,delay:nE,delayWhen:aE,dematerialize:hE,distinct:pE,distinctUntilChanged:Rf,distinctUntilKeyChanged:vE,elementAt:IE,endWith:RE,every:kE,exhaust:AE,exhaustMap:kf,expand:PE,filter:Yt,finalize:DE,find:VE,findIndex:WE,first:zE,flatMap:B_,groupBy:J1,ignoreElements:UE,isEmpty:JE,last:XE,map:rt,mapTo:e2,materialize:n2,max:c2,merge:u2,mergeAll:Ca,mergeMap:pr,mergeMapTo:l2,mergeScan:h2,min:p2,multicast:gr,observeOn:i_,onErrorResumeNext:b2,pairwise:v2,partition:S2,pluck:E2,publish:I2,publishBehavior:R2,publishLast:k2,publishReplay:M2,race:x2,reduce:Cs,refCount:va,repeat:A2,repeatWhen:T2,retry:P2,retryWhen:D2,sample:V2,sampleTime:z2,scan:Oi,sequenceEqual:J2,share:X2,shareReplay:e3,single:r3,skip:s3,skipLast:c3,skipUntil:h3,skipWhile:p3,startWith:m3,subscribeOn:v3,switchAll:E3,switchMap:An,switchMapTo:C3,take:Da,takeLast:Ai,takeUntil:I3,takeWhile:M3,tap:O3,throttle:L3,throttleTime:j3,throwIfEmpty:Es,timeInterval:V3,timeout:U3,timeoutWith:Af,timestamp:q3,toArray:Q3,window:Z3,windowCount:X3,windowTime:r4,windowToggle:c4,windowWhen:h4,withLatestFrom:p4,zip:m4,zipAll:y4},Symbol.toStringTag,{value:"Module"})),Fa=Jr(v4);var Is={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.ClientMessagePublishEvent=Ke.ClientMessageSetSessionConfig=Ke.ClientMessageGetSessionConfig=Ke.ClientMessageIsLinked=Ke.ClientMessageHostSession=void 0;function _4(t){return Object.assign({type:"HostSession"},t)}Ke.ClientMessageHostSession=_4;function w4(t){return Object.assign({type:"IsLinked"},t)}Ke.ClientMessageIsLinked=w4;function S4(t){return Object.assign({type:"GetSessionConfig"},t)}Ke.ClientMessageGetSessionConfig=S4;function E4(t){return Object.assign({type:"SetSessionConfig"},t)}Ke.ClientMessageSetSessionConfig=E4;function C4(t){return Object.assign({type:"PublishEvent"},t)}Ke.ClientMessagePublishEvent=C4;var Tf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=cs,r=Fa;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(Tf);var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.isServerMessageFail=void 0;function I4(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}Rs.isServerMessageFail=I4;Object.defineProperty(Is,"__esModule",{value:!0});Is.WalletSDKConnection=void 0;const it=cs,X=Fa,fn=Zr,Ir=Nn,dn=Ke,pn=Qr,hi=Tf,uo=Rs,ju=1e4,R4=6e4;class k4{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new it.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Ir.IntNumber)(1),this.connectedSubject=new it.BehaviorSubject(!1),this.linkedSubject=new it.BehaviorSubject(!1),this.sessionConfigSubject=new it.ReplaySubject(1);const o=new hi.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,X.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(pn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:fn.Session.hash(e)})}),(0,X.skip)(1),(0,X.filter)(a=>a===hi.ConnectionState.DISCONNECTED&&!this.destroyed),(0,X.delay)(5e3),(0,X.filter)(a=>!this.destroyed),(0,X.flatMap)(a=>o.connect()),(0,X.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,X.skip)(2),(0,X.switchMap)(a=>(0,it.iif)(()=>a===hi.ConnectionState.CONNECTED,this.authenticate().pipe((0,X.tap)(c=>this.sendIsLinked()),(0,X.tap)(c=>this.sendGetSessionConfig()),(0,X.map)(c=>!0)),(0,it.of)(!1))),(0,X.distinctUntilChanged)(),(0,X.catchError)(a=>(0,it.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,X.skip)(1),(0,X.switchMap)(a=>(0,it.iif)(()=>a===hi.ConnectionState.CONNECTED,(0,it.timer)(0,ju)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,X.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,X.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(pn.EVENTS.LINKED,{sessionIdHash:fn.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,X.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(pn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:fn.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(pn.EVENTS.STARTED_CONNECTING,{sessionIdHash:fn.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(pn.EVENTS.DISCONNECTED,{sessionIdHash:fn.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,X.filter)(e=>e),(0,X.take)(1),(0,X.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,X.filter)(e=>e),(0,X.take)(1),(0,X.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,X.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,X.map)(e=>e))}setSessionMetadata(e,r){const n=(0,dn.ClientMessageSetSessionConfig)({id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,X.flatMap)(i=>this.makeRequest(n)),(0,X.map)(i=>{if((0,uo.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,dn.ClientMessagePublishEvent)({id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,X.flatMap)(s=>this.makeRequest(i)),(0,X.map)(s=>{if((0,uo.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>ju*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=R4){const n=e.id;try{this.sendData(e)}catch(i){return(0,it.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,X.timeoutWith)(r,(0,it.throwError)(new Error(`request ${n} timed out`))),(0,X.filter)(i=>i.id===n),(0,X.take)(1))}authenticate(){const e=(0,dn.ClientMessageHostSession)({id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,X.map)(r=>{if((0,uo.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,dn.ClientMessageIsLinked)({id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,dn.ClientMessageGetSessionConfig)({id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}Is.WalletSDKConnection=k4;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.decrypt=qr.encrypt=void 0;const Ti=L;async function M4(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Ti.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),l=new Uint8Array(c),h=new Uint8Array([...r,...u,...l]);return(0,Ti.uint8ArrayToHex)(h)}qr.encrypt=M4;function x4(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,Ti.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,Ti.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const h=await window.crypto.subtle.decrypt(l,i,u),f=new TextDecoder;r(f.decode(h))}catch(h){n(h)}})()})}qr.decrypt=x4;var ks={},Ms={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Ms);Object.defineProperty(ks,"__esModule",{value:!0});ks.Web3RequestCanceledMessage=void 0;const A4=Ms;function O4(t){return{type:A4.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}ks.Web3RequestCanceledMessage=O4;var xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.Web3RequestMessage=void 0;const T4=Ms;function N4(t){return Object.assign({type:T4.RelayMessageType.WEB3_REQUEST},t)}xs.Web3RequestMessage=N4;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.isWeb3ResponseMessage=Gr.Web3ResponseMessage=void 0;const Nf=Ms;function L4(t){return Object.assign({type:Nf.RelayMessageType.WEB3_RESPONSE},t)}Gr.Web3ResponseMessage=L4;function P4(t){return t&&t.type===Nf.RelayMessageType.WEB3_RESPONSE}Gr.isWeb3ResponseMessage=P4;var $4=P&&P.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),j4=P&&P.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lf=P&&P.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},D4=P&&P.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$4(e,t,r);return j4(e,t),e},F4=P&&P.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ws,"__esModule",{value:!0});ws.WalletSDKRelay=void 0;const Pf=F4(Ss),rr=cs,_e=Fa,Te=Qr,B4=Is,Rr=On,V4=Nn,ce=L,jt=D4(qr),Dt=Zr,fi=ct,Re=ji,H4=ks,W4=xs,Ze=ae,Be=Gr;class at extends fi.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new rr.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new rr.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Dt.Session.load(this.storage)||new Dt.Session(this.storage).save(),r=new B4.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,_e.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,_e.skip)(1),(0,_e.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(fi.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Te.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,_e.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,_e.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,_e.mergeMap)(i=>jt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(fi.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,_e.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,_e.mergeMap)(i=>jt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(fi.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,_e.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,_e.mergeMap)(i=>(0,rr.zip)(jt.decrypt(i.metadata.ChainId,e.secret),jt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,_e.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,_e.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,_e.mergeMap)(i=>jt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),at.accountRequestCallbackIds.size>0&&(Array.from(at.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,Be.Web3ResponseMessage)({id:s,response:(0,Ze.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),at.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,_e.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,_e.mergeMap)(i=>jt.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,_e.timeout)(1e3),(0,_e.catchError)(e=>(0,rr.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Te.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Te.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Dt.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Dt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new rr.Subscription;const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Te.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Re.Web3Method.signEthereumMessage,params:{message:(0,ce.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Re.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,ce.hexStringFromBuffer)(e,!0),signature:(0,ce.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Re.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ce.bigIntStringFromBN)(e.weiValue),data:(0,ce.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ce.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,ce.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,ce.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,ce.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Re.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ce.bigIntStringFromBN)(e.weiValue),data:(0,ce.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ce.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,ce.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,ce.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,ce.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Re.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,ce.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Re.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,ce.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Re.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,ce.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,W4.Web3RequestMessage)({id:e,request:r}),s=Dt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Te.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Dt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Te.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Dt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,Be.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,H4.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new rr.Observable(s=>{jt.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,_e.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,rr.from)(jt.decrypt(e.data,this.session.secret)).pipe((0,_e.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,Be.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Te.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Te.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Ze.isRequestEthereumAccountsResponse)(n)){at.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),at.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n==null?void 0:n.message)!==null&&s!==void 0?s:(0,Rr.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,Be.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Re.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,ce.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,ce.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,Be.Web3ResponseMessage)({id:r,response:(0,Ze.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=Rr.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}at.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Re.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,ce.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const c=l=>{this.handleWeb3ResponseMessage((0,Be.Web3ResponseMessage)({id:n,response:(0,Ze.SelectProviderResponse)(V4.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,Be.Web3ResponseMessage)({id:n,response:(0,Ze.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:Re.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const u=(0,ce.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const h=new Promise((f,d)=>{this.relayEventManager.callbacks.set(u,w=>{if(c==null||c(),w.errorMessage)return d(new Error(w.errorMessage));f(w)});const b=w=>{this.handleWeb3ResponseMessage((0,Be.Web3ResponseMessage)({id:u,response:(0,Ze.WatchAssetReponse)(!1)}))},x=()=>{this.handleWeb3ResponseMessage((0,Be.Web3ResponseMessage)({id:u,response:(0,Ze.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:x,onCancel:b,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:h}}addEthereumChain(e,r,n,i,s,o){const a={method:Re.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const u=(0,ce.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((f,d)=>{this.relayEventManager.callbacks.set(u,w=>{if(c==null||c(),w.errorMessage)return d(new Error(w.errorMessage));f(w)});const b=w=>{this.handleWeb3ResponseMessage((0,Be.Web3ResponseMessage)({id:u,response:(0,Ze.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},x=w=>{this.handleWeb3ResponseMessage((0,Be.Web3ResponseMessage)({id:u,response:(0,Ze.AddEthereumChainResponse)({isApproved:!0,rpcUrl:w})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:b,onApprove:x,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,r){const n={method:Re.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,ce.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,h=>{if((0,Ze.isErrorResponse)(h)&&h.errorCode)return c(Rr.standardErrors.provider.custom({code:h.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(h.errorMessage)return c(new Error(h.errorMessage));a(h)});const u=h=>{var f;if(h){const d=(f=(0,Rr.getErrorCode)(h))!==null&&f!==void 0?f:Rr.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,Re.Web3Method.switchEthereumChain,h instanceof Error?h:Rr.standardErrors.provider.unsupportedChain(e),d)}else this.handleWeb3ResponseMessage((0,Be.Web3ResponseMessage)({id:i,response:(0,Ze.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=h=>{this.handleWeb3ResponseMessage((0,Be.Web3ResponseMessage)({id:i,response:(0,Ze.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:h})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Dt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Be.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case Re.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Re.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Re.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Re.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}at.accountRequestCallbackIds=new Set;Lf([Pf.default],at.prototype,"resetAndReload",null);Lf([Pf.default],at.prototype,"handleIncomingEvent",null);ws.WalletSDKRelay=at;var As={};Object.defineProperty(As,"__esModule",{value:!0});As.WalletSDKRelayEventManager=void 0;const z4=L;class U4{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,z4.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}As.WalletSDKRelayEventManager=U4;const q4="@coinbase/wallet-sdk",G4="3.7.1",J4="Coinbase Wallet JavaScript SDK",Q4=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],Z4="dist/index.js",Y4="dist/index.d.ts",K4="https://github.com/coinbase/coinbase-wallet-sdk.git",X4="Coinbase, Inc.",eC="Apache-2.0",tC={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},rC={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},nC={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},iC={node:">= 10.0.0"},sC={name:q4,version:G4,description:J4,keywords:Q4,main:Z4,types:Y4,repository:K4,author:X4,license:eC,scripts:tC,dependencies:rC,devDependencies:nC,engines:iC};Object.defineProperty(En,"__esModule",{value:!0});En.CoinbaseWalletSDK=void 0;const oC=Li,aC=Pi,cC=Pr,uC=is,lC=ws,hC=As,fC=L,dC={}.LINK_API_URL||"https://www.walletlink.org",$f={}.SDK_VERSION||sC.version||"unknown";class Os{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||dC;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new uC.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new aC.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Os.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new hC.WalletSDKRelayEventManager,this._relay=new lC.WalletSDKRelay({linkAPIUrl:s,version:$f,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new cC.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,fC.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,oC.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}En.CoinbaseWalletSDK=Os;Os.VERSION=$f;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=En,r=Pr;var n=En;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Pr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(To);const pC=Wf(To),RC=zf({__proto__:null,default:pC},[To]);export{RC as i};
